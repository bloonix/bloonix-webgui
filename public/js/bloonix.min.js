(function(){"use strict";var e=function(){};e.cache=[];e.level="info";e.levelByName={debug:4,info:3,warning:2,error:1,fatal:0};e.debug=function(t){e.log("debug",t)};e.info=function(t){e.log("info",t)};e.warning=function(t){e.log("warning",t)};e.error=function(t){e.log("error",t)};e.fatal=function(t){e.log("fatal",t)};e.log=function(t,a){if(e.levelByName[t]<=e.levelByName[e.level]){console.log(t+": ",a)}if(e.levelByName[t]<3){if(!y.forceScreen&&y.objects.footerStats.Alerts){y.objects.footerStats.Alerts.css({"font-weight":"bold",color:"#ff0000"})}e.cache.push({level:t,message:a});if(e.cache.length>20){e.cache.shift()}}};var t=function(i){a.extend(this,i);this.requestDefaults={type:this.type||"post",contentType:"application/json; charset=utf-8",scriptCharset:"utf-8",dataType:"json",processData:false,async:true,error:function(){e.error("Failed to load data from server."+"Try it again and reload the site."+"Please contact an administrator if the request failed again.")}};a.extend(this.err,t.defaults.err);a.extend(this.ignoreErrors,t.defaults.ignoreErrors);a.extend(this.handleStatus,t.defaults.handleStatus);if(this.beforeSuccess===false&&t.defaults.beforeSuccess!==false){this.beforeSuccess=t.defaults.beforeSuccess}};t.defaults={beforeSuccess:false};t.xhrPool=[];t.prototype={token:false,tokenURL:"/token/csrf",beforeSuccess:false,handleStatus:{},ignoreErrors:{},err:{}};t.prototype.request=function(i){var s=this,n=i.success,r={},o={};delete i.ignoreErrors;a.extend(o,this.requestDefaults);a.extend(o,i);$.each(["redirectOnError"],function(e,t){if(o[t]!=undefined){r[t]=o[t];delete o[t]}});o.success=function(t){e.debug("response status: "+t.status);if(s.beforeSuccess!==false){s.beforeSuccess(t)}if(s.handleStatus[t.status]){s.handleStatus[t.status](t);return false}if(t.status==="ok"||s.ignoreErrors[t.status]===true){if(n!=undefined){n(t)}return false}e.error("request ("+o.url+"):");e.error(t);var i;if(s.err[t.status]){i=s.err[t.status]()}else if(t.data&&t.data.message){i=t.data.message}else{i=t.status}if(i){$("#content").html(a.create("div").addClass("info-err").html(i));throw new Error}};if(o.beforeSend==undefined){o.beforeSend=t.addXHRs}else{var c=o.beforeSend;o.beforeSend=function(e){t.addXHRs(e);c(e)}}if(o.complete==undefined){o.complete=t.removeXHRs}else{var l=o.complete;o.complete=function(e){t.removeXHRs(e);l(e)}}if(o.token===true){o.token=false;t.post({url:this.tokenURL,async:false,type:"get",success:function(e){if(o.data==undefined){o.data={}}o.data.token=e.data;t.post(o)}})}else{if(typeof o.data=="object"){o.data=a.toJSON(o.data)}if(o.data==undefined){o.type="get"}else{o.type="post"}e.info("request "+o.url);$.ajax(o)}};t.post=function(e){var a=new t;return a.request(e)};t.addXHRs=function(a){e.debug("begin add jqXHR, cur length "+t.xhrPool.length);t.xhrPool.push(a);e.debug("end add jqXHR, new length "+t.xhrPool.length)};t.removeXHRs=function(a){e.debug("begin remove jqXHR, cur length "+t.xhrPool.length);var i=t.xhrPool.indexOf(a);if(i>-1){t.xhrPool.splice(i,1)}e.debug("end remove jqXHR, new length "+t.xhrPool.length)};t.abortXHRs=function(){if(t.xhrPool.length>0){e.debug("begin abort jqXHR, cur length"+t.xhrPool.length);var a=t.xhrPool.shift().abort();t.abortXHRs();e.debug("end abort jqXHR, new length"+t.xhrPool.length)}};var a=function(){};a.escape=function(e){if(e==undefined){return""}if(typeof e=="number"){return e}e=e.replace(/&/g,"&amp;");e=e.replace(/</g,"&lt;");e=e.replace(/>/g,"&gt;");e=e.replace(/"/g,"&quot;");e=e.replace(/'/g,"&#39;");return e};a.replacePattern=function(e,t){if(/:[a-zA-Z_0-9]+/.test(e)){$.each(e.match(/(:[a-zA-Z_0-9]+)/g),function(a,i){var s=i.replace(/:/g,"");e=e.replace(i,t[s])})}return e};a.joinHashElements=function(e,t,a){var i,s=[];$.each(a,function(e,a){s.push(t[a])});return s.join(e)};a.extendArray=function(e,t){$.each(t,function(t,a){e.push(a)})};a.hexToRGB=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);var a=parseInt(t[1],16),i=parseInt(t[2],16),s=parseInt(t[3],16);return[a,i,s]};a.rgbToHex=function(e){if(e.substr(0,1)==="#"){return e}var t=/\((\d+),\s*(\d+),\s*(\d+)/i.exec(e),a=parseInt(t[2],10).toString(16),i=parseInt(t[3],10).toString(16),s=parseInt(t[4],10).toString(16);return"#"+((a.length==1?"0"+a:a)+(i.length==1?"0"+i:i)+(s.length==1?"0"+s:s))};a.objectSize=function(e){var t=0,a;for(a in e){t++}return t};a.create=function(e,t,a){return $(document.createElement(e),t,a)};a.genRandStr=function(e,t){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a="";if(e==undefined){e=30}for(var i=0;i<e;i++){a+=t.charAt(Math.floor(Math.random()*t.length))}return a};a.dump=function(e,t,i){var s;if(t==undefined){t="800px"}if(i==undefined){i="800px"}if($("#jsondump").length==0){s=a.create("pre").attr("id","jsondump").css({width:t,height:i,display:"inline-block",position:"fixed",top:"130px",right:"10px",padding:"10px",color:"#ffffff","background-color":"rgba(0,0,0,.8)",overflow:"scroll","z-index":1e3}).appendTo("body")}else{s=$("#jsondump")}s.html("Dump:<br/><br/>"+a.escape(JSON.stringify(e,null,"	"))+"<br/><br/>")};a.toJSON=function(e){return JSON.stringify(e)};a.secondsToString=function(e){var t=a.secondsToStringList(e);return t.join(":")};a.secondsToStringShortReadable=function(e){var t=a.secondsToStringList(e);var i=[];if(t[0]!="0"){i.push(t[0]+"d");i.push(t[1]+"h");i.push(t[2]+"m")}else if(t[1]!="0"){i.push(t[1]+"h");i.push(t[2]+"m")}else if(t[2]!="0"){i.push(t[2]+"m")}i.push(t[3]+"s");return i.join(", ")};a.secondsToStringReadable=function(e){var t=a.secondsToStringList(e);t[0]+=t[0]=="1"?" "+c.get("word.day"):" "+c.get("word.days");t[1]+=t[0]=="1"?" "+c.get("word.hour"):" "+c.get("word.hours");t[2]+=t[0]=="1"?" "+c.get("word.minute"):" "+c.get("word.minutes");t[3]+=t[0]=="1"?" "+c.get("word.second"):" "+c.get("word.seconds");return t.join(", ")};a.secondsToStringList=function(e){var t=0,a=0,i=0;if(e>=86400){i=Math.floor(e/86400);e=e%86400}if(e>=3600){a=Math.floor(e/3600);e=e%3600}if(e>=60){t=Math.floor(e/60);e=e%60}return[i,a,t,e]};a.secondsToFormValues=function(e,t){var a=[];$.each(e,function(e,i){var s,n;if(t!=undefined&&i==0){a.push({name:t,value:i});return true}if(i>=86400){n=i/86400;name=n==1?"day":"days"}else if(i>=3600){n=i/3600;name=n==1?"hour":"hours"}else if(i>=60){n=i/60;name=n==1?"minute":"minutes"}else{n=i;name=n==1?"second":"seconds"}a.push({name:n+" "+c.get("word."+name),value:i})});return a};a.extend=function(e,t){if(e==undefined){e={}}if(t){var a;for(a in t){e[a]=t[a]}}return e};a.append=function(e,t){if(e){var a,i={};for(a in e){i[a]=1}for(a in t){if(i[a]!=1){e[a]=t[a]}}}};a.filterEmptyValues=function(e){var t={};if(e){var a;for(a in e){if(s.empty(e[a])){t[a]=e[a]}}}return t};a.sort=function(e,t){var a=[],i=[],s={};$.each(e,function(e,i){a.push(i[t]);if(!s[i.key]){s[i.key]=[]}s[i.key].push(i)});$.each(a.sort(),function(e,t){$.each(s[t],function(e,t){i.push(t)})});return i};a.bytesToStr=function(e,t){var a="";if(t==undefined){t=1}if(e>=1.2089258196146292e24){e=e/1.2089258196146292e24;a="YB"}else if(e>=0x400000000000000000){e=e/0x400000000000000000;a="ZB"}else if(e>=0x1000000000000000){e=e/0x1000000000000000;a="EB"}else if(e>=0x4000000000000){e=e/0x4000000000000;a="PB"}else if(e>=1099511627776){e=e/1099511627776;a="TB"}else if(e>=1073741824){e=e/1073741824;a="GB"}else if(e>=1048576){e=e/1048576;a="MB"}else if(e>=1024){e=e/1024;a="KB"}return e.toFixed(t)+a};a.open=function(e,t,a){window.open(e,t,a)};a.syntaxHighlightJSON=function(e){return e.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var t="color:darkorange;";if(/^"/.test(e)){if(/:$/.test(e)){t="color:red"}else{t="color:green"}}else if(/true|false/.test(e)){t="color:blue"}else if(/null/.test(e)){t="color:magenta"}return'<span style="'+t+'">'+e+"</span>"})};a.escapeAndSyntaxHightlightJSON=function(e){e=JSON.stringify(e,null,"  ");e=e.replace(/</g,"&lt;");e=e.replace(/>/g,"&gt;");e=e.replace(/\\r/g,"");e=e.replace(/\\n/g,"<br/>");e=a.syntaxHighlightJSON(e);return e};a.clear=function(e){a.create("div").addClass("clear").appendTo(e)};a.linebreak=function(e){a.create("br").appendTo(e)};var i=function(){};var s=function(){};i.empty=function(e){if(e===undefined||e===false||e.toString().length===0){return true}return false};s.empty=function(e){if(i.empty(e)){return false}return true};var n=function(e){this.routes={routes:{}};a.extend(this,e)};n.prototype={beforeParse:function(){},afterParse:function(){},preCallback:function(){return true}};n.prototype.add=function(e,t){var a=e.split("/");var i=this.routes;$.each(a,function(e,t){var a=false;if(/^:/.test(t)){a=t.replace(/:/,"");t=":pattern"}if(i.routes[t]==undefined){i.routes[t]={routes:{}};if(a){i.routes[t].pattern=a}}i=i.routes[t]});i.route=e;i.callback=t};n.prototype.to=function(t,a){var i=this;if(this.preRoutingCallback){this.preRoutingCallback(t,a)}if(t==undefined){t=window.location.hash}else if(typeof t=="string"){window.location.hash=t}else{t=$(t).attr("href")}if(a==undefined){a={}}e.info("process request "+t);t=t.replace(/^\//,"");t=t.replace(/^#/,"");t=t.replace(/\/$/,"");t=t.split("/");e.info("search controller for path: "+t.join("/"));var s;if(t.length){s=this.routes;$.each(t,function(t,n){e.info("check path part: "+n);if(s.routes[n]){e.info("found path part: "+n);s=s.routes[n]}else if(s.routes[":pattern"]){e.info("found pattern part: "+n);s=s.routes[":pattern"];e.info("argument: "+s.pattern+"="+n);a[s.pattern]=n}else{e.info("route part does not match: "+n);s=i.__na__;a={};return false}})}else{s=this.__na__}if(!s.callback){s=this.__na__}this.afterParse(s.route,a);if(this.preCallback(s.route,a)){s.callback(a)}};n.prototype.setPreCallback=function(e){this.preCallback=e};n.prototype.setPreRoutingCallback=function(e){this.preRoutingCallback=e};n.prototype.defaultRoute=function(e,t){this.__na__={route:e,callback:t}};var r={en:{"site.wtrm.attr.url":"URL","info.update_success":"The update was successful!","site.help.doc.how-does-bloonix-checks-your-hosts-and-services":"Wie überwacht Bloonix Hosts und Services","schema.service.action.enable_notifications_multiple":"Enable notifications of the selected services","schema.user_chart.text.editor":"User chart editor","schema.host_template.attr.description":"Description","schema.user.desc.timezone":"Select the timezone of the user.","schema.host.text.templates_not_assigned":"Not assigned templates","word.yes":"yes","schema.timeperiod.text.settings":"Timeperiod settings","schema.plugin_stats.attr.description":"Description","schema.dependency.attr.host_id":"Host ID","schema.service.text.multiple_help":"<h4>This action requires to select at least one service.</h4>\nTo mark a single service just click on a row. If you want to mark multiple services\njust press and hold <i>CTRL</i> on your keyboard. If you press and hold <i>SHIFT</i>\nyou can mark a range of services.","text.report.availability.timeout":"Timeout","word.From":"From","text.from_now_to_2h":"From now + 2 hours","site.login.error":"Bad login! Try it again!","schema.chart.desc.charts":"<b>Select multiple charts with</b><br/><br/>\n<i>CTRL+click</i><br/>or<br/><i>SHIFT+click</i>","nav.main.dashboard":"DASHBOARD","site.login.request_success":"Your request was successful.<br/>\nAn administrator will contact you as soon as possible.","schema.contact.desc.company_id":"Select the company the contact belongs to.","schema.host.action.disable_notifications_multiple":"Disable notifications of the selected hosts","text.dashboard.user_chart":"Self created chart","schema.user.attr.phone":"Phone","schema.contactgroup.attr.id":"Contactgroup ID","schema.dependency.text.workflow_timezone":"Set the timezone for the timeslice","site.login.request_password":"Request a new password.","schema.service.attr.message":"Status information","schema.service.attr.sms_warnings":"Send WARNINGS per SMS","schema.group.text.create":"Create a new group","schema.host.desc.company_id":"Select the company the host belongs to.","schema.contact.text.delete":"Delete contact","schema.service.attr.last_sms":"Last notification per SMS","schema.host.attr.hw_product":"HW product","schema.host.desc.status":"The status of the host. Possible values are OK, INFO, WARNING, CRITICAL or UNKNOWN.","schema.host.attr.os_product":"OS product","schema.service.desc.fd_enabled":"This option enables or disables the flap detection. The flap detection is very useful to detect services that switches between OK and not OK in a very short time and when the counter of <i>attempt max</i> is never reached. The flap detection checkes how many times a service switched between different states in a given time. If the status switched to many times, then a notification will be triggered.","schema.timeslice.attr.timeslice":"Timeslice","info.last-year":"Last year","action.overview":"Overview","text.change_the_language":"Change the language","schema.dependency.text.workflow_to_host_status":"Select the status of the parent host that avoids a notification","schema.user_chart.text.add_metric":"Add metric","text.thresholds":"Thresholds","schema.plugin_stats.attr.statkey":"Key","site.wtrm.command.checkIfElementIsChecked":"Check if the radio button or checkbox <b>%s</b> is checked","text.last_180d":"Last 180 days","text.report.availability.h03":"03:00 - 03:59","site.wtrm.command.checkIfElementHasNotText":"Check if the element <b>%s</b> does <i>NOT</i> contain <b>%s</b>","schema.service.attr.last_check":"Last check","schema.host_template.attr.name":"Template name","nav.sub.contacts":"Contacts","text.report.availability.detailed_report_onclick":"Click on a service to get a detailed availabilty report.","schema.service.desc.multiple_check_type_locations":"Select at least 3 checkpoints:","word.Hosts":"Hosts","schema.contact.text.escalation_level_event.0":"permanent active","site.wtrm.attr.contentType":"Content-Type","schema.host.text.multiple_notification":"Enable or disable the notifications of multiple hosts","schema.host_downtime.text.title":"Scheduled downtimes for host %s","schema.sms_send.attr.message":"Message","schema.company.attr.city":"City","schema.service.desc.attempt_max":"This option controls when you gets a notification of services that are not in status OK. As example a value of 3 means that you get a notification first if the service check returns 3 times in a row a not OK status.","site.help.doc.host-variables":"Host Variablen","nav.sub.downtimes":"Scheduled downtimes","schema.dependency.text.workflow_timeslice":"Set the timeslice when the dependency is active","text.report.title.host_from_to":"Report for host <b>%s</b> from <b>%s</b> to <b>%s</b>","schema.group.text.delete":"Delete group","schema.dependency.attr.on_service_id":"Depends on service ID","schema.dependency.text.really_delete":"Do you really want to delete dependency <b>%s</b>?","schema.host.attr.sysinfo":"System information","schema.host.attr.location":"Location","schema.timeperiod.attr.id":"Timeperiod ID","schema.user.text.password_update":"Please enter a new password.","text.report.availability.AV-I":"Time slice in percent in which the service was in status INFO.","schema.contact.attr.name":"Name","site.wtrm.action.doUncheck":"Uncheck a <b>radio button</b> or <b>checkbox</b>","schema.user.attr.password_changed":"Password changed?","schema.timeslice.text.list":"Overview of all timeslices","text.report.availability.lt15":"Between 0 and 15 minutes","word.Language":"Language","schema.host.attr.os_manufacturer":"OS manufacturer","schema.user_chart.text.chart_metrics":"Chart metrics","site.wtrm.placeholder.contentType":"text/html","site.wtrm.command.checkUrl":"Check if the URL in the address bar is <b>%s</b>","err-701":"Incorrect password!","schema.company.text.list":"Overview of all companies","schema.host.info.notification_disabled":"Notifications are disabled of the host.","schema.event.attr.last_status":"Last status","nav.sub.notifications":"Notifications","site.wtrm.command.checkIfElementIsNotSelected":"Check if the value <b>%s</b> of the selectbox <b>%s</b> is <i>NOT</i> selected","schema.contact.text.timeperiod_type_send_only_mail":"Send only mail","schema.event.text.filter_message":"Filter message","site.wtrm.action.checkIfElementHasNotValue":"Check if an <b>input</b> field or <b>textarea has <i>NOT</i></b> a specified <b>value</b>","schema.service.attr.attempt_max":"Notify after X attempts","action.submit":"Submit","site.wtrm.attr.ms":"Milliseconds","err-500":"An internal error occured! Please contact the administrator!","schema.contactgroup.text.host_nonmembers":"Hosts in group","site.wtrm.attr.value":"Value","schema.contactgroup.text.service_members":"Services in contact group","schema.service.attr.fd_enabled":"Flap detection enabled","schema.host.desc.interval":"This is the check interval of all services of the host.","action.unselect":"Unselect","schema.host.desc.max_services":"Set the maximum number of services that can be configured for the host. 0 means unlimited.","schema.dependency.text.service":"Service","schema.service.desc.sms_ok":"This option enables or disables notifications if the service is in status OK.","err-705":"The new and the old password cannot be the same!","text.dashboard.reconfigure_dashlet":"Configure dashlet","schema.company.attr.active":"Active","action.remove":"Remove","site.wtrm.desc.html":"The inner HTML of an element you wish to check.","word.Seconds":"Seconds","schema.contactgroup.text.service_nonmembers":"Services not in contact group","schema.user.desc.comment":"This field can be used for internal comment about the user.","site.wtrm.action.checkIfElementHasText":"Check if an <b>element</b> contains <b>text</b> ","schema.hs_downtime.attr.timezone":"Timezone","schema.service.info.notification_disabled":"Notifications are disabled of the service.","text.from_now_to_8h":"From now + 8 hours","schema.service.desc.default_check_type_location":"Your service is checked from the following checkpoint:","site.help.doc.host-parameter":"Host Parameter im Detail","schema.service.attr.mail_hard_interval":"Notification interval for mails (hard)","nav.sub.contactgroups":"Contactgroups","action.refresh":"Refresh","info.no_chart_data":"There are no chart data available.","text.report.availability.h12":"12:00 - 12:59","site.wtrm.command.checkIfElementExists":"Check if the element <b>%s</b> exists","schema.chart.text.chart_type":"Select the chart type","text.report.availability.EV-U":"Number of events with status UNKNOWN.","schema.service.attr.id":"Service ID","bool.yesno.1":"yes","text.report.availability.EV-LT180":"Number of events with a status duration less than 3 hours.","schema.service.desc.default_check_type":"A default check has a pre-defined checkpoint.\nFrom this checkpoint your service is checked.","schema.host.attr.interval":"Interval","schema.service.text.multiple_downtimes":"Schedule a downtime for multiple services","site.help.doc.service-parameter":"Service Parameter im Detail","text.services":"services","schema.service.desc.interval":"This is the check interval of the service. If no value is set, then the interval of the host is inherited.","site.wtrm.desc.element":"The element you want to select. As example: #id, .class, name<br/><br/>\nIt's also possible to search for tags and attributes. Example:<br/><br/>\n&lt;a&gt; - get the first 'a' tag<br/><br/>\n&lt;a[5]&gt; - get the fifth 'a' tag<br/><br/>\n&lt;a a=\"hello\" b=\"world\"&gt; - search for a 'a' tag with the specified attributes and values","schema.user_chart.attr.yaxis_label":"Y-axis label","action.view":"View","word.Minutes":"Minutes","text.option_examples":"Option examples","schema.host_template.text.setting":"Template settings","schema.contact.text.create":"Create a new contact","schema.chart.attr.from":"From","text.last_90d":"Last 90 days","text.report.availability.EV-LT30":"Number of events with a status duration less than 30 minutes.","schema.dependency.text.for_node":"Dependencies for node <b>%s</b>","text.report.availability.Events":"Number of total events.","schema.user.desc.password_changed":"Set the value to <i>no</i> if you want to force the user to change the password after the first login.","schema.dependency.text.create_from":"Create a new dependency from","schema.host_template.text.view_members":"Add / Remove hosts","schema.host.desc.add_host_to_group":"Add the host at least to one group.","schema.plugin.text.list":"Plugins","site.wtrm.text.click_for_details":"Click on a row to get a detailed report","site.wtrm.placeholder.status":"200","schema.service.text.select_location_check_type":"Select the type of the check","err-601":"The objects you requested does not exist!","err-420":"The action failed!","schema.service.desc.send_sms":"This option enables or disables notifications per SMS.","text.unlimited":"Unlimited","schema.chart.attr.preset":"Preset","site.wtrm.command.doUrl":"Go to URL <b>%s</b>","schema.event.attr.time":"Timestamp","schema.host.text.create":"Create a new host","site.wtrm.action.doClick":"<b>Click</b> on a element","text.chart_info":"Chart information","schema.group.text.may_modify_services":"May modify services","schema.host.attr.data_retention":"Data retention","schema.user_chart.attr.description":"Description","schema.contact.desc.name":"This is the full name of the contact.","schema.service.action.disable_notifications_multiple":"Disable notifications of the selected services","action.redirect":"Redirect","schema.host.action.remove_template":"Remove template","text.dashboard.use_mouse_wheel_to_zoom":"Use the mouse wheel to zoom in and out.","schema.host.attr.password":"Password","schema.sms_send.attr.send_to":"Receipient","text.dashboard.name":"Name of the dashboard","schema.timeperiod.desc.description":"This is a short description of the timeperiod.","site.wtrm.attr.hidden":"Hide","text.report.availability.AV-C":"Time slice in percent in which the service was in status CRITICAL.","err-416":"You do not have enough access privileges for this operation!","schema.chart.attr.charts":"Charts","schema.company.attr.country":"Country","schema.host.desc.os_manufacturer":"e.g. Red Hat, Microsoft, CISCO","site.wtrm.action.doSubmit":"<b>Submit</b> a form","site.wtrm.command.doSleep":"Sleep <b>%s</b>ms","schema.roster.attr.id":"Roster ID","schema.host.attr.status":"Status","site.wtrm.action.doSelect":"<b>Select</b> a value from a selectbox","schema.host.text.mtr_chart":"MTR chart","schema.service.text.sla_requirements":"Please note that for free accounts only the default check is available!","action.abort":"Abort","text.report.availability.h08":"08:00 - 08:59","action.move_box":"Move the box","schema.company.attr.fax":"Fax","schema.timeslice.text.delete":"Delete timeslice","schema.contact.text.timeperiod_type_exclude":"Exclude","schema.service.desc.fd_time_range":"This is the period the flap detection checks for status switches.","action.login":"Login","nav.sub.contactgroup_service_members":"Services in contact group","schema.user.text.is_logged_in":"Logged in","text.browsers_heap_size":"Display of the heap size in your browser","site.wtrm.desc.status":"Enter the expected http status for the URL.","text.from_now_to_4d":"From now + 4 days","site.help.doc.users-and-groups":"Die Benutzer- und Gruppenverwaltung","schema.contact.text.timeperiod_type":"Include / Exclude","site.wtrm.action.doUserAgent":"Set the <b>user agent</b> for the request","text.report.availability.h15":"15:00 - 15:59","nav.sub.contactgroup_host_members":"Hosts in contact group","schema.hs_downtime.attr.timeslice":"Timeslice","site.wtrm.placeholder.userAgent":"User-Agent","text.from_now_to_1d":"From now + 1 day","text.report.availability.AV-U":"Time slice in percent in which the service was in status UNKNOWN.","schema.host.attr.max_services":"Max services","schema.user.attr.password":"Password","site.wtrm.placeholder.hidden":"Hide this value?","text.report.availability.h07":"07:00 - 07:59","schema.service.text.multiple":"Service actions","schema.host.attr.allow_from":"Allow from","schema.host.desc.variables":"In this field you can define host variables. These variables can be used for thresholds by the configuration of service checks. Example:<br/><br/>HTTP.PORT=9000<br/><br/>This variable could be used in the format <i>%HTTP.PORT%</i> for thresholds. Please note that two variables are pre-defined: <i>IPADDR</i> and <i>HOSTNAME</i>. These variables are replaced with the IP address and the hostname of the host. For further information read the help.<br/><br/>Allowed signs: a-z, A-Z, 0-9, dot and underscore","schema.contact.attr.mail_notifications_enabled":"E-Mail global enabled","site.wtrm.command.doAuth":"Use auth basic with username <b>%s</b> and password <b>%s</b>","schema.host.text.list_templates":"Host %s has the following templates configured","schema.host.text.multiple_downtimes":"Schedule a downtime for multiple hosts","schema.host_template.text.clone":"Clone the template","site.wtrm.placeholder.text":"Lorem ipsum...","schema.host.desc.sysinfo":'This field allows you to set an external link to you own host documentation, e.g.: https://mysite.test/?id=12345.<br/><br/>Not allowed characters: "\\',"schema.user.attr.last_login":"Last login","schema.service.attr.passive_check":"Is this a passive check?","info.create_failed":"The creation was not successful!","schema.host.attr.ipaddr":"IP-Address","schema.chart.text.multiple_view":"Chart view","schema.plugin.attr.info":"Information","schema.service.attr.host_alive_check":"Is this a host alive check?","schema.contact.attr.sms_notifications_enabled":"SMS global enabled","text.report.availability.EV-LT15":"Number of events with a status duration less than 15 minutes.","schema.plugin_stats.attr.datatype":"Data type","schema.timeperiod.text.list":"Overview of all timeperiods","action.add":"Add","action.show_selected_objects":"Show selected objects","schema.service.text.clone":"Clone service","schema.plugin_stats.attr.alias":"Name","nav.sub.companies":"Companies","text.dashboard.dashlet_configuration":"Dashlet configuration","schema.user.desc.manage_contacts":"Is the user allowed to manage contacts?","schema.host.action.activate_multiple":"Activate the selected hosts","text.report.availability.lt180":"Between 1 and 3 hours","text.report.title.number_of_events_by_duration":"Number of events by duration","text.report.availability.GE300":"Filter events with a status duration greater than 5 hours.","schema.company.attr.address1":"Address 1","text.report.availability.lt60":"Between 30 and 60 minutes","nav.sub.events":"Events","schema.service.action.clear_acknowledgement_multiple":"Clear the acknowledgement of the selected services","site.wtrm.action.checkIfElementIsNotSelected":"Check if a <b>value is <i>NOT</i> selected</b> in a selectbox","schema.service.attr.active":"Active","schema.service.attr.last_mail_time":"Last notification per mail","schema.group.desc.description":"Enter a short description about the group.","schema.service.desc.host_alive_check":"A host alive check is a check that determines if a host is down or alive. If this check returns a critical status then you get a special notification. If other service checks returns a critical status at the same time then the notifications will be suppressed. It's recommended you use the ping check as host alive check.","info.new_version":"<h4>A new version is available</h4>\n<p>A new version of the Bloonix-WebGUI is available!</p>\n<p>Please reload the website!</p>","schema.host.attr.notification":"Notifications enabled","schema.host.desc.virt_product":"e.g. VMware-Server, Virtuozzo","text.report.availability.fatal":"Fatal issue","schema.service.desc.multiple_check_select_concurrency":"Select the concurrency:","schema.service.attr.mail_ok":"Send OK notifications per mail","schema.service.text.multiple_force_next_check":"Reset the interval and force the next check of the service","text.sort_by_dots":"Sort by ...","word.Services":"Services","site.wtrm.desc.userAgent":"This is the User-Agent to send for all requests.","nav.main.help":"HELP","schema.chart.attr.from_to":"From <b>%s</b> to <b>%s</b>","schema.plugin.attr.command":"Command","text.report.availability.LT300":"Filter events with a status duration less than 5 hours.","err-415":"Unauthorized access!","word.second":"second","schema.host.desc.os_product":"e.g. RHEL5, Debian Lenny, Windows Server 2003","err-427":"Services that are inherited from a host template can't be deleted!","action.yes_remove":"<b>Yes, remove!</b>","err-632":"The parameter limit must be an numeric value, min 0, max <b>%s</b>.","site.wtrm.text.quick_check":"Quick check!","schema.hs_downtime.attr.description":"Description","schema.service.text.host_alive_check":"Host-Alive-Check","schema.timeperiod.text.create":"Create a new timeperiod","text.filter_by_category_dots":"Filter by category ...","schema.service.desc.multiple_check_type_title":"Multiple checkpoints","site.wtrm.desc.parent":"It's possible to set a parent ID. The ID, class or name is searched within the element of the parent ID.","err-400":"Bad login! Try it again!","text.report.availability.h01":"01:00 - 01:59","nav.sub.timeperiods":"Timeperiods","nav.sub.groups":"Groups","site.wtrm.action.checkIfElementNotExists":"Check if an <b>element does <i>NOT</i> exists</b>","text.report.availability.AV-O":"Time slice in percent in which the service was in status OK.","err-610":"Please fill in the red marked fields correctly!","text.report.availability.h05":"05:00 - 05:59","text.dashboard.remove_dashlet":"Remove the dashlet","schema.company.attr.title":"Title","schema.service.desc.multiple_check_concurrency_title":"Concurrency checks","text.report.title.number_of_events":"The total number of events","action.generate":"Generate","schema.contact.desc.mail_notification_level":"Select the status level for which you want to receive notifications.","schema.service.text.rotate_location_check_button":"Rotate check","schema.sms_send.text.search":"Search for SMS","schema.host.info.sysinfo":"External system information available.","site.wtrm.placeholder.parent":"#parent-id (optional)","schema.event.attr.attempts":"Attempts","action.resize":"Resize","schema.service.attr.default_location":"Default location","text.report.availability.LT60":"Filter events with a status duration less than 60 minutes.","text.report.availability.EV-C":"Number of events with status CRITICAL.","schema.service.attr.mail_warnings":"Send WARNINGS per mail","schema.company.desc.active":"Activate or de-activate all objects of this company.","word.seconds":"seconds","schema.host_template.test.host_members":"Hosts in group","schema.company.attr.email":"E-Mail","site.wtrm.action.checkIfElementHasHTML":"Check if an <b>element</b> contains <b>HTML</b>","schema.service.desc.multiple_check_concurrency":"Please note that the checks are executed\nconcurrent from multiple checkpoints. To avoid overloading your service, you can specify\nthe maximum number of concurrent executions.","schema.company.text.settings":"Company settings","info.update_failed":"The update was not successful!","text.dashboard.service_chart":"Service chart","action.filter":"Filter","site.wtrm.command.doCheck":"Check the radio button or checkbox of element <b>%s</b> with value <b>%s</b>","schema.host.text.view":"Host %s","schema.dependency.text.workflow_inherit":"Activate inheritation","schema.service.desc.is_volatile":"With this option you can define if the service check is <i>volatile</i>. Some service checks have the peculiarity that they are only for a very short time in a CRITICAL status. As example if you check a logfile for specific strings, like <i>possible break-in attempt</i> and the check returns a CRITICAL status because the string were found, then it's possible that the next check does not find the string any more and would return the status OK. In this case it's possible that you would never notice that someone tried to break in. For this purpose you can define the service a volatile. That means that the service stays in a CRITCAL or WARNING state until you clear the volatile status.","schema.dependency.attr.timezone":"Timezone","err-630":"Invalid parameter settings found!","schema.contact.text.remove_timeperiod":"Remove timeperiod from contact","text.report.availability.h00":"00:00 - 00:59","schema.host_template.text.selected_hosts":"Selected hosts","action.clone":"Clone","schema.user.desc.username":"Enter the username in the format <i>user@domain.test</i>.","action.configure":"Configure","text.report.availability.EV-GE300":"Number of events with a status duration greater than 5 hours.","site.wtrm.command.checkIfElementIsSelected":"Check if the value <b>%s</b> of the selectbox <b>%s</b> is selected","schema.host.attr.virt_manufacturer":"Virtualization manufacturer","schema.chart.text.back_to_selection":"Back to the chart selection","schema.host.attr.variables":"Host variables","action.select":"Select","schema.host.desc.hostname":"This is the fully qualified hostname.","text.dashboard.create_dashboard":"Create an empty dashboard","schema.company.text.edit_variables":"Global variables","schema.contactgroup.text.selected_services":"Selected services","schema.company.attr.id":"Company ID","schema.service.text.host_template":"Host template","text.report.service_has_a_availabilty_of":"Service <b>%s</b> has a availability of","schema.service.attr.acknowledged":"Service status acknowledged","nav.sub.charts":"Charts","schema.contact.text.timeperiod_type_send_to_all":"Send as mail and SMS","word.hour":"hour","schema.service.text.no_command_options":"This check has no settings.","schema.host.attr.coordinates":"Coordinates","schema.service.desc.comment":"This is a short internal comment to the check.","site.help.doc.user-charts":"Eigene Charts erstellen","site.wtrm.placeholder.url":"http://www.bloonix.de/","text.second_failover_checkpoint":"Second failover checkpoint","text.dashboard.services_availability":"Availability of all services","schema.chart.text.multiselect":"Select charts for multiple hosts","schema.host.desc.description":"This is a short description of the host.","schema.contact.attr.escalation_level":"Escalation level","schema.user.desc.role":"Which role does the user have? Users with the role <i>operator</i> are power users and can manage user accounts and user groups. Users with the role <i>user</i> are not allowed to manage other users and groups.","schema.host.text.multiple_selection_help":"<h4>This action requires to select at least one host.</h4>\nTo mark a single host just click on a row. If you want to mark multiple hosts\njust press and hold <i>CTRL</i> on your keyboard. If you press and hold <i>SHIFT</i>\nyou can mark a range of hosts.","site.wtrm.action.doCheck":"Check a <b>radio button</b> or <b>checkbox</b>","text.report.availability.h10":"10:00 - 10:59","action.action":"Action","schema.group.text.group_members":"Members of group <b>%s</b>","schema.service.text.multiple_activate":"Activate or deactivate multiple services","text.report.availability.Availability":"The total availability.","site.login.password":"Password","schema.host.desc.hw_product":"e.g. Dell Power Edge 2950","nav.sub.variables":"Variables","text.dashboard.really_delete_dashboard":"Do you really want to delete the dashboard %s?","schema.timeperiod.attr.description":"Description","schema.contact.attr.sms_to":"Mobil number","schema.chart.attr.refresh":"Refresh","text.dashboard.list_top_hosts":"Overview of the top hosts","schema.group.attr.description":"Description","schema.host.desc.data_retention":"The retention in days of all data of the host and services. ","err-410":"The requested URL was not found!","err-640":"No data available!","action.timeslices":"List timeslices","schema.service.text.notification_settings":"Notification settings","err-631":"The parameter offset must be an numeric value, min 0.","schema.host.text.add_host_to_host_template":"Add the host to a host template","schema.host_template.attr.id":"Template ID","site.wtrm.desc.password":"This password for the auth basic authentification.","schema.dependency.attr.service_id":"Service ID","schema.company.attr.sla":"SLA","schema.contact.text.timeperiod_type_send_only_sms":"Send only SMS","err-426":"This action requires a token!","action.search":"Search","schema.group.text.update_user":"Modify access rights","text.report.availability.h18":"18:00 - 18:59","site.wtrm.action.checkIfElementIsNotChecked":"Check if a <b>radio button</b> or <b>checkbox is <i>NOT</i> checked</b>","site.wtrm.text.check_it":"Check it!","action.reload":"Reload","schema.user.text.create":"Create a new user","text.report.availability.h06":"06:00 - 06:59","schema.user_chart.text.click_to_add_metric":"Click to add the metric","schema.timeperiod.desc.name":"This is the name of the timeperiod.","site.login.contact":"Do you have questions?","schema.service.attr.send_sms":"Notifications per SMS enabled","nav.sub.dependencies":"Dependencies","site.wtrm.command.checkIfElementHasText":"Check if the element <b>%s</b> contains <b>%s</b>","text.report.availability.h04":"04:00 - 04:59","schema.chart.text.chart_id":"Chart-ID: %s","schema.chart.text.save_view":"Save view","text.report.availability.h20":"20:00 - 20:59","schema.service.desc.attempt_warn2crit":"This option is useful if you want that the status of the service upgrades to CRITICAL if the real status is WARNING and the max attempts are reached.","schema.dependency.text.service_to_host":"service to host","schema.host.attr.last_check":"Last check","word.Timezone":"Timezone","word.minute":"minute","action.settings":"Settings","site.wtrm.action.checkUrl":"Check the <b>URL</b> in the address bar","site.wtrm.command.doUncheck":"Uncheck the radio button or checkbox <b>%s</b> with value <b>%s</b>","text.from_now_to_2d":"From now + 2 days","schema.user_chart.attr.id":"ID","text.report.availability.EV-O":"Number of events with status OK.","info.move_with_mouse":"Press and hold down the left mouse button while you move the box up or down.</p>","schema.contact.attr.company_id":"Company ID","schema.group.text.add":"Add a new user to the group","schema.dependency.text.host_to_host":"host to host","schema.host_template.text.delete":"Delete a template","schema.company.attr.variables":"Global variables","schema.group.text.may_delete_services":"May delete services","schema.dependency.text.depends_on_host":"depends on host","text.dashboard.rename_dashboard":"Rename the dashboard","schema.host.desc.virt_manufacturer":"e.g. VMware, Parallels","schema.contact.desc.escalation_level":"Select an escalation level for the contact. With the escalation level it's possible to control when a contact gets a notification. The escalation level <i>permanent active</i> means that the contact gets the event notifications every time. The escalation level <i>active after 3 notifications</i> means that the contact gets a notification first if already 3 notifications were sent and the service is still not OK.","schema.company.attr.sms_enabled":"SMS notifications enabled","err-620":"This object already exists!","schema.host.attr.max_sms":"Max SMS per month","nav.sub.user_group_settings":"User group settings","schema.plugin.attr.id":"Plugin-ID","schema.user.attr.username":"Username","schema.chart.attr.options":"Chart options","schema.company.desc.variables":"In this field you can define global variables for all hosts. These variables can be used for thresholds by the configuration of service checks. Example:<br/><br/>HTTP.PORT=9000<br/><br/>This variable could be used in the format <i>%HTTP.PORT%</i> for thresholds. Please note that two variables are pre-defined: <i>IPADDR</i> and <i>HOSTNAME</i>. These variables are replaced with the IP address and the hostname of the host. For further information read the help.<br/><br/>Allowed signs: a-z, A-Z, 0-9, dot and underscore","schema.service.attr.check_by_location":"Check by location (agent ID)","schema.service.desc.fd_flap_count":"This is the threshold for the flap detection. If more than x-times the status switched in a given time a notificaton is triggered.","nav.sub.users":"Users","site.wtrm.command.doClick":"Click on element <b>%s</b>","text.report.title.status_duration_by_hour":"Status duration by time range","site.wtrm.placeholder.username":"Username","schema.service.desc.agent_tooltip":"<h3>Installation of the Bloonix-Agent</h3>\n<p>\nThis check is executed on your server and requires that you install the Bloonix-Agent\nand the plugin on your server.\n</p>","text.report.availability.security":"Security issue","nav.sub.group_settings":"Group settings","schema.event.attr.id":"Event ID","schema.host_template.text.view_services":"View services","site.login.forgot_password_info":"Please note that the new password is not send\nautomatically to your registered e-mail address. An administrator will check\nyour request at first and contact you as soon as possible.","schema.host.desc.allow_from":"With this field it's possible to set a comma separated list of IP addresses from which the Bloonix agents are allowed to deliver host statistics. Set the keyword <i>all</i> to allow all IP addresses.","schema.contactgroup.text.contact_members":"Contacts in contact group","schema.dependency.attr.inherit":"Inheritance","schema.contactgroup.text.group_members":"Members of contact group '<b>%s</b>'","schema.service.attr.description":"Description","site.wtrm.command.checkIfElementHasNotValue":"Check if the input field or textarea with element <b>%s</b> does <i>NOT</i> contain <b>%s</b>","text.report.availability.volatile":"Volatile","schema.service.attr.status_since":"Status since","schema.service.attr.agent_options.timeout":"Global check timeout","schema.user.text.repeat_password":"Repeat the new password","bool.yesno.0":"no","schema.host.desc.sysgroup":"This is a complete free to use field with no restrictions.","schema.host.text.settings":"Host settings","schema.service.text.default_location_check_button":"Default check","schema.service.attr.volatile_retain":"The volatile retain time","text.dashboard.clone_dashboard":"Clone the dashboard","schema.service.attr.plugin":"Plugin","schema.user.attr.id":"User ID","action.logout":"Logout","schema.roster.attr.active":"Active","schema.service.desc.failover_check_type":"With failover checks it's possible to select a fixed\ncheckpoint from which the service is checked. In addition it's possible to select two\nfailover checkpoints, from which the service is checked if the check from the fixed checkpoint\nreturns a status that is not OK. If the status of all 3 checkpoints is not OK, the counter\nof <i>attempt max</i> is increased.","site.wtrm.action.doWaitForElement":"Wait for element","schema.service.action.clear_volatile_multiple":"Clear the volatile status of the selected services","text.click_to_delete_seletion":"Click to delete the selection","text.dashboard.save_dashboard":"Save dashboard","schema.group.desc.company":"Select the company the group belongs to.","err-702":"The new password is to long (max 128 signs)!","info.add-further-options":"Add further options","schema.company.attr.state":"State/Province","schema.chart.attr.datetime":"Date and time","schema.chart.text.delete_view":"Delete chart view","schema.dependency.text.active_time":"Active time","schema.service.text.multiple_volatile":"Clear the volatile status of multiple services","action.generate_string":"Generate a random string","text.report.availability.EV-W":"Number of events with status WARNING.","schema.service.attr.service_name":"Service name","schema.service.text.attempt":"Attempts","schema.host.attr.id":"Host ID","site.wtrm.command.checkIfElementHasValue":"Check if the input field or textarea with element <b>%s</b> contains <b>%s</b>","schema.contact.text.list":"Overview of all contacts","schema.service.attr.agent_id":"Agent location","text.click_me":"Click me","schema.service.desc.default_check_type_title":"Default checkpoint","schema.user_chart.text.user_chart":"Chart editor","site.wtrm.command.checkUrlWithContentType":"Check if the URL <b>%s</b> has content type %s","schema.chart.attr.subtitle":"Chart subtitle","text.report.availability.LT30":"Filter events with a status duration less than 30 minutes.","nav.sub.contactgroup_settings":"Contact group settings","schema.dependency.text.workflow_from_host":"From host","schema.service.text.delete":"Delete service","text.report.availability.h13":"13:00 - 13:59","word.Settings":"Settings","schema.service.desc.rotate_check_type_title":"Rotate checkpoints","err-700":"Please change your password!","schema.service.desc.service_name":"This is the display name of the service.","text.dashboard.double_click_or_mouse_wheel_to_zoom":"Double click or use the mouse wheel to zoom in and out.","site.help.doc.web-transactions":"Web-Transactions","err-634":'For the parameter sort_type only "asc" or "desc" is allowed as value.',"text.dashboard.choose_content_box":"Select a dashlet","schema.company.text.view":"Company %s","site.help.doc.bloonix-webgui":"Grundlegendes zur Bloonix-WebGUI","schema.service.info.notification":"Notifications are disabled of the service.","schema.service.desc.mail_soft_interval":"This is the notification interval for emails. As long as the service is not OK you will be re-notified in this interval.","word.no":"no","action.genstr":"Generate string","schema.host.desc.password":"This password is used by the Bloonix Agents. If an agent wants to connect to the Bloonix server to deliver host statistics then this is only possible if the agent knows the host id and the password.","schema.event.text.list":"Events of host %s","info.create_success":"The creation was successful!","schema.host.text.delete":"Delete host","schema.service.info.host_alive_check":"This is a host-alive-check.","action.clear":"Clear","schema.service.text.clone_service":"Clone service %s","schema.dependency.text.host":"Host","schema.service.attr.last_mail":"Last notification per mail","action.operate_as":"React as","schema.user.desc.password":"Enter the users login password.","schema.contactgroup.desc.description":"Set a short description for the group.","schema.contact.desc.sms_notification_level":"Select the status level for which you want to receive notifications.","schema.group.text.add_user":"Add a user to the group","site.help.doc.add-new-service":"Einen neuen Service anlegen","schema.company.attr.phone":"Phone","schema.service.info.is_volatile":"The service is in volatile status.","schema.hs_downtime.attr.end_time":"End time","text.dashboard.replace_dashlet":"Replace the dashlet","schema.host.desc.ipaddr":"This is the main IP address of the host.","text.report.availability.flapping":"Flapping","text.inherited_from_host":"Inherited from the host","schema.contactgroup.desc.name":"This is the name of the contact group. The name should be unique.","schema.service.attr.volatile_status":"The current volatile status of the service","schema.host.desc.add_host_to_host_template":"The host inherits all services from the host template.","schema.service.attr.fd_time_range":"Flap detection time range","schema.host.attr.virt_product":"Virtualization product","schema.host.text.remove_template_warning":"Please note that all services of the template will be removed from all hosts that has its services inherited from this template!","word.Timeslice":"Timeslice","schema.user.text.current_password":"Current password","schema.host.text.multiple_edit_info":"Note: empty fields will be ignored!","schema.dependency.text.list":"Dependencies for host %s","schema.company.attr.comment":"Comment","schema.service.attr.mail_soft_interval":"Notification interval for mails (soft)","nav.main.monitoring":"MONITORING","schema.user.text.view":"User %s","schema.host.action.enable_notifications_multiple":"Enable notifications of the selected hosts","text.fixed_checkpoint":"Fixed checkpoint","schema.user.attr.name":"Name","schema.contact.desc.sms_to":"This is the mobil number of the contact. Event notifications will be send via SMS to this number.","schema.user_chart.attr.subtitle":"Subtitle","schema.dependency.text.host_to_service":"host to service","schema.group.text.host_nonmembers":"Non group members","text.report.availability.EV-LT60":"Number of events with a status duration less than 60 minutes.","schema.host.attr.description":"Description","schema.service.text.services":"Services","schema.service.text.wtrm_result_steps":"Web transaction - step results","site.wtrm.command.doSubmit":"Submit form <b>%s</b>","text.report.availability.LT180":"Filter events with a status duration less than 3 hours.","text.report.title.number_of_events_by_tags":"Number of events by tags","word.minutes":"minutes","schema.hs_downtime.text.preset":"Preset","text.report.availability.EV-LT300":"Number of events with a status duration less than 5 hours.","site.wtrm.command.checkIfElementHasNotHTML":"Check if the element <b>%s</b> does <i>NOT</i> contain <b>%s</b>","schema.service.attr.fd_flap_count":"Notifiy after X status switches","site.wtrm.command.checkIfElementNotExists":"Check if the element <b>%s</b> does <i>NOT</i> exists","text.dashboard.delete_dashboard":"Delete the dashboard","schema.service.text.failover_location_check_button":"Failover check","text.change_your_password":"Change your password","schema.host.desc.location":"e.g. New York, Datacenter 3, Room 6, Rack A29","schema.user_chart.desc.title":"The title of the chart.","text.plugin_info":"Plugin information","schema.service.attr.sms_ok":"Send OK notifications per SMS","schema.host_template.text.view":"Template %s","nav.main.administration":"ADMINISTRATION","schema.host_template.test.host_nonmembers":"Hosts not in group","schema.host.attr.active":"Active","site.help.doc.bloonix-agent-installation":"Den Bloonix-Agenten installieren","site.wtrm.text.service_report":"Web transaction report for service %s","action.list":"List","schema.roster.attr.description":"Description","schema.group.text.selected_hosts":"Selected hosts","schema.dependency.text.depends_on_service":"depends on service","schema.group.text.host_members":"Group members","nav.sub.host_group_settings":"Host group settings","schema.host.desc.device_class":"e.g.<br/>/Server/Linux/Debian<br/>/Server/Windows/Windows 2008<br/>/Network/Router<br/>/Network/Switch<br/>/Printer","text.report.title.total_availability":"The total service availability","action.extsearch":"Extended search","schema.user_chart.desc.description":"Description of the chart.","word.To":"To","schema.service.info.acknowledged":"The service is acknowledged.","nav.sub.contactgroup_members":"Contacts in contact group","schema.service.text.choose_plugin":"Select a plugin","site.wtrm.action.checkIfElementExists":"Check if an <b>element exists</b>","schema.user.desc.select_language":"Please note that the complete WebGUI is reloaded after the language were selected and you will be redirected to the dashboard!","site.login.username":"Email address","schema.contact.attr.sms_notification_level":"SMS notification level","schema.chart.attr.chart_size":"Size","schema.user.desc.authentication_key":"With this key it's possible to visit the notification screen without password authentification. The query string to visit the notification screen looks like<br/><br/><b>/screen/?username=XXX;authkey=XXX</b>","schema.host.desc.notification":"Enable or disable the notifications of all services.","text.dashboard.add_new_dashlet":"Add a new dashlet","word.Filter":"Filter","schema.service.attr.attempt_warn2crit":"Switch WARNING to CRITICAL","schema.hs_downtime.attr.begin_time":"Begin time","site.wtrm.action.doUrl":"Go to <b>URL</b>","text.report.availability.h16":"16:00 - 16:59","schema.dependency.text.workflow_from_service":"and from service","schema.service.desc.agent_options.timeout":"This is the global execution timeout of the check itself. After the timeout the check is killed and a CRITICAL status is triggered. This is very useful for checks that hangs and are unable to stop itself.<br/><br/>Default: 30 seconds","schema.chart.text.user_charts":"User charts","schema.service.text.create":"Create a new service","site.wtrm.attr.password":"Password","site.wtrm.attr.text":"Inner text","schema.company.attr.zipcode":"Zipcode","site.login.login":"Please login with your username and password:","schema.service.action.acknowledge_multiple":"Acknowledge the status of the selected services","schema.service.attr.status":"Status","site.wtrm.attr.status":"HTTP-Status","schema.company.text.delete":"Delete company","schema.user.desc.manage_templates":"Is the user allowed to manage host templates?","site.login.request_failed":"You request was not successful. Please try it again.","action.edit":"Edit","schema.user.attr.allow_from":"Allow from IP","schema.host.desc.timeout":"This is the timeout of all services of the host. If the status of a service is not updated in this time then a critical status is set for the services with the information that it seems that the Bloonix agent is not working.","site.login.title":"Login to the monitoring system","site.wtrm.attr.element":"Element","schema.service.attr.next_check":"Next check","schema.service.text.clone_to_the_same_host":"Clone the service to the same host","site.wtrm.action.checkIfElementHasNotText":"Check if an <b>element does <i>NOT</i></b> contain <b>text</b>","schema.host.text.add_host_to_contactgroup":"Add the host to a contact group","site.help.doc.contacts-and-notifications":"Kontakte und Benachrichtigungen","schema.service.desc.mail_hard_interval":"With this option you can define a hard interval for email notifications. Even if the status switched from CRITICAL to OK and then back to CRITICAL you will not get an notification until the interval expires.","schema.group.text.remove_user":"Remove user from group","site.wtrm.desc.ms":"This is the time in milliseconds to sleep between actions.","schema.plugin_stats.text.list":"Metrics of plugin %s","schema.service.info.active":"The service is not active.","schema.group.desc.groupname":"This is the group name. The group name should be unique.","text.dashboard.services_flapping":"Flapping","schema.service.attr.attempt_counter":"Attempt counter","schema.dependency.text.create":"Create a new dependency for host <b>%s</b>","site.login.want_to_login":"Do you want to login?","text.dashboard.open_dashboard":"Open a dashboard","schema.service.desc.passive_check":"A passive check is a check which is not checked by Bloonix itself, but by a external service or script. Passive checks has no timeout and are very useful, for example, for SNMP traps. The external service has to report a critical state to the Bloonix-Agent, which in turn reports the state to the Bloonix-Server.","action.cancel":"Cancel","schema.contactgroup.text.create":"Create a new contact group","schema.dependency.text.workflow_to_host":"to host","err-605":"Please select at least one object!","schema.company.attr.alt_company_id":"Real company ID","text.report.title.no_data":"For the following services are no data available in this time range","schema.timeperiod.text.delete":"Delete timeperiod","text.from_now_to_1h":"From now + 1 hour","schema.host_template.desc.description":"Set a short description for the template.","schema.contact.desc.mail_to":"This is the email address of the contact. Event notifications will be send to this address.","schema.service.desc.multiple_check_type":"With this option it's possible to select\nmultiple checkpoints from which the service is checked. If 3 checkpoints\nreturns a critical status then the counter of <i>attempt max</i> is increased.","site.wtrm.placeholder.value":"value","text.default":"Default","schema.host.attr.device_class":"Device class","site.help.doc.notification-screen":"Notification Screen","schema.chart.text.service_charts":"Service charts","action.update":"Update","schema.company.attr.max_services":"Max services","schema.group.attr.company_id":"Company ID","site.wtrm.action.checkIfElementHasNotHTML":"Check if an <b>element does <i>NOT</i></b> contain <b>HTML</b>","schema.host.attr.timeout":"Timeout","schema.timeperiod.examples":"<p><b>Syntax: DAY-RANGE TIME-RANGE</b></p></br>\n<pre>\nDAY RANGE                       EXAMPLES\n------------------------------------------------------------\nWeekday                         Monday\nWeekday - Weekday               Monday - Friday\nMonth                           Januar\nMonth - Month                   Januar - July\nMonth Day                       Januar 1\nMonth Day - Month Day           Januar 1 - July 15\nYear                            2010\nYear - Year                     2010 - 2012\nYYYY-MM-DD                      2010-01-01\nYYYY-MM-DD - YYYY-MM-DD         2010-01-01 - 2012-06-15\n</pre></br>\n<pre>\nTIME RANGE                      EXAMPLES\n------------------------------------------------------------\nHH:MM - HH:MM                   09:00 - 17:00\nHH:MM - HH:MM, HH:MM - HH:MM    00:00 - 08:59, 17:01 - 23:59\n</pre></br>\n<p><b>Examples:</b></p></br>\n<pre>\nMonday - Friday     09:00 - 17:00\nMonday - Friday     00:00 - 08:59, 17:01 - 23:59\nSaturday - Sunday   00:00 - 23:59\n</pre></br>","info.this-year":"This year","schema.service_downtime.text.title":"Scheduled service downtimes for host %s","nav.sub.rosters":"Rosters","schema.dependency.text.no_dependencies":"There are no dependencies configured!","schema.event.attr.duration":"Duration","schema.contact.text.settings":"Contact settings","text.report.availability.h11":"11:00 - 11:59","text.report.availability.lt300":"Between 3 and 5 hours","schema.service.text.view_location_report":"View location report","site.wtrm.attr.parent":"Parent ID","schema.chart.attr.to":"To","schema.group.text.list":"Overview of all groups","site.login.forgot_password":"Forgot your password?","schema.service.text.command_options":"Check settings","schema.host.text.list":"Overview of all hosts","schema.user.desc.company":"Select the company the user belongs to.","site.login.sign_up":"Sign up for a Bloonix account","err-425":"Your session token is expired!","schema.timeslice.attr.id":"Timeslice ID","text.report.availability.h21":"21:00 - 21:59","schema.dependency.text.workflow_from_host_status":"Select the status of the host that activates the dependency flow","schema.sms_send.text.list":"Sent SMS for host %s","schema.service.desc.sms_hard_interval":"With this option you can define a hard interval for SMS notifications. Even if the status switched from CRITICAL to OK and then back to CRITICAL you will not get an notification until the interval expires.","schema.service.text.multiple_location_check_button":"Multiple checks","site.wtrm.action.doAuth":"Set auth basic <b>username</b> and <b>password</b>","err-600":"The object you requested does not exist!","site.wtrm.action.doSleep":"<b>Sleep</b> a while","err-802":"Sorry, but this feature is not available!","schema.chart.text.selected":"selected","schema.user_chart.text.delete":"Delete chart","schema.plugin.attr.plugin":"Plugin","site.login.follow":"Follow Bloonix","site.wtrm.attr.username":"Username","text.report.availability.h19":"19:00 - 19:59","schema.service.attr.sms_hard_interval":"Notification interval for SMS (hard)","schema.company.attr.address2":"Address 2","text.dashboard.map_title":"Global host status map","text.report.availability.EV-I":"Number of events with status INFO.","action.replace":"Replace","schema.contactgroup.text.list":"Overview of all contactgroups","schema.chart.text.chart_information":"Chart information","schema.event.attr.status":"Status","schema.service.desc.notification":"This option activates or de-activates the notifications per email or SMS.","site.help.doc.host-templates":"Host Templates einrichten und verwalten","schema.timeperiod.attr.name":"Timeperiod","schema.company.attr.name":"Name","schema.dependency.attr.on_host_id":"Depends on host ID","schema.service.text.title":"Services","schema.service.text.clone_select_host":"Select another host","schema.contactgroup.text.host_members":"Hosts in group","schema.service.desc.rotate_check_type":"The rotate check has no fixed checkpoint.\nInstead of that the service check rotates over the selected checkpoints. If a check\nof one checkpoint is not OK, then the check jumps immediate to the next checkpoint.\nIf the third checkpoint still returns a status that is not OK then the counter of <i>attempt max</i>\nis increased.","word.day":"day","schema.user.desc.name":"This is the users full name.","action.delete":"Delete","action.create":"Create","schema.host_template.desc.name":"This is the name of the template.","site.wtrm.placeholder.element":"#element-id OR .class-name OR name","schema.chart.text.view":"Charts for host <b>%s</b>","schema.service.text.list":"Service details for all hosts","schema.host.text.multiple_edit":"Edit the configuration of multiple hosts","text.report.title.total_status_duration":"The total service status duration","schema.contact.desc.sms_notifications_enabled":"With this option it's possible to enable or disable event notifications via SMS.","schema.service.action.activate_multiple":"Activate the selected services","schema.chart.text.charts":"Charts","site.wtrm.command.checkIfElementIsNotChecked":"Check if the radio button or checkbox <b>%s</b> is <i>NOT</i> checked","text.please_select_objects":"Please select at least one object!","schema.chart.text.multiview":"View multiple charts","text.dashboard.list_top_services":"Overview of the top services","text.min_length":"Min length: <b>%s</b>","schema.group.text.settings":"Group settings","schema.host.text.report_title":"Report for host %s","schema.service.info.inherits_from_host_template":"This service is inherited from host template '%s'.","schema.host.attr.hostname":"Hostname","schema.group.text.may_create_services":"May create services","schema.host.attr.sysgroup":"System group","schema.dependency.text.workflow_from_service_status":"Select the status of the service that activates the dependency flow","schema.company.text.create":"Create a new company","schema.chart.attr.title":"Chart title","schema.hs_downtime.attr.id":"ID","err-417":"You do not have enough privileges to create an object!","action.schedule":"Schedule","text.report.availability.h09":"09:00 - 09:59","schema.user.attr.locked":"Locked","schema.contactgroup.text.delete":"Delete contact group","text.dashboard.default_dashboard_cannot_deleted":"The default dashboard cannot be deleted!","text.last_30d":"Last 30 days","word.No":"No","schema.hs_downtime.text.create":"Create a scheduled downtime","site.wtrm.command.checkIfElementHasHTML":"Check if the element <b>%s</b> contains <b>%s</b>","schema.service.attr.result":"Advanced status information","schema.host.desc.hw_manufacturer":"e.g. IBM, HP, Dell, Fujitsu Siemens","schema.company.attr.surname":"Surname","schema.user.desc.locked":"Lock or unlock the user. Locked users cannot login to the monitoring interface.","schema.contactgroup.attr.name":"Name","word.Relative":"Relative","schema.chart.text.load_view":"Load view","err-703":"The new password is to short (min 8 signs)!","site.wtrm.action.doFill":"Fill data into a <b>input</b> field or <b>textarea</b>","schema.host.desc.max_sms":"In this field you can define the maximum number of SMS that can be send per month.","text.dashboard.services_acknowledged":"Acknowledged","schema.service.desc.mail_warnings":"This option enables or disables notifications if the service is in status WARNING.","site.wtrm.placeholder.html":"<span>Loren ipsum...</span>","action.save":"Save","schema.service.text.multiple_acknowledge":"Acknowledge or clear acknowledgements of multiple services","schema.service.desc.sms_soft_interval":"This is the notification interval for SMS. If a service is in a non OK status then you will be re-notified after this time if the service doesn't change to status OK.","site.wtrm.placeholder.password":"Secret","schema.host.attr.hw_manufacturer":"HW manufacturer","schema.contact.text.escalation_level_event.x":"active after <b>%s</b> notifications","schema.service.desc.description":"This is a short description of the check.","schema.user_chart.attr.title":"Title","schema.user.desc.phone":"The phone number can be very helpful for colleagues or the Bloonix support in emergency situations.","site.help.doc.bloonix-agent-configuration":"Den Bloonix-Agenten konfigurieren","schema.dependency.attr.on_status":"Parent status","nav.sub.templates":"Templates","text.report.availability.lt30":"Between 15 and 30 minutes","schema.contactgroup.text.settings":"Contact group settings","site.help.doc.add-new-host":"Einen neuen Host anlegen","schema.host.action.add_template":"Add template","schema.hs_downtime.text.delete":"Delete a scheduled downtime","err-419":"You do not have enough privileges to delete the objects!","text.max_length":"Max length: <b>%s</b>","nav.main.report":"REPORT","text.report.availability.h23":"23:00 - 23:59","schema.service.attr.timeout":"Timeout","site.help.title":"Die Bloonix Hilfe","schema.service.attr.flapping":"Flapping","text.dashboard.dashlet_select_chart_title":"Select a chart for the dashlet.","text.dashboard.dashlet_select_chart":"Select a chart","text.first_failover_checkpoint":"First failover checkpoint","schema.chart.text.really_delete_view":"Do you really want to delete chart view <b><b>%s</b></b>?","schema.service.desc.agent_id":"This is the location from where the check is executed.","schema.service.desc.rotate_check_type_locations":"Your service is checked from the following checkpoints:","text.dashboard.services_notification":"Notification status of all services","schema.contact.text.timeperiods":"Contact timeperiods","schema.dependency.attr.id":"Dependency ID","text.dashboard.title":"Dashboard","schema.user.attr.manage_contacts":"Manage contacts?","site.wtrm.command.doWaitForElementWithText":"Wait for element <b>%s</b> with text <b>%s</b>","schema.user.text.list":"Overview of all users","schema.service.desc.mail_ok":"This option enables or disables notifications if the service switched back to status OK.","info.extended_search_syntax_for_hosts":'<p>It\'s possible to filter the host list by a search query. The syntax is very simple and looks like:</p>\n<pre>key:value</pre>\n<p>The key is the table field to search for the value.</p>\n<p>Search examples:</p>\n<p>- Search for hosts in status CRITICAL or UNKNOWN</p>\n<pre>status:CRITICAL OR status:UNKNOWN</pre>\n<p>- Search for hosts in datacenter 12 with status CRITICAL</p>\n<pre>location:"Datacenter 12" AND status:CRITICAL</pre>\n<p>The following keys are available to search for specific fields:</p>',"site.wtrm.desc.text":"The inner text of an element you wish to check.","word.Yes":"Yes","word.Preset":"Preset","action.quicksearch":"Quick search","schema.host.text.mtr_output":"MTR result of host %s","schema.dependency.attr.status":"Status","schema.service.attr.ref_id":"ID","schema.group.attr.id":"Group ID","schema.chart.attr.id":"Chart ID","site.wtrm.text.wtrm_workflow":"Web Transaction Workflow","schema.host.desc.comment":"This field can be used to set a short comment to the host.","text.report.availability.agent_dead":"Agent dead","site.wtrm.desc.url":"This is the full URL to request. As example: http://www.bloonix.de/","schema.dependency.text.workflow_to_service":"and to service","schema.host.desc.active":"Active or de-activate the host and all services.","schema.host.text.add_host_to_group":"Add the host to a user group","schema.service.attr.volatile_since":"Since the status is volatile","schema.user_chart.text.create":"Create a chart","schema.host.text.device_class_help_link":"Read how this feature works","schema.user.text.session_expires":"Session expires","err-801":"Sorry, but you cannot configure more than <b>%s</b> services!","text.dashboard.top_hosts_events":"Top events of all hosts","text.report.availability.h22":"22:00 - 22:59","nav.sub.reports":"Reports","schema.chart.text.alignment":"Chart alignment","word.Absolute":"Absolute","err-704":"The passwords doesn't match!","schema.plugin.attr.categories":"Categories","err-411":"The service is not available!","schema.service.desc.agent_id_tooltip":"<h3>From which location should the check be executed?</h3>\n<p>\nYou can choose between the options <i>localhost</i>, <i>intranet</i> and <i>remote</i>.\n</p>\n<h3>localhost</h3>\n<p>\nWith the option <i>localhost</i> the check is executed local on your server.\nFor this action it's necessary that the Bloonix-Agent is installed on your server.\nThis option is useful if you want to monitor the system vitals like the CPU,\nthe memory or the disk usage.\n</p>\n<h3>intranet</h3>\n<p>\nThe option <i>intranet</i> means your local network. If you want to monitor the service\nfrom your local network, then it's necessary that you install the Bloonix-Agent on a\ncentral server in your intranet. The checks will be executed from this server.\nThis option is useful if you want to monitor devices that has no direct internet connection\nlike router, switches and so on.\n</p>\n<h3>remote</h3>\n<p>\nWith the option <i>remote</i> the check is executed from a external Bloonix-Server. This is\nvery useful if you want to monitor your webserver, website, mailserver and other internet services.\n</p>","site.login.choose_your_language":"Select your language","schema.service.desc.sms_warnings":"This option enables or disables notifications if the service is in status WARNING.","text.from_now_to_7d":"From now + 7 days","schema.host_template.text.delete_service_warning":"Please note that the service will be deleted from all hosts that gets the service inherited from this template.","schema.chart.text.selected_max_reached":"(max) selected","schema.service.text.settings":"Settings of service <b>%s</b>","site.wtrm.action.checkIfElementIsChecked":"Check if a <b>radio button</b> or <b>checkbox</b> is <b>checked</b>","site.wtrm.action.checkIfElementHasValue":"Check the <b>value</b> of an <b>input</b> field or <b>textarea</b>","schema.plugin.attr.description":"Description","schema.user_chart.text.title":"User charts","nav.sub.services":"Services","schema.sms_send.attr.time":"Timestamp","schema.dependency.text.dependencies":"Dependencies","schema.service.desc.failover_check_type_locations":"Select a fixed and two failover checkpoints","site.wtrm.desc.contentType":"Enter content type that is expeced for the URL.","action.no_abort":"<b>No, abort!</b>","text.from_now_to_4h":"From now + 4 hours","schema.service.attr.scheduled":"Has downtime","schema.group.attr.groupname":"Groupname","action.members":"List members","schema.host.text.multiple_activate":"Activate or deactivate multiple hosts","schema.host.attr.company_id":"Company ID","word.active":"active","schema.host.attr.comment":"Comment","schema.service.desc.timeout":"This is the timeout of the service. If the status of the service is not updated in this time then a critical status is set for the service with the information that it seems that the Bloonix agent is not working. If no value is set, then the timeout of the host is inherited.","schema.user.attr.comment":"Comment","err-633":"The parameter sort_by must begin with a character of a-z and only characters from a-z, 0-9 and a underscore are allowed. The max length is 63 characters.","schema.contactgroup.text.selected_hosts":"Selected hosts","schema.user.desc.allow_from":"It's possible to set a comma separated list of ip addresses from which the user is restricted to login. With the keyword <i>all</i> the login has no restriction.","schema.contact.desc.mail_notifications_enabled":"With this option it's possible to enable or disable event notifications via email.","schema.company.desc.max_services":"The max amount of services this company is allowed to monitor. Set 0 (null) if unlimited.","schema.user.attr.role":"Role","site.wtrm.command.doWaitForElement":"Wait for element <b>%s</b>","text.locations_selected_costs":"You have <b>%s</b> checkpoints selected. Please note that each checkpoint will be charged extra.","site.login.documentation":"The Bloonix documentation","text.report.availability.h02":"02:00 - 02:59","schema.chart.text.select":"Chart selection for host %s","site.wtrm.attr.html":"Inner HTML","schema.host.text.list_device_classes":"Device classes","schema.host_template.text.delete_service":"Delete a service from the template","schema.service.desc.volatile_retain":"Set a time after the volatile status is automatically cleared.","schema.service.attr.last_sms_time":"Last notification per SMS","word.hours":"hours","schema.host.desc.add_host_to_contactgroup":"Add the host to a contact group to get event notifications via email or sms.","schema.timeperiod.text.examples":"Timeperiod examples","schema.dependency.attr.timeslice":"Timeslice","schema.host_template.text.list":"Overview of all host templates","word.days":"days","schema.service.attr.is_volatile":"Is the service volatile","info.go-back":"Go back","err-405":"Your session is expired!","word.debug":"Debug","schema.service.attr.last_event":"Last event","schema.hs_downtime.text.select_services":"Services<br/><small>Do not select any servives if you want to<br/>create a downtime for the complete host.</small>","err-418":"You do not have enough privileges to modify the objects!","text.report.availability.LT15":"Filter events with a status duration less than 15 minutes.","schema.service.desc.acknowledged":"This option is useful if a service is not OK and if you want to disable the notifications temporary. The notifications will be enabled again if the services switched to the status OK.","site.wtrm.desc.username":"This username for the auth basic authentification.","text.report.availability.h14":"14:00 - 14:59","nav.sub.mtr":"MTR","site.wtrm.desc.value":"The value of the element you wish to fill or check.","schema.contact.attr.mail_notification_level":"Mail notification level","text.report.availability.ge300":"Longer than 3 hours","nav.sub.screen":"Screen","schema.service.text.multiple_notification":"Enable or disable the notifications of multiple services","site.help.doc.host-and-service-dependencies":"Abhängigkeiten zwischen Hosts und Services","action.view_selected_objects":"View selected objects","site.wtrm.command.doSelect":"Select the value <b>%s</b> from the selectbox <b>%s</b>","schema.dependency.text.workflow_to_service_status":"Select the status of the parent service that avoids a notification","schema.user_chart.text.update":"Update a chart","schema.roster.text.list":"Overview of all rosters","schema.service.text.view_wtrm_report":"View web transaction report","err-800":"Sorry, but you cannot configure more than <b>%s</b> service!","site.help.doc.device-classes":"Bauklasse von Hosts","schema.user.attr.manage_templates":"Manage templates?","text.dashboard.hosts_availability":"Availability of all hosts","schema.service.attr.comment":"Comment","schema.service.info.has_result":"This service check has advanced status information. Click me :-)","schema.user.text.new_password":"New password","text.dashboard.services_downtimes":"Downtimes","schema.service.info.flapping":"The service is flapping.","text.last_60d":"Last 60 days","site.help.doc.host-alive-check":"Was ist ein Host-Alive-Check?","schema.contact.text.escalation_level_event.1":"active after 1 notification","action.close":"Close","schema.roster.attr.roster":"Roster","schema.user_chart.desc.yaxis_label":"The label of the Y-axis.","schema.company.attr.company":"Company","site.wtrm.command.doUserAgent":"Set the user agent to <b>%s</b>","schema.host.action.deactivate_multiple":"Deactivate the selected hosts","text.report.availability.Service":"Click on the service to get a detailed availabilty report.","action.yes_delete":"<b>Yes, delete!</b>","schema.contact.attr.id":"Contact ID","schema.service.attr.command":"Command","action.help":"Help","schema.event.text.host_service":"Host / Service","nav.sub.hosts":"Hosts","site.help.doc.json-api":"Die Bloonix JSON API","nav.main.notifications":"NOTIFICATIONS","schema.contact.attr.mail_to":"E-Mail","schema.host_template.text.create":"Create a new template","schema.chart.attr.preset_last":"Preset: last","schema.event.attr.tags":"Tags","site.help.doc.scheduled-downtimes":"Geplante Wartungsarbeiten einrichten","schema.user.attr.timezone":"Timezone","action.display_from_to_rows":"Displaying <b>%s</b>-<b>%s</b> of <b>%s</b> hits","schema.contactgroup.attr.description":"Description","site.wtrm.placeholder.ms":"5000","word.inactive":"inactive","site.wtrm.desc.hidden":"Do you want to hide the value because it's a password or a secret string?","schema.user.text.select_language":"Select your preferred language","site.login.welcome":"Welcome to Bloonix! Please log in.","schema.host_template.text.clone_title":"Clone template %s","text.report.availability.h17":"17:00 - 17:59","schema.host.info.inactive":"The host is not active.","schema.service.attr.interval":"Interval","schema.service.action.multiple_force_next_check":"Reset the interval and force the next check of the service","schema.service.info.inactive":"The service is inactive.","schema.user.text.delete":"Delete user","schema.service.text.select_location_check_type_info":"Click on the buttons to see a short description of each type","schema.service.attr.notification":"Notifications enabled","site.wtrm.attr.userAgent":"User-Agent","schema.service.desc.failover_check_type_title":"Failover checkpoints","schema.service.attr.sms_soft_interval":"Notification interval for SMS (soft)","schema.user_chart.desc.subtitle":"The title of the chart.","site.wtrm.command.doFill":"Fill element <b>%s</b> with value <b>%s</b>","schema.host.desc.coordinates":"Select the location of the host by country code.","site.wtrm.action.checkIfElementIsSelected":"Check if a <b>value</b> is <b>selected</b> in a selectbox","text.undefined":"Undefined","info.search_syntax":"<p><b>Search syntax:</b></p>\n<p>planet <i>AND</i> mars</p>\n<p>mars <i>OR</i> pluto</p>\n<p>planet <i>AND</i> mars <i>OR</i> pluto</p>","schema.user.attr.authentication_key":"Authentication key","word.Days":"Days","text.never":"Never","text.report.availability.AV-W":"Time slice in percent in which the service was in status WARNING.","schema.chart.text.chart_views":"Chart views","schema.service.desc.active":"This option activates or de-activates the service check.","schema.service.attr.command_options":"Check settings","schema.hs_downtime.attr.username":"Added by","text.selected_objects":"Selected objects","schema.dependency.text.service_to_service":"service to service","schema.service.action.deactivate_multiple":"Deactivate the selected services","word.Hours":"Hours"},de:{"site.wtrm.attr.url":"URL","info.update_success":"Das Upate war erfolgreich!","site.help.doc.how-does-bloonix-checks-your-hosts-and-services":"Wie überwacht Bloonix Hosts und Services","schema.service.action.enable_notifications_multiple":"Benachrichtigungen einschalten für die selektierten Services","schema.user_chart.text.editor":"Benutzer Chart Editor","schema.host_template.attr.description":"Beschreibung","schema.user.desc.timezone":"Wähle die Zeitzone des Benutzers.","schema.host.text.templates_not_assigned":"Nicht zugeordnete Templates","word.yes":"ja","schema.timeperiod.text.settings":"Einstellungen des Zeitplans","schema.plugin_stats.attr.description":"Beschreibung","schema.service.text.multiple_help":"<h4>Diese Aktion erfordert, dass mindestens ein Service ausgewählt ist.</h4>\nUm einen einzelnen Service zu markieren, klicken Sie auf die entsprechende Zeile.\nWenn Sie mehrere Services markieren möchten, halten Sie einfach die Taste <i>STRG</i>\nauf Ihrer Tastatur gedrückt. Beim Drücken und Halten der <i>SHIFT</i>-Taste kann ein\ngrößerer Bereich von Hosts gewählt werden.","text.report.availability.timeout":"Timeout","word.From":"Von","text.from_now_to_2h":"Von jetzt + 2 Stunden","site.login.error":"Einloggen fehlgeschlagen! Versuchen Sie es erneut!","schema.chart.desc.charts":"<b>Mehrere Charts können ausgewählt werden mittels</b><br/><br/>\n<i>STRG+Klick</i><br/>oder<br/><i>SHIFT+Klick</i>","nav.main.dashboard":"DASHBOARD","site.login.request_success":"Ihre Anfrage wurde erfolgreich zugestellt.<br/>\nEin Administrator wird Sie so schnell wie möglich kontaktieren.","schema.contact.desc.company_id":"Wähle ein Unternehmen zu dem der Kontakt gehört","schema.host.action.disable_notifications_multiple":"Benachrichtigungen ausschalten für die selektierten Hosts","text.dashboard.user_chart":"Selbst erstellter Chart","schema.user.attr.phone":"Telefon","schema.contactgroup.attr.id":"Kontaktgruppen ID","schema.dependency.text.workflow_timezone":"Gebe eine Zeitzone für den Zeitabschnitt an","site.login.request_password":"Fordern Sie ein neues Passwort an.","schema.service.attr.message":"Status Informationen","schema.service.attr.sms_warnings":"Benachrichtigungen für Warnmeldungen per SMS versenden","schema.group.text.create":"Eine neue Gruppe erstellen","schema.host.desc.company_id":"Wähle ein Unternehmen zu dem der Host gehört","schema.contact.text.delete":"Kontakt löschen","schema.service.attr.last_sms":"Letzte Benachrichtigung per SMS","schema.host.attr.hw_product":"HW Produkt","schema.host.desc.status":"Der Status des Hosts. Mögliche Werte sind OK, INFO, WARNING, CRITICAL oder UNKNOWN.","schema.host.attr.os_product":"OS Produkt","schema.service.desc.fd_enabled":"Diese Option aktiviert oder deaktiviert die Erkennung von zu häufigen Statuswechseln (Flap Detection). Wenn ein Service zu häufig in einem kurzen Zeitraum den Status wechselt, ohne das der Prüfzähler für die maximale Anzahl erlaubter Fehlschläge erreicht wird, so greift diese Funtion. Für die Erkennung wird die Anzahl von Statuswechseln in einem bestimmten Zeitraum gemessen. Wenn der Status in diesem Zeitraum zu häufig wechselte, wird ein kritisches Ereignis ausgelöst.","schema.timeslice.attr.timeslice":"Zeitabschnitt","info.last-year":"Letztes Jahr","action.overview":"Übersicht","text.change_the_language":"Ändere die Sprache","schema.dependency.text.workflow_to_host_status":"Wähle den Status des übergeordneten Hosts, welcher die Benachrichtigung untertrückt","schema.user_chart.text.add_metric":"Metrik hinzufügen","text.thresholds":"Schwellwerte","schema.plugin_stats.attr.statkey":"Schlüssel","site.wtrm.command.checkIfElementIsChecked":"Check if the radio button or checkbox <b>%s</b> is checked","text.last_180d":"Die letzten 180 Tage","text.report.availability.h03":"03:00 - 03:59","site.wtrm.command.checkIfElementHasNotText":"Check if the element <b>%s</b> does <i>NOT</i> contain <b>%s</b>","schema.service.attr.last_check":"Letzte Prüfung","schema.host_template.attr.name":"Template Name","nav.sub.contacts":"Kontakte","text.report.availability.detailed_report_onclick":"Klicke auf einen Service für einen detaillierten Bericht","schema.service.desc.multiple_check_type_locations":"Bitte wählen Sie mindestens 3 Messpunkte aus:","word.Hosts":"Hosts","schema.contact.text.escalation_level_event.0":"Permanent aktiv","site.wtrm.attr.contentType":"Content-Type","schema.host.text.multiple_notification":"Die Benachrichtigungen für mehrere Hosts ein- oder ausschalten","schema.host_downtime.text.title":"Geplante Wartungsarbeiten für Host %s","schema.sms_send.attr.message":"Nachricht","schema.company.attr.city":"Stadt","schema.service.desc.attempt_max":"Diese Option kontrolliert, wann Sie eine Benachrichtiung erhalten, wenn ein Service nicht OK ist. Ein Wert von 3 bedeuted zum Beispiel, dass eine Serviceprüfung 3 Mal hintereinander fehlschlagen darf, bis Sie eine Benachrichtigung erhalten.","site.help.doc.host-variables":"Host Variablen","nav.sub.downtimes":"Wartungsarbeiten","schema.dependency.text.workflow_timeslice":"Gebe einen Zeitabschnitt an, in dem die Abhängigkeit aktiv ist","text.report.title.host_from_to":"Bericht für Host %s von %s bis %s","schema.group.text.delete":"Die Gruppe löschen","schema.dependency.attr.on_service_id":"Depends on service ID","schema.dependency.text.really_delete":"Möchten Sie wirklich die Abhängigkeit mit der ID <b>%s</b> löschen?","schema.host.attr.sysinfo":"System Informationen","schema.host.attr.location":"Standort","schema.timeperiod.attr.id":"Zeitplan ID","schema.user.text.password_update":"Bitte gebe ein neues Passwort ein.","text.report.availability.AV-I":"Der Zeitbereich in Prozent in dem der Service im Status INFO war.","schema.contact.attr.name":"Name","site.wtrm.action.doUncheck":"Uncheck a <b>radio button</b> or <b>checkbox</b>","schema.user.attr.password_changed":"Wurde das Passwort geändert?","schema.timeslice.text.list":"Übersicht über alle Zeitabschnitte","text.report.availability.lt15":"Zwischen 0 und 15 Minuten","word.Language":"Sprache","schema.host.attr.os_manufacturer":"OS Hersteller","schema.user_chart.text.chart_metrics":"Chart Metriken","site.wtrm.placeholder.contentType":"text/html","site.wtrm.command.checkUrl":"Check if the URL in the address bar is <b>%s</b>","err-701":"Das Passwort ist ungültig!","schema.company.text.list":"Übersicht über alle Unternehmen","schema.host.info.notification_disabled":"Benachrichtigungen sind für diesen Host ausgeschaltet","schema.event.attr.last_status":"Letzter Status","nav.sub.notifications":"Benachrichtigungen","site.wtrm.command.checkIfElementIsNotSelected":"Check if the value <b>%s</b> of the selectbox <b>%s</b> is <i>NOT</i> selected","schema.contact.text.timeperiod_type_send_only_mail":"Nur Mails versenden","schema.event.text.filter_message":"Nachrichtenfilter","site.wtrm.action.checkIfElementHasNotValue":"Check if an <b>input</b> field or <b>textarea has <i>NOT</i></b> a specified <b>value</b>","schema.service.attr.attempt_max":"Benachrichtigung nach X versuchen","action.submit":"Bestätigen","site.wtrm.attr.ms":"Milliseconds","err-500":"Ein interner Fehler ist aufgetreten! Bitten kontaktieren Sie den Administrator!","schema.contactgroup.text.host_nonmembers":"Hosts, die der Kontaktgruppe nicht angehören","site.wtrm.attr.value":"Value","schema.contactgroup.text.service_members":"Services, die der Kontakgruppe angehören","schema.service.attr.fd_enabled":"Erkennung von Statuswechseln eingeschaltet","schema.host.desc.interval":"Das ist der Prüfungsintervall aller Services des Hosts.","action.unselect":"Abwählen","schema.host.desc.max_services":"Konfiguration der maximalen Services, die für diesen Host eingerichtet werden dürfen. 0 heißt unlimitiert.","schema.dependency.text.service":"Service","schema.service.desc.sms_ok":"Diese Option aktiviert oder deaktiviert das Versenden von Nachrichten per SMS für Services die in den Status OK zurückwechseln.","err-705":"Das neue und alte Passwort dürfen nicht übereinstimmen!","text.dashboard.reconfigure_dashlet":"Dashlet konfigurieren","schema.company.attr.active":"Aktiv","action.remove":"Entfernen","site.wtrm.desc.html":"The inner HTML of an element you wish to check.","word.Seconds":"Sekunden","schema.contactgroup.text.service_nonmembers":"Services, die nicht der Kontaktgruppe angehören","schema.user.desc.comment":"Dieses Feld kann für interne Kommentare über den Benutzer verwendet werden.","site.wtrm.action.checkIfElementHasText":"Check if an <b>element</b> contains <b>text</b>","schema.hs_downtime.attr.timezone":"Zeitzone","schema.service.info.notification_disabled":"Die Benachrichtigungen sind ausgeschaltet.","text.from_now_to_8h":"Von jetzt + 8 Stunden","schema.service.desc.default_check_type_location":"Der Messpunkt für Standardchecks ist:","site.help.doc.host-parameter":"Host Parameter im Detail","schema.service.attr.mail_hard_interval":"Benachrichtigungsintervall für E-Mails (hart)","nav.sub.contactgroups":"Kontaktgruppen","action.refresh":"Aktualisieren","info.no_chart_data":"Es sind keine Chartdaten verfügbar.","text.report.availability.h12":"12:00 - 12:59","site.wtrm.command.checkIfElementExists":"Check if the element <b>%s</b> exists","schema.chart.text.chart_type":"Wähle den Charttyp","text.report.availability.EV-U":"Anzahl von Ereignissen mit Status UNKNOWN. ","schema.service.attr.id":"Service ID","bool.yesno.1":"Ja","text.report.availability.EV-LT180":"Anzahl von Ereignissen mit einer Statusdauer kleiner als 3 Stunden. ","schema.service.desc.default_check_type":"Standard-Checks haben einen vordefinierten Messpunkt. Von diesem Messpunkt aus wird Ihr Service geprüft. Der Messpunkt für Standardchecks ist:","schema.host.attr.interval":"Intervall","schema.service.text.multiple_downtimes":"Eine geplante Wartungsarbeit für mehrere Services einrichten","site.help.doc.service-parameter":"Service Parameter im Detail","text.services":"Services","schema.service.desc.interval":"Das ist der Prüfungsintervall des Service. Wenn kein Wert gesetzt ist, dann wird der Intervall des Hosts vererbt.","site.wtrm.desc.element":"The element you want to select. As example: #id, .class, name<br/><br/>\nIt's also possible to search for tags and attributes. Example:<br/><br/>\n&lt;a&gt; - get the first 'a' tag<br/><br/>\n&lt;a[5]&gt; - get the fifth 'a' tag<br/><br/>\n&lt;a a=\"hello\" b=\"world\"&gt; - search for a 'a' tag with the specified attributes and values","schema.user_chart.attr.yaxis_label":"Label der Y-Achse","action.view":"Einsehen","word.Minutes":"Minuten","text.option_examples":"Optionen und Beispiele","schema.host_template.text.setting":"Einstellungen des Template","schema.contact.text.create":"Erstelle einen neuen Kontakt","schema.chart.attr.from":"Von","text.last_90d":"Die letzten 90 Tage","text.report.availability.EV-LT30":"Anzahl von Ereignissen mit einer Statusdauer kleiner als 30 Minuten. ","schema.dependency.text.for_node":"Abhängigkeiten für Knoten %s","text.report.availability.Events":"Totale Anzahl von Ereignissen.","schema.user.desc.password_changed":"Setzen Sie den Wert auf <i>Nein</i> wenn Sie den Benutzer auffordern möchten sein Passwort nach dem ersten Login zu ändern.","schema.dependency.text.create_from":"Eine neue Abhängigkeit erstellen von","schema.host_template.text.view_members":"Hosts hinzufügen / entfernen","schema.host.desc.add_host_to_group":"Füge den Host einer Gruppe hinzu.","schema.plugin.text.list":"Plugins","site.wtrm.text.click_for_details":"Click on a row to get a detailed report","site.wtrm.placeholder.status":"200","schema.service.text.select_location_check_type":"Wähle den Typ des Checks","err-601":"Die angeforderten Objekte existieren nicht!","err-420":"Die Aktion ist fehlgeschlagen!","schema.service.desc.send_sms":"Diese Option aktiviert oder deaktiviert das Versenden von SMS für diesen Service.","text.unlimited":"Unbegrenzt","schema.chart.attr.preset":"Vorauswahl","site.wtrm.command.doUrl":"Go to URL <b>%s</b>","schema.event.attr.time":"Zeitstempel","schema.host.text.create":"Einen neuen Host erstellen","site.wtrm.action.doClick":"<b>Click</b> on a element","text.chart_info":"Chart Informationen","schema.group.text.may_modify_services":"Darf Services ändern","schema.host.attr.data_retention":"Daten Aufbewahrungszeit","schema.user_chart.attr.description":"Beschreibung","schema.contact.desc.name":"Dies ist der volle Name des Kontakts.","schema.service.action.disable_notifications_multiple":"Benachrichtigungen ausschalten für die selektierten Services","action.redirect":"Umleiten","schema.host.action.remove_template":"Template entfernen","text.dashboard.use_mouse_wheel_to_zoom":"Nutze das Mausrad um zu Zoomen","schema.host.attr.password":"Passwort","schema.sms_send.attr.send_to":"Empfänger","text.dashboard.name":"Name des Dashboards","schema.timeperiod.desc.description":"Dies ist eine kurze Beschreibung zum Zeitplan.","site.wtrm.attr.hidden":"Hide","text.report.availability.AV-C":"Der Zeitbereich in Prozent in dem der Service im Status CRITICAL war.","err-416":"Sie haben nicht genügend Rechte für diese Operation!","schema.chart.attr.charts":"Charts","schema.company.attr.country":"Land","schema.host.desc.os_manufacturer":"z.B. Red Hat, Microsoft, CISCO","site.wtrm.action.doSubmit":"<b>Submit</b> a form","site.wtrm.command.doSleep":"Sleep <b>%s</b>ms","schema.roster.attr.id":"Bereitschaftsplan ID","schema.host.attr.status":"Status","site.wtrm.action.doSelect":"<b>Select</b> a value from a selectbox","schema.host.text.mtr_chart":"MTR Chart","schema.service.text.sla_requirements":"Bitte beachten Sie das für freie Accounts nur der Standardcheck zur Verfügung steht!","action.abort":"Abbrechen","text.report.availability.h08":"08:00 - 08:59","action.move_box":"Bewege die Box","schema.company.attr.fax":"Fax","schema.timeslice.text.delete":"Den Zeitabschnitt löschen","schema.contact.text.timeperiod_type_exclude":"Exkludieren","schema.service.desc.fd_time_range":"Dies ist der Zeitbereich, in dem die Statuswechsel gemessen werden.","action.login":"Einloggen","nav.sub.contactgroup_service_members":"Services in der Kontaktgruppe","schema.user.text.is_logged_in":"Ist eingeloggt","text.browsers_heap_size":"Anzeige der Auslastung der Heap-size in Ihrem Browser","site.wtrm.desc.status":"Enter the expected http status for the URL.","text.from_now_to_4d":"Von jetzt + 4 Tage","site.help.doc.users-and-groups":"Die Benutzer- und Gruppenverwaltung","schema.contact.text.timeperiod_type":"Inkludieren / Exkludieren","site.wtrm.action.doUserAgent":"Set the <b>user agent</b> for the request","text.report.availability.h15":"15:00 - 15:59","nav.sub.contactgroup_host_members":"Hosts in der Kontaktgruppe","schema.hs_downtime.attr.timeslice":"Zeitraum","site.wtrm.placeholder.userAgent":"User-Agent","text.from_now_to_1d":"Von jetzt + 1 Tag","text.report.availability.AV-U":"Der Zeitbereich in Prozent in dem der Service im Status UNKNOWN war.","schema.host.attr.max_services":"Maximal konfigurierbare Services","schema.user.attr.password":"Passwort","site.wtrm.placeholder.hidden":"Hide this value?","text.report.availability.h07":"07:00 - 07:59","schema.service.text.multiple":"Service Aktionen","schema.host.attr.allow_from":"Erlaubter Zugriff","schema.host.desc.variables":"In diesem Feld können Host Variablen definiert werden. Diese Variablen können für Schwellwerten bei der Konfiguration von Service-Checks verwendet werden. Beispiel:<br/><br/><b>HTTP.PORT=9000</b><br/><br/>Diese Variable kann dann im Format <i>%HTTP.PORT%</i> für Schwellwerte eingesetzt werden. Bitte beachten Sie das zwei Variablen vordefiniert sind: <i>IPADDR</i> und <i>HOSTNAME</i>. Diese Variablen werden mit der IP-Adresse und dem Hostnamen ersetzt. Weitere Informationen hierzu finden Sie in der Hilfe.<br/><br/>Erlaubte Zeichen: a-z, A-Z, 0-9, Punkt und Unterstrich","schema.contact.attr.mail_notifications_enabled":"E-Mail global aktiv","site.wtrm.command.doAuth":"Use auth basic with username <b>%s</b> and password <b>%s</b>","schema.host.text.list_templates":"Host %s hat folgende Templates konfiguriert","schema.host.text.multiple_downtimes":"Eine geplante Wartungsarbeit für mehrere Hosts einrichten","schema.host_template.text.clone":"Das Template klonen","site.wtrm.placeholder.text":"Lorem ipsum...","schema.host.desc.sysinfo":'Hier können Sie einen externen Link zu Ihrer Host-Dokumentation eintragen, zum Beispiel: https://mysite.test/?id=12345.<br/><br/>Nicht erlaubte Zeichen: "\\',"schema.user.attr.last_login":"Letzter Login","schema.service.attr.passive_check":"Ist dies ein passiver Check?","info.create_failed":"Das Erstellen ist fehlgeschlagen!","schema.host.attr.ipaddr":"IP-Adresse","schema.chart.text.multiple_view":"Chart Ansicht","schema.plugin.attr.info":"Information","schema.service.attr.host_alive_check":"Ist dies ein Host-Alive-Check?","schema.contact.attr.sms_notifications_enabled":"SMS global aktiv","text.report.availability.EV-LT15":"Anzahl von Ereignissen mit einer Statusdauer kleiner als 15 Minuten.","schema.plugin_stats.attr.datatype":"Datentyp","schema.timeperiod.text.list":"Übersicht über alle Zeitpläne","action.add":"Hinzufügen","action.show_selected_objects":"Ausgewählte Objekte anzeigen","schema.service.text.clone":"Den Service klonen","schema.plugin_stats.attr.alias":"Name","nav.sub.companies":"Unternehmen","text.dashboard.dashlet_configuration":"Dashlet Konfiguration","schema.user.desc.manage_contacts":"Darf der Benutzer Kontakte verwalten?","schema.host.action.activate_multiple":"Selektierte Hosts aktivieren","text.report.availability.lt180":"Zwischen 1 und 3 Stunden","text.report.title.number_of_events_by_duration":"Anzahl der Ereignisse nach Dauer","text.report.availability.GE300":"Filterung von Ereignissen mit einer Statusdauer größer als 5 Stunden.","schema.company.attr.address1":"Adresse 1","text.report.availability.lt60":"Zwischen 30 und 60 Minuten","nav.sub.events":"Ereignisse","schema.service.action.clear_acknowledgement_multiple":"Die Bestätigung des Status der selektierten Services aufheben","site.wtrm.action.checkIfElementIsNotSelected":"Check if a <b>value is <i>NOT</i> selected</b> in a selectbox","schema.service.attr.last_mail_time":"Letzte Benachrichtigung per E-Mail","schema.service.attr.active":"Aktiv","schema.group.desc.description":"Gebe eine kleine Beschreibung zum Unternehmen ein.","schema.service.desc.host_alive_check":"Ein Host-Alive-Check ist ein Check der feststellt, ob ein Host UP oder DOWN ist. Wenn dieser Service Check einen kritischen Status liefert erhalten Sie eine besondere Nachricht. Wenn andere Services des Hosts ebenfalls in einem kritischen Status sind, während der Host-Alive-Check kritisch ist, dann werden die Benachrichtiungen anderer Services unterdrückt. Es wird empfohlen einen Ping-Check als Host-Alive-Check zu definieren.","info.new_version":"<h4>Eine neue Version ist verfügbar</h4>\n<p>Eine neue Version der Bloonix-WebGUI ist verfügbar!</p>\n<p>Bitte laden Sie die Webseite neu!</p>","schema.host.attr.notification":"Benachrichtigungen aktiv","schema.host.desc.virt_product":"z.B. VMware-Server, Virtuozzo","text.report.availability.fatal":"Fatale Fehler","schema.service.desc.multiple_check_select_concurrency":"Wähle einen Gleichzeitigkeitsfaktor","schema.service.attr.mail_ok":"Benachrichtigungen für OK Meldungen per E-Mail versenden","schema.service.text.multiple_force_next_check":"Erzwinge einen Check aller Services so bald wie möglich","text.sort_by_dots":"Sortiere nach ...","word.Services":"Services","site.wtrm.desc.userAgent":"This is the User-Agent to send for all requests.","nav.main.help":"HELP","schema.chart.attr.from_to":"Von %s bis %s","schema.plugin.attr.command":"Kommando","text.report.availability.LT300":"Filterung von Ereignissen mit einer Statusdauer kleiner als 5 Stunden.","err-415":"Nicht authorisierter Zugriff!","word.second":"Sekunde","schema.host.desc.os_product":"z.B. RHEL5, Debian Lenny, Windows Server 2003","err-427":"Services, die von einem Host-Template vererbt wurden, können nicht gelöscht werden!","action.yes_remove":"<b>Ja, entfernen!</b>","err-632":"Der Parameter limit muss ein numerischer Wert sein, mindestens 0, maximal %s.","site.wtrm.text.quick_check":"Quick check!","schema.hs_downtime.attr.description":"Beschreibung","schema.service.text.host_alive_check":"Host-Alive-Check","schema.timeperiod.text.create":"Einen neuen Zeitplan erstellen","text.filter_by_category_dots":"Filter nach Kategorie ...","schema.service.desc.multiple_check_type_title":"Multiple Messpunkte","site.wtrm.desc.parent":"It's possible to set a parent ID. The ID, class or name is searched within the element of the parent ID.","err-400":"Der Login ist fehlgeschlagen. Bitte versuchen Sie es erneut!","text.report.availability.h01":"01:00 - 01:59","nav.sub.timeperiods":"Zeitplan","nav.sub.groups":"Gruppen","site.wtrm.action.checkIfElementNotExists":"Check if an <b>element does <i>NOT</i> exists</b>","text.report.availability.AV-O":"Der Zeitbereich in Prozent in dem der Service im Status OK war.","err-610":"Bitte füllen Sie die rot markierten Felder korrekt aus!","text.report.availability.h05":"05:00 - 05:59","text.dashboard.remove_dashlet":"Das Dashlet entfernen","schema.company.attr.title":"Titel","schema.service.desc.multiple_check_concurrency_title":"Konkurrierende Checks","text.report.title.number_of_events":"Die totale Anzahl von Ereignissen","action.generate":"Generieren","schema.contact.desc.mail_notification_level":"Wähle die Status Level für die der Konakt eine Benachrichtigung per E-Mail erhalten soll.","schema.service.text.rotate_location_check_button":"Rotierende Checks","schema.sms_send.text.search":"Suche nach SMS","schema.host.info.sysinfo":"Externe Informationen sind verfügbar.","site.wtrm.placeholder.parent":"#parent-id (optional)","schema.event.attr.attempts":"Versuche","action.resize":"Größe ändern","schema.service.attr.default_location":"Standard Standort","text.report.availability.LT60":"Filterung von Ereignissen mit einer Statusdauer kleiner als 60 Minuten.","text.report.availability.EV-C":"Anzahl von Ereignissen mit Status CRITICAL. ","schema.service.attr.mail_warnings":"Benachrichtigungen für Warnmeldungen per E-Mail versenden","schema.company.desc.active":"Aktivierung oder Deaktivierung aller Objekte dieser Firma.","word.seconds":"Sekunden","schema.host_template.test.host_members":"Hosts in der Gruppe","schema.company.attr.email":"E-Mail","site.wtrm.action.checkIfElementHasHTML":"Check if an <b>element</b> contains <b>HTML</b>","schema.service.desc.multiple_check_concurrency":"Um eine Überladung des Service zu vermeiden, können\nSie die maximale Anzahl konkurrierenden Checks bestimmen.","schema.company.text.settings":"Einstellungen des Unternehmens","info.update_failed":"Das Update ist fehlgeschlagen!","text.dashboard.service_chart":"Service-Chart","action.filter":"Filtern","site.wtrm.command.doCheck":"Check the radio button or checkbox of element <b>%s</b> with value <b>%s</b>","schema.host.text.view":"Host %s","schema.dependency.text.workflow_inherit":"Vererbung aktivieren","schema.service.desc.is_volatile":"Mit dieser Option können Sie bestimmen, ob es sich bei diesem Service um einen flüchten Services handelt. Einige Services haben die Besonderheit, dass Sie nur für einen sehr kurzen Zeitraum kritisch sind. Dies können zum Beispiel Logdateien-Checks sein, in denen nach dem Vorhandensein bestimmter Strings gesucht wird, zum Beispiel Strings wie <i>possible break-in attempt</i>. Wenn beim nächsten Logdateien Check dieser String nicht mehr vorhanden ist, würde der Service wieder in den OK Status wechseln und man würde den Einbruch-Versuch nicht bemerken. Ein Service, der dagegen als ein flüchtiger Service konfiguriert ist, bleibt solange in einem nicht-OK Status, bis der Status aufgehoben wurde.","schema.dependency.attr.timezone":"Zeitzone","err-630":"Ungültige Parametereinstellungen gefunden!","schema.contact.text.remove_timeperiod":"Den Zeitplan vom Konakt entfernen","text.report.availability.h00":"00:00 - 00:59","schema.host_template.text.selected_hosts":"Selektierte Hosts","action.clone":"Klonen","schema.user.desc.username":"Angabe des Benutzernamens im Format <i>user@domain.test</i>.","action.configure":"Konfigurieren","text.report.availability.EV-GE300":"Anzahl von Ereignissen mit einer Statusdauer größer als 5 Stunden. ","site.wtrm.command.checkIfElementIsSelected":"Check if the value <b>%s</b> of the selectbox <b>%s</b> is selected","schema.host.attr.virt_manufacturer":"Virtualisierungshersteller","schema.chart.text.back_to_selection":"Zurück zur Chartauswahl","schema.host.attr.variables":"Host Variablen","action.select":"Auswählen","schema.host.desc.hostname":"Dies ist der vollständig qualifizierte Hostname.","text.dashboard.create_dashboard":"Ein leeres Dashboard erstellen","schema.company.text.edit_variables":"Globale Variablen","schema.contactgroup.text.selected_services":"Ausgewählte Services","schema.company.attr.id":"Firmen ID","schema.service.text.host_template":"Host template","text.report.service_has_a_availabilty_of":"Service %s hat eine Verfügbarkeit von","schema.service.attr.acknowledged":"Bestätigt","nav.sub.charts":"Charts","schema.contact.text.timeperiod_type_send_to_all":"E-Mails und SMS versenden","word.hour":"Stunde","schema.service.text.no_command_options":"Dieser Check hat keine Einstellungen.","schema.host.attr.coordinates":"Koordinaten","schema.service.desc.comment":"Dies ist ein beliebiges Kommentar zum Service.","site.help.doc.user-charts":"Eigene Charts erstellen","site.wtrm.placeholder.url":"http://www.bloonix.de/","text.second_failover_checkpoint":"Zweiter Ausfallmesspunkt","text.dashboard.services_availability":"Verfügbarkeit aller Services","schema.chart.text.multiselect":"Chartauswahl für mehrere Hosts","schema.host.desc.description":"Das ist eine kurze Beschreibung zum Host.","schema.contact.attr.escalation_level":"Eskalationslevel","schema.user.desc.role":"Welche Rolle hat der Benutzer? Benutzer mit der Rolle <i>operator</i> sind Poweruser und können Benutzeraccounts und Gruppen verwalten. Benutzer mit der Gruppe <i>user</i> haben dazu keine Berechtigung.","schema.host.text.multiple_selection_help":"<h4>Diese Aktion erfordert, dass mindestens ein Host ausgewählt ist.</h4>\nUm einen einzelnen Host zu markieren, klicken Sie auf die entsprechende Zeile.\nWenn Sie mehrere Hosts markieren möchten, halten Sie einfach die Taste <i>STRG</i>\nauf Ihrer Tastatur gedrückt. Beim Drücken und Halten der <i>SHIFT</i>-Taste kann ein\ngrößerer Bereich von Hosts gewählt werden.","site.wtrm.action.doCheck":"Check a <b>radio button</b> or <b>checkbox</b>","text.report.availability.h10":"10:00 - 10:59","action.action":"Aktion","schema.group.text.group_members":"Mitglieder der Gruppe %s","schema.service.text.multiple_activate":"Mehrere Services aktivieren oder deaktivieren","text.report.availability.Availability":"Die totale Verfügbarkeit","site.login.password":"Passwort","schema.host.desc.hw_product":"z.B. Dell Power Edge 2950","nav.sub.variables":"Variablen","text.dashboard.really_delete_dashboard":"Möchten Sie wirklich das Dashboard %s löschen?","schema.timeperiod.attr.description":"Beschreibung","schema.contact.attr.sms_to":"Mobilfunknummer","schema.chart.attr.refresh":"Aktualisierungsrate","text.dashboard.list_top_hosts":"Anzeigen der Top-Hosts","schema.group.attr.description":"Beschreibung","schema.host.desc.data_retention":"Die Aufbewahrungszeit in Tagen aller Daten des Host und der Services.","err-410":"Die angeforderte Seite wurde nicht gefunden!","err-640":"Keine Daten verfügbar!","action.timeslices":"Zeitpläne auflisten","schema.service.text.notification_settings":"Einstellungen zur Benachrichtigung","err-631":"Der Parameter offset muss ein numerischer Wert sein, mindestens 0.","schema.host.text.add_host_to_host_template":"Den Host Host-Templates zuordnen.","schema.host_template.attr.id":"Template ID","site.wtrm.desc.password":"This password for the auth basic authentification.","schema.company.attr.sla":"SLA","schema.contact.text.timeperiod_type_send_only_sms":"Nur SMS versenden","err-426":"Diese Aktion erfordert ein Session-Token!","action.search":"Suchen","schema.group.text.update_user":"Die Rechte ändern","text.report.availability.h18":"18:00 - 18:59","site.wtrm.action.checkIfElementIsNotChecked":"Check if a <b>radio button</b> or <b>checkbox is <i>NOT</i> checked</b>","site.wtrm.text.check_it":"Check it!","action.reload":"Reload","schema.user.text.create":"Einen neuen Benutzer erstellen","text.report.availability.h06":"06:00 - 06:59","schema.user_chart.text.click_to_add_metric":"Klicken, um die Metrik hinzuzufügen","schema.timeperiod.desc.name":"Dies ist der Name des Zeitplans.","site.login.contact":"Haben Sie Fragen?","schema.service.attr.send_sms":"Benachrichtigungen für SMS eingeschaltet","nav.sub.dependencies":"Abhängigkeiten","site.wtrm.command.checkIfElementHasText":"Check if the element <b>%s</b> contains <b>%s</b>","text.report.availability.h04":"04:00 - 04:59","schema.chart.text.chart_id":"Chart-ID: %s","schema.chart.text.save_view":"Ansicht speichern","text.report.availability.h20":"20:00 - 20:59","schema.service.desc.attempt_warn2crit":"Diese Option ist hilfreich, wenn Sie möchten, dass der Status von WARNING zu CRITICAL aufgewertet wird, nach dem der Services die maximale Anzahl von fehlgeschlagenen Versuchen erreicht hat.","schema.dependency.text.service_to_host":"Service zu Host","schema.host.attr.last_check":"Letzter Check","word.Timezone":"Zeitzone","word.minute":"Minute","action.settings":"Einstellungen","site.wtrm.action.checkUrl":"Check the <b>URL</b> in the address bar","site.wtrm.command.doUncheck":"Uncheck the radio button or checkbox <b>%s</b> with value <b>%s</b>","text.from_now_to_2d":"Von jetzt + 2 Tage","schema.user_chart.attr.id":"ID","text.report.availability.EV-O":"Anzahl von Ereignissen mit Status OK.","info.move_with_mouse":"Drücke und halte den linken Mausbutton während die Box runter oder hoch bewegt wird.","schema.contact.attr.company_id":"Firmen ID","schema.group.text.add":"Einen neuen Benutzer der Gruppe hinzufügen","schema.dependency.text.host_to_host":"Host zu Host","schema.host_template.text.delete":"Ein Template löschen","schema.company.attr.variables":"Globale Variablen","schema.group.text.may_delete_services":"Darf Services löschen","schema.dependency.text.depends_on_host":"hängt ab von Host","text.dashboard.rename_dashboard":"Das Dashboard umbenennen","schema.host.desc.virt_manufacturer":"z.B. VMware, Parallels","schema.contact.desc.escalation_level":"Wähle ein Eskalationslevel für den Kontakt. Mit dem Eskalationslevel kann kontrolliert werden wann ein Kontakt eine Benachrichtigung erhält. Das Level <i>Permanent aktiv</i> bedeuted, dass der Konakt immer benachrichtigt wird. Das Level <i>aktiv nach 3 Benachrichtiungen</i> bedeuted, dass der Kontakt erst benachrichtigt wird, wenn für den Service bereits 3 Benachrichtigungen versendet wurden und noch immer in einem niht-OK Status ist.","schema.company.attr.sms_enabled":"SMS Benachrichtigungen eingeschaltet","err-620":"Das Objekt existiert bereits!","schema.host.attr.max_sms":"Maximale SMS pro Monat","nav.sub.user_group_settings":"Gruppeneinstellungen für Services","schema.plugin.attr.id":"Plugin-ID","schema.user.attr.username":"Benutzername","schema.chart.attr.options":"Chart Optionen","schema.company.desc.variables":"In diesem Feld können globale Variablen für alle Hosts definiert werden. Diese Variablen können für Schwellwerte bei der Konfiguration von Service-Checks verwendet werden. Beispiel:<br/><br/><b>HTTP.PORT=9000</b><br/><br/>Diese Variable kann dann im Format <i>%HTTP.PORT%</i> für Schwellwerte eingesetzt werden. Bitte beachten Sie das zwei Variablen vordefiniert sind: <i>IPADDR</i> und <i>HOSTNAME</i>. Diese Variablen werden mit der IP-Adresse und dem Hostnamen ersetzt. Weitere Informationen hierzu finden Sie in der Hilfe.<br/><br/>Erlaubte Zeichen: a-z, A-Z, 0-9, Punkt und Unterstrich","schema.service.attr.check_by_location":"Prüfung von verschiedenen Standorten","schema.service.desc.fd_flap_count":"Dies ist die maximale Anzahl von Statuswelchseln, die in einem bestimmten Zeitraum auftreten dürfen.","nav.sub.users":"Benutzer","site.wtrm.command.doClick":"Click on element <b>%s</b>","text.report.title.status_duration_by_hour":"Statusdauer nach Zeitbereich","site.wtrm.placeholder.username":"Username","schema.service.desc.agent_tooltip":"<h3>Installation des Bloonix-Agenten</h3>\n<p>\nDieser Check wird direkt auf dem Server ausgeführt und erfordert die Installation des Bloonix-Agenten\nsowie das Plugin auf dem Server.\n</p>","text.report.availability.security":"Sicherheitsproblem","nav.sub.group_settings":"Gruppeneinstellungen","schema.event.attr.id":"Event ID","schema.host_template.text.view_services":"View services","site.login.forgot_password_info":"Bitte beachten Sie, dass das Paswort nicht automatisch\nzu Ihrer registrierten E-Mail Adresse gesendet wird. Ein Administrator wird Ihre Anfrage\nprüfen und Sie so schnell wie möglich kontaktieren.","schema.host.desc.allow_from":"Es ist möglich eine Komma-separierte Liste von IP-Adressen anzugeben, von denen statistische Daten für den Host geliefert werden dürfen. Das Schlüsselwort <i>all</i> heißt von überall.","schema.contactgroup.text.contact_members":"Kontakte, die der Kontaktgruppe angehören","schema.dependency.attr.inherit":"Vererbung","schema.contactgroup.text.group_members":"Mitglieder der Kontaktgruppe","schema.service.attr.description":"Beschreibung","site.wtrm.command.checkIfElementHasNotValue":"Check if the input field or textarea with element <b>%s</b> does <i>NOT</i> contain <b>%s</b>","text.report.availability.volatile":"Flüchtig","schema.service.attr.status_since":"Status seit","schema.service.attr.agent_options.timeout":"Globaler Check Timeout","schema.user.text.repeat_password":"Neues Passwort wiederholen","bool.yesno.0":"Nein","schema.host.desc.sysgroup":"Dies ist ein Feld das zur freien Verwendung steht.","schema.host.text.settings":"Einstellungen des Hosts","schema.service.text.default_location_check_button":"Standard Check","schema.service.attr.volatile_retain":"Vorhaltezeit des flüchtigen Status (volatile)","text.dashboard.clone_dashboard":"Das Dashboard klonen","schema.service.attr.plugin":"Plugin","schema.user.attr.id":"Benutzer ID","action.logout":"Ausloggen","schema.roster.attr.active":"Aktiv","schema.service.desc.failover_check_type":"Bei Failover-Checks haben Sie die Möglichkeit,\neinen festen Messpunkt für die Serviceprüfungen auszuwählen. Zusätzlich können Sie zwei Messpunkte\nauswählen, von denen eine Prüfung vorgenommen wird, wenn die Prüfung vom festen Messpunkt\neinen Wert liefert, der nicht OK ist. Erst wenn das Resultat aller drei Messpunkte nicht OK ist,\nwird der Zähler für die maximalen Fehlversuche eines Service um eins erhöht.","site.wtrm.action.doWaitForElement":"Wait for element","schema.service.action.clear_volatile_multiple":"Den flüchtigen Status aufheben","text.click_to_delete_seletion":"Klicken um die Auswahl zu löschen","text.dashboard.save_dashboard":"Dashboard speichern","schema.group.desc.company":"Wähle ein Unternehmen zu der die Gruppe gehört","err-702":"Das Passwort ist zu lang (maximal 128 Zeichen)!","info.add-further-options":"Weiter Optionen hinzufügen","schema.company.attr.state":"Staat/Bundesland","schema.chart.attr.datetime":"Datum und Uhrzeit","schema.chart.text.delete_view":"Chartansicht löschen","schema.dependency.text.active_time":"Aktive Zeit","schema.service.text.multiple_volatile":"Den flüchtigen Status mehrerer Services aufheben","action.generate_string":"String generieren","text.report.availability.EV-W":"Anzahl von Ereignissen mit Status WARNING. ","schema.service.attr.service_name":"Servicename","schema.service.text.attempt":"Prüfungen","schema.host.attr.id":"Host ID","site.wtrm.command.checkIfElementHasValue":"Check if the input field or textarea with element <b>%s</b> contains <b>%s</b>","schema.contact.text.list":"Übersicht über alle Kontakte","schema.service.attr.agent_id":"Standort des Agenten","text.click_me":"Klick mich","schema.service.desc.default_check_type_title":"Standard Messpunkt","schema.user_chart.text.user_chart":"User charts","site.wtrm.command.checkUrlWithContentType":"Check if the URL <b>%s</b> has content type %s","schema.chart.attr.subtitle":"Chart Untertitel","text.report.availability.LT30":"Filterung von Ereignissen mit einer Statusdauer kleiner als 30 Minuten.","nav.sub.contactgroup_settings":"Kontaktgruppen Einstellungen","schema.dependency.text.workflow_from_host":"Von Host","schema.service.text.delete":"Den Service löschen","text.report.availability.h13":"13:00 - 13:59","word.Settings":"Einstellungen","schema.service.desc.rotate_check_type_title":"Rotierende Messpunkte","err-700":"Bitte ändern Sie Ihr Passwort!","schema.service.desc.service_name":"Dies ist der Anzeigename des Service.","text.dashboard.double_click_or_mouse_wheel_to_zoom":"Doppelklick oder nutze das Mausrad um zu Zoomen","site.help.doc.web-transactions":"Web-Transactions","err-634":'Für den Paramter sort_by sind nur die Werte "asc" und "desc" erlaubt.',"text.dashboard.choose_content_box":"Wähle ein Dashlet aus","schema.company.text.view":"Unternehmen %s","schema.service.info.notification":"Benachrichtigungen sind ausgeschaltet.","schema.service.desc.mail_soft_interval":"Dies ist der Benachrichtigungsintervall für Services. Solange der Service nicht OK ist, erhalten Sie in diesem Intervall erneut Benachrichtigungen.","word.no":"nein","site.help.doc.bloonix-webgui":"Grundlegendes zur Bloonix-WebGUI","action.genstr":"Zeichenkette generieren","schema.host.desc.password":"Dieses Passwort wird für den Bloonix Agenten benötigt. Wenn der Agent Statistiken für einen Host zum Bloonix Server senden möchte dann ist dies nur möglich wenn der Agent die Host-ID und das Passwort kennt.","schema.event.text.list":"Ereignisse von Host %s","info.create_success":"Das Erstellen war erfolgreich!","schema.host.text.delete":"Den Host löschen","schema.service.info.host_alive_check":"Dies ist ein Host-Alive-Check.","action.clear":"Zurücksetzen","schema.service.text.clone_service":"Service %s klonen","schema.dependency.text.host":"Host","schema.service.attr.last_mail":"Letzte Benachrichtigung per E-Mail","action.operate_as":"Operiere als","schema.user.desc.password":"Geben Sie das Passwort des Benutzers ein.","schema.contactgroup.desc.description":"Gebe eine kurze Beschreibung der Gruppe an.","schema.contact.desc.sms_notification_level":"Wähle die Status Level für die der Konakt eine Benachrichtigung per SMS erhalten soll.","schema.group.text.add_user":"Den Benutzer der Gruppe hinzufügen","site.help.doc.add-new-service":"Einen neuen Service anlegen","schema.company.attr.phone":"Telefon","schema.service.info.is_volatile":"Der Service befindet sich in einem flüchtigen Status.","schema.hs_downtime.attr.end_time":"Endzeit","text.dashboard.replace_dashlet":"Das Dashlet ersetzen","schema.host.desc.ipaddr":"Das ist die Haupt-IP-Adresse des Hosts.","text.report.availability.flapping":"Flapping","text.inherited_from_host":"Vererbt vom Host","schema.contactgroup.desc.name":"Dies ist der Name der Kontaktgruppe. Der Name sollte einzigartig sein.","schema.service.attr.volatile_status":"Der aktuelle flüchtige Status (volatile)","schema.host.desc.add_host_to_host_template":"Der Host erbt alle Services eines Host-Templates.","schema.service.attr.fd_time_range":"Zeitraum zur Erkennung von Statuswechsel","schema.host.attr.virt_product":"Virtualisierungsprodukt","schema.host.text.remove_template_warning":"Bitte beachte das alle Services des Templates von allen Hosts entfernt werden, die ihre Services aus diesem Tempalte vererbt bekommen haben!","word.Timeslice":"Zeitscheibe","schema.user.text.current_password":"Aktuelles Passwort","schema.host.text.multiple_edit_info":"Leere Felder werden ignoriert!","schema.dependency.text.list":"Abhängigkeiten für Host %s","schema.company.attr.comment":"Kommentar","schema.service.attr.mail_soft_interval":"Benachrichtigungsintervall für E-Mails (soft)","nav.main.monitoring":"MONITORING","schema.user.text.view":"Benutzer %s","schema.host.action.enable_notifications_multiple":"Benachrichtigungen einschalten für die selektierten Hosts","text.fixed_checkpoint":"Fixer Messpunkt","schema.user.attr.name":"Name","schema.contact.desc.sms_to":"Dies ist die Mobilfunknummer des Konakts. Benachrichtigung über Ereignisse werden an diese Rufnummer per SMS gesendet.","schema.user_chart.attr.subtitle":"Untertitel","schema.dependency.text.host_to_service":"Host zu Service","schema.group.text.host_nonmembers":"Nicht-Mitglieder der Gruppe","text.report.availability.EV-LT60":"Anzahl von Ereignissen mit einer Statusdauer kleiner als 60 Minuten. ","schema.host.attr.description":"Beschreibung","schema.service.text.services":"Services","schema.service.text.wtrm_result_steps":"Web-Transaktion - Step Ergebnis","site.wtrm.command.doSubmit":"Submit form <b>%s</b>","text.report.availability.LT180":"Filterung von Ereignissen mit einer Statusdauer kleiner als 3 Stunden.","text.report.title.number_of_events_by_tags":"Anzahl der Ereignisse nach Tags","word.minutes":"Minuten","schema.hs_downtime.text.preset":"Voreinstellung","text.report.availability.EV-LT300":"Anzahl von Ereignissen mit einer Statusdauer kleiner als 5 Stunden.","site.wtrm.command.checkIfElementHasNotHTML":"Check if the element <b>%s</b> does <i>NOT</i> contain <b>%s</b>","schema.service.attr.fd_flap_count":"Maximale Anzahl von Statuswechsel","site.wtrm.command.checkIfElementNotExists":"Check if the element <b>%s</b> does <i>NOT</i> exists","text.dashboard.delete_dashboard":"Das Dashboard löschen","schema.service.text.failover_location_check_button":"Ausfall Checks","text.change_your_password":"Ändere dein Passwort","schema.host.desc.location":"z.B. Hamburg, Rechenzentrum 3, Raum 6, Schrank A29","schema.user_chart.desc.title":"Der Titel des Chart.","text.plugin_info":"Plugin Informationen","schema.service.attr.sms_ok":"Benachrichtigungen für OK Meldungen per SMS versenden","schema.host_template.text.view":"Template %s","nav.main.administration":"ADMINISTRATION","schema.host_template.test.host_nonmembers":"Hosts nicht in der Gruppe","schema.host.attr.active":"Aktiv","site.help.doc.bloonix-agent-installation":"Den Bloonix-Agenten installieren","site.wtrm.text.service_report":"Web-Transaktions-Report für Service %s","action.list":"Auflisten","schema.roster.attr.description":"Beschreibung","schema.group.text.selected_hosts":"Ausgewählte Hosts","schema.dependency.text.depends_on_service":"hängt ab von Service","schema.group.text.host_members":"Mitglieder der Gruppe","nav.sub.host_group_settings":"Gruppeneinstellungen für Hosts","schema.host.desc.device_class":"z.B.<br/>/Server/Linux/Debian<br/>/Server/Windows/Windows 2008<br/>/Network/Router<br/>/Network/Switch<br/>/Printer","text.report.title.total_availability":"Die totale Service-Verfügbarkeit","action.extsearch":"Erweiterte Suche","schema.user_chart.desc.description":"Beschreibung zum Chart.","word.To":"Bis","schema.service.info.acknowledged":"Der Status des Service wurde bestätigt.","nav.sub.contactgroup_members":"Kontakte in der Kontaktgruppe","schema.service.text.choose_plugin":"Wähle ein Plugin","site.wtrm.action.checkIfElementExists":"Check if an <b>element exists</b>","schema.user.desc.select_language":"Bitte beachten Sie das die WebGUI nach der Auswahl neu geladen wird und Sie zum Dashboard umgeleitet werden!","site.login.username":"E-Mail Adresse","schema.contact.attr.sms_notification_level":"Benachrichtigungslevel für SMS","schema.chart.attr.chart_size":"Größe","schema.user.desc.authentication_key":"Mit diesem Schlüssel ist es möglich den Nachrichtenbildschirm ohne Passwortauthentifizierung aufzurufen. Ein Aufruf des Nachrichtenbildschirm erfolgt über den Query-String<br/><br/><b>/screen/?username=XXX;authkey=XXX</b>","schema.host.desc.notification":"Aktiere oder deaktiviere die Benachrichtigungen aller Services.","text.dashboard.add_new_dashlet":"Ein neues Dashlet hinzufügen","word.Filter":"Suchfilter","schema.service.attr.attempt_warn2crit":"Wechsel von WARNING zu CRITICAL","schema.hs_downtime.attr.begin_time":"Anfangszeit","site.wtrm.action.doUrl":"Go to <b>URL</b>","text.report.availability.h16":"16:00 - 16:59","schema.dependency.text.workflow_from_service":"und von Service","schema.service.desc.agent_options.timeout":"Das ist der globale Timeout zur Ausführung des Checks. Nach dem Timeout wird der Check hart beendet und der Status des Servcice auf CRITICAL gesetzt. Dies kann sehr sinnvoll für Checks sein die hängen und sich selbst nicht mehr beenden können.<br/><br/>Standard: 30 Sekunden","schema.chart.text.user_charts":"User charts","schema.service.text.create":"Einen neuen Service erstellen","site.wtrm.attr.password":"Password","site.wtrm.attr.text":"Inner text","schema.company.attr.zipcode":"Postleitzahl","site.login.login":"Bitte loggen Sie sich mit Ihrem Benutzernamen und Passwort ein:","schema.service.action.acknowledge_multiple":"Den Status der selektierten Services bestätigen","schema.service.attr.status":"Status","site.wtrm.attr.status":"HTTP-Status","schema.company.text.delete":"Unternehmen löschen","schema.user.desc.manage_templates":"Darf der Benutzer Host-Templates verwalten?","site.login.request_failed":"Ihre Anfrage konnte nicht gesendet werden. Bitte versuchen Sie es erneut.","action.edit":"Editieren","schema.user.attr.allow_from":"Erlaubter IP-Zugriff","schema.host.desc.timeout":"Das ist der Timeout aller Services des Hosts. Wenn in dieser Zeit der Status eines Service nicht aktualisiert wurde, dann wird ein kritischer Status gesetzt mit der Information, dass der Bloonix-Agent wohlmöglich ausgefallen ist.","site.login.title":"Login zum Monitoring-System","site.wtrm.attr.element":"Element","schema.service.attr.next_check":"Nächste Prüfung","schema.service.text.clone_to_the_same_host":"Den Service zum selben Host klonen","site.wtrm.action.checkIfElementHasNotText":"Check if an <b>element does <i>NOT</i></b> contain <b>text</b>","schema.host.text.add_host_to_contactgroup":"Den Host einer Kontaktgruppe hinzufügen","site.help.doc.contacts-and-notifications":"Kontakte und Benachrichtigungen","schema.service.desc.mail_hard_interval":"Mit dieser Option können Sie einen harten Benachrichtigungsintervall setzen. Auch wenn der Service zu OK und dann wieder zu CRITICAL wechselt, so erhalten Sie erst nach Ablauf dieses Intervalls erneut eine Benachrichtigung.","schema.group.text.remove_user":"Den Benutzer aus der Gruppe entfernen","site.wtrm.desc.ms":"This is the time in milliseconds to sleep between actions.","schema.plugin_stats.text.list":"Metriken von Plugin %s","schema.service.info.active":"Der Service ist deaktiviert.","schema.group.desc.groupname":"Das ist der Name der Gruppe. Der Name sollte einzigartig sein.","text.dashboard.services_flapping":"Flapping","schema.service.attr.attempt_counter":"Prüfzähler","schema.dependency.text.create":"Eine neue Abhängigkeit für Host %s erstellen","site.login.want_to_login":"Möchten Sie sich einloggen?","text.dashboard.open_dashboard":"Ein Dashboard öffnen","schema.service.desc.passive_check":"Ein passiver Check ist ein Check, der nicht von Bloonix selbst geprüft wird, sondern von einem externen Service oder Skriptund haben keinen Timeout. Passive Checks eignen sich zum Beispiel für SNMP Traps. Dabei meldet ein externer Service einen kritischen Status an den Bloonix-Agenten, dieser wiederrum meldet den Status an den Bloonix-Server.","action.cancel":"Abbrechen","schema.contactgroup.text.create":"Eine neue Kontaktgruppe erstellen","schema.dependency.text.workflow_to_host":"zu Host","err-605":"Bitte wählen Sie mindestens ein Objekt aus!","schema.company.attr.alt_company_id":"Reale Firmen ID","text.report.title.no_data":"Für die folgenden Services stehen keine Daten in diesem Zeitbereich zur Verfügung","schema.timeperiod.text.delete":"Den Zeitplan löschen","text.from_now_to_1h":"Von jetzt + 1 Stunde","schema.host_template.desc.description":"Gebe eine kurze Beschreibung zum Template an.","schema.contact.desc.mail_to":"Dies ist die E-Mail Adresse des Konakts. Benachrichtigung über Ereignisse werden an diese Adresse gesendet.","schema.service.desc.multiple_check_type":"Mit den Multiplen-Checks haben Sie die Möglichkeit, verschiedene Messpunkte auszuwählen, von denen eine Service-Prüfung gleichzeitig ausgeführt\nwird. Erst wenn von drei Messpunkten ein kritisches Resultat geliefert wird, wird der Zähler\nvon für die maximalen Fehlversuche eines Service um eins erhöht.<br/><br/>\nUm Ihren Service nicht zu überlasten, werden maximal\n3 Messpunktprüfungen gleichzeitig ausgeführt, es findet jedoch immer eine Prüfung\nvon allen Messpunkten aus statt, auch wenn mehr als 3 Prüfungen kritisch sind.","site.wtrm.placeholder.value":"value","text.default":"Standard","schema.host.attr.device_class":"Bauklasse","site.help.doc.notification-screen":"Notification Screen","schema.chart.text.service_charts":"Service charts","action.update":"Aktualisieren","schema.company.attr.max_services":"Maximale Services","schema.group.attr.company_id":"Firmen ID","site.wtrm.action.checkIfElementHasNotHTML":"Check if an <b>element does <i>NOT</i></b> contain <b>HTML</b>","schema.host.attr.timeout":"Timeout","schema.timeperiod.examples":"<p><b>Syntax: TAG-BEREICH ZEIT-BEREICH</b></p></br>\n<pre>\nTAG BEREICH                     BEISPIELE\n------------------------------------------------------------\nWeekday                         Monday\nWeekday - Weekday               Monday - Friday\nMonth                           Januar\nMonth - Month                   Januar - July\nMonth Day                       Januar 1\nMonth Day - Month Day           Januar 1 - July 15\nYear                            2010\nYear - Year                     2010 - 2012\nYYYY-MM-DD                      2010-01-01\nYYYY-MM-DD - YYYY-MM-DD         2010-01-01 - 2012-06-15\n</pre></br>\n<pre>\nZEIT BEREICH                    BEISPIELE\n------------------------------------------------------------\nHH:MM - HH:MM                   09:00 - 17:00\nHH:MM - HH:MM, HH:MM - HH:MM    00:00 - 08:59, 17:01 - 23:59\n</pre></br>\n<p><b>Bespiele:</b></p></br>\n<pre>\nMonday - Friday     09:00 - 17:00\nMonday - Friday     00:00 - 08:59, 17:01 - 23:59\nSaturday - Sunday   00:00 - 23:59\n</pre></br>","info.this-year":"Dieses Jahr","schema.service_downtime.text.title":"Geplante Service-Wartungsarbeiten für Host %s","nav.sub.rosters":"Bereitschaftsplan","schema.dependency.text.no_dependencies":"Es sind keine Abhängigkeiten konfiguriert!","schema.event.attr.duration":"Dauer","schema.contact.text.settings":"Einstellungen des Kontakts","text.report.availability.h11":"11:00 - 11:59","text.report.availability.lt300":"Zwischen 3 und 5 Stunden","schema.service.text.view_location_report":"Standortreport einsehen","site.wtrm.attr.parent":"Parent ID","schema.chart.attr.to":"Bis","schema.group.text.list":"Übersicht über alle Gruppen","site.login.forgot_password":"Haben Sie Ihr Passwort vergessen?","schema.service.text.command_options":"Check Einstellungen","schema.host.text.list":"Übersicht über alle Hosts","schema.user.desc.company":"Wähle ein Unternehmen zu dem der Benutzer gehört.","site.login.sign_up":"Registrieren Sie sich für einen Bloonix Account","err-425":"Ihr Session-Token ist abgelaufen!","schema.timeslice.attr.id":"ID","text.report.availability.h21":"21:00 - 21:59","schema.dependency.text.workflow_from_host_status":"Wähle den Status des Hosts, welcher den Abhängigkeitsfluss aktiviert","schema.sms_send.text.list":"Gesendete SMS für Host %s","schema.service.desc.sms_hard_interval":"Mit dieser Option können Sie einen harten Benachrichtigungsintervall setzen. Auch wenn der Service zu OK und dann wieder zu CRITICAL wechselt, so erhalten Sie erst nach Ablauf dieses Intervalls erneut eine Benachrichtigung.","schema.service.text.multiple_location_check_button":"Mehrfache Checks","site.wtrm.action.doAuth":"Set auth basic <b>username</b> and <b>password</b>","err-600":"Das angeforderte Objekt existiert nicht!","site.wtrm.action.doSleep":"<b>Sleep</b> a while","err-802":"Sorry, aber diese Funktion ist nicht verfügbar!","schema.chart.text.selected":"selektiert","schema.user_chart.text.delete":"Chart löschen","schema.plugin.attr.plugin":"Plugin","site.login.follow":"Folgen Sie Bloonix","site.wtrm.attr.username":"Username","text.report.availability.h19":"19:00 - 19:59","schema.service.attr.sms_hard_interval":"Benachrichtigungsintervall für SMS (hart)","schema.company.attr.address2":"Adresse 2","text.dashboard.map_title":"Globale Host Status Karte","text.report.availability.EV-I":"Anzahl von Ereignissen mit Status INFO. ","action.replace":"Ersetzen","schema.contactgroup.text.list":"Übersicht über alle Kontaktgruppen","schema.chart.text.chart_information":"Chart Informationen","schema.event.attr.status":"Status","schema.service.desc.notification":"Diese Option aktiviert oder deaktiviert Benachrichtigungen für den Service.","site.help.doc.host-templates":"Host Templates einrichten und verwalten","schema.timeperiod.attr.name":"Zeitplan","schema.company.attr.name":"Name","schema.dependency.attr.on_host_id":"Depends on host ID","schema.service.text.title":"Services","schema.service.text.clone_select_host":"Einen anderen Host auswählen","schema.contactgroup.text.host_members":"Hosts, die der Kontaktgruppe angehören","schema.service.desc.rotate_check_type":"Die Rotate-Checks haben keinen festen Messpunkt.\nStattdessen rotieren die Services-Prüfungen über die ausgewählten Messpunkte.\nSollte die Prüfung von einem Messpunkt nicht OK sein, wird sofort zum nächsten Messpunkt\ngesprungen. Sollte auch der dritte Messpunkt ein Resultat liefern, welcher nicht OK ist, so wird\nder Zähler für die maximalen Fehlversuche eines Service um eins erhöht.","word.day":"Tage","schema.user.desc.name":"Das ist der Name des Benutzers.","action.delete":"Löschen","action.create":"Erstellen","schema.host_template.desc.name":"Dies ist der Name des Templates.","site.wtrm.placeholder.element":"#element-id OR .class-name OR name","schema.chart.text.view":"Charts für Host %s","schema.service.text.list":"Übersicht über alle Services","schema.host.text.multiple_edit":"Die Konfiguration mehrerer Hosts editieren","text.report.title.total_status_duration":"Die Dauer der Ereignisse nach Status","schema.contact.desc.sms_notifications_enabled":"Mit dieser Option ist es möglich die Benachrichtigung per SMS ein- oder auszuschalten.","schema.service.action.activate_multiple":"Selektierte Services aktivieren","schema.chart.text.charts":"Charts","site.wtrm.command.checkIfElementIsNotChecked":"Check if the radio button or checkbox <b>%s</b> is <i>NOT</i> checked","text.please_select_objects":"Bitte selektieren Sie mindestens ein Objekt!","schema.chart.text.multiview":"Anzeige mehrerer Charts","text.dashboard.list_top_services":"Anzeige der Top-Services","text.min_length":"Mindestlänge %s","schema.group.text.settings":"Einstellungen der Gruppe","schema.host.text.report_title":"Bericht für Host %s","schema.service.info.inherits_from_host_template":"Dieser Service wird von Host Template '%s' vererbt.","schema.host.attr.hostname":"Hostname","schema.group.text.may_create_services":"Darf Services erstellen","schema.host.attr.sysgroup":"Systemgruppe","schema.dependency.text.workflow_from_service_status":"Wähle den Status des Services, welcher den Abhängigkeitsfluss aktiviert","schema.company.text.create":"Erstelle ein Unternehmen","schema.chart.attr.title":"Chart Titel","schema.hs_downtime.attr.id":"ID","err-417":"Sie haben nicht genügend Rechte um ein Objekt zu erstellen!","action.schedule":"Planen","text.report.availability.h09":"09:00 - 09:59","schema.user.attr.locked":"Gesperrt","schema.contactgroup.text.delete":"Die Kontaktgruppe löschen","text.dashboard.default_dashboard_cannot_deleted":"Das Standard-Dashboard kann nicht gelöscht werden!","text.last_30d":"Die letzten 30 Tage","word.No":"Nein","schema.hs_downtime.text.create":"Erstelle eine geplante Wartungsarbeit","site.wtrm.command.checkIfElementHasHTML":"Check if the element <b>%s</b> contains <b>%s</b>","schema.service.attr.result":"Erweiterte Status Information","schema.host.desc.hw_manufacturer":"z.B. IBM, HP, Dell, Fujitsu Siemens","schema.company.attr.surname":"Vorname","schema.user.desc.locked":"Darf sich der Benutzer einloggen?","schema.contactgroup.attr.name":"Name","word.Relative":"Relativ","schema.chart.text.load_view":"Ansicht laden","err-703":"Das Passwort ist zu kurz (minimum 8 Zeichen)!","site.wtrm.action.doFill":"Fill data into a <b>input</b> field or <b>textarea</b>","schema.host.desc.max_sms":"In diesem Feld kann die maximale Anzahl von SMS pro Monat für diesen Host gesetzt werden.","text.dashboard.services_acknowledged":"Bestätigt","schema.service.desc.mail_warnings":"Diese Option aktiviert oder deaktiviert das Versenden von Nachrichten per E-Mail für Services im Status WARNING.","site.wtrm.placeholder.html":"<span>Loren ipsum...</span>","action.save":"Speichern","schema.service.text.multiple_acknowledge":"Den Status mehrerer Services bestätigen","schema.service.desc.sms_soft_interval":"Dies ist der Benachrichtigungsintervall für Services. Solange der Service nicht OK ist, erhalten Sie in diesem Intervall erneut Benachrichtigungen.","site.wtrm.placeholder.password":"Secret","schema.host.attr.hw_manufacturer":"HW Hersteller","schema.contact.text.escalation_level_event.x":"aktiv nach %s Benachrichtiungen","schema.service.desc.description":"Dies ist eine kurze Beschreibung zum Service.","schema.user_chart.attr.title":"Titel","schema.user.desc.phone":"Die Rufnummer kann sehr hilfreich für Kollegen oder dem Bloonix-Support in dringenden Notfällen sein.","site.help.doc.bloonix-agent-configuration":"Den Bloonix-Agenten konfigurieren","schema.dependency.attr.on_status":"Übergeordneter Status","nav.sub.templates":"Templates","text.report.availability.lt30":"Zwischen 15 und 30 Minuten","schema.contactgroup.text.settings":"Einstellungen der Kontaktgruppe","site.help.doc.add-new-host":"Einen neuen Host anlegen","schema.host.action.add_template":"Template hinzufügen","schema.hs_downtime.text.delete":"Lösche eine geplante Wartungsarbeit","err-419":"Sie haben nicht genügend Rechte um das Objekt zu löschen!","text.max_length":"Maximallänge %s","nav.main.report":"REPORT","text.report.availability.h23":"23:00 - 23:59","schema.service.attr.timeout":"Timeout","site.help.title":"Die Bloonix Hilfe","schema.service.attr.flapping":"Flapping","text.dashboard.dashlet_select_chart_title":"Wähle einen Chart für das Dashlet","text.dashboard.dashlet_select_chart":"Wähle einen Chart","text.first_failover_checkpoint":"Erster Ausfallmesspunkt","schema.chart.text.really_delete_view":"Möchten Sie wirklich die Chart Ansicht <b>%s</b> löschen?","schema.service.desc.agent_id":"Standort der Prüfung","schema.service.desc.rotate_check_type_locations":"Ihr Service wird von folgenden Messpunkten überprüft:","text.dashboard.services_notification":"Benachrichtigungsstatus aller Services","schema.contact.text.timeperiods":"Zeitpläne des Kontakts","schema.dependency.attr.id":"Dependency ID","text.dashboard.title":"Dashboard","schema.user.attr.manage_contacts":"Verwaltung von Kontakten?","site.wtrm.command.doWaitForElementWithText":"Wait for element <b>%s</b> with text <b>%s</b>","schema.user.text.list":"Übersicht über alle Benutzer","schema.service.desc.mail_ok":"Diese Option aktiviert oder deaktiviert das Versenden von Nachrichten per E-Mail für Services die in den Status OK zurückwechseln.","info.extended_search_syntax_for_hosts":'<p>Es ist möglich die Hostliste durch eine Suchabfrage zu filtern. Die Syntax ist sehr einfach und sieht wie folgt aus::</p>\n<pre>Schlüssel:Wert</pre>\n<p>Der Schlüssel ist das Tabellenfeld, in dem nach dem Wert gesucht werden solll.</p>\n<p>Suchbeispiele:</p>\n<p>- Suche nach Hosts mit Status CRITICAL oder UNKNOWN</p>\n<pre>status:CRITICAL OR status:UNKNOWN</pre>\n<p>- Suche nach Hosts im Datacenter 12 mit Status CRITICAL</p>\n<pre>location:"Datacenter 12" AND status:CRITICAL</pre>\n<p>Die folgenden Schlüssel sind für die spezifische Suche verfügbar:</p>',"site.wtrm.desc.text":"The inner text of an element you wish to check.","word.Yes":"Ja","word.Preset":"Voreinstellung","action.quicksearch":"Schnellsuche","schema.host.text.mtr_output":"MTR Ergebis von Host %s","schema.dependency.attr.status":"Status","schema.service.attr.ref_id":"ID","schema.group.attr.id":"Gruppen ID","schema.chart.attr.id":"Chart ID","site.wtrm.text.wtrm_workflow":"Web Transaction Workflow","schema.host.desc.comment":"Dieses Feld kann für Kommentare verwendet werden.","text.report.availability.agent_dead":"Agent tot","site.wtrm.desc.url":"This is the full URL to request. As example: http://www.bloonix.de/","schema.dependency.text.workflow_to_service":"und zu Service","schema.host.desc.active":"Aktiviere oder deaktiviere den Host und alle Services.","schema.host.text.add_host_to_group":"Den Host einer Gruppe hinzufügen","schema.service.attr.volatile_since":"Seit wann ist der Status flüchtig (volatile)","schema.user_chart.text.create":"Einen Chart erstellen","schema.host.text.device_class_help_link":"Lesen Sie wie dieses Feature funktioniert","schema.user.text.session_expires":"Session läuft ab","err-801":"Sorry, aber Sie dürfen nicht mehr als %s Services einrichten!","text.dashboard.top_hosts_events":"Anzeige der Top-Events aller Hosts","text.report.availability.h22":"22:00 - 22:59","nav.sub.reports":"Berichte","schema.chart.text.alignment":"Chartausrichtung","word.Absolute":"Absolut","err-704":"Die Passwörter stimmen nicht überein!","schema.plugin.attr.categories":"Kategorien","err-411":"Der Dienst ist nicht verfügbar!","schema.service.desc.agent_id_tooltip":"<h4>Von welchem Standort aus soll der Check ausgeführt werden?</h4>\n<p>\nEs gibt die Optionen <i>localhost</i>, <i>intranet</i> und <i>remote</i>.\n</p>\n<h3>localhost</h3>\n<p>\nMit der Option <i>localhost</i> wird der Check lokal auf Ihrem Server ausgeführt.\nHierzu ist es notwendig, dass der Bloonxi-Agent auf Ihrem Server installiert ist.\nDiese Option ist besonders sinnvoll, wenn Sie die Systemvitals, wie zum Beispiel die\nCPU, den Hauptspeicher oder auch die Festplatten überwachen möchten.\n</p>\n<h3>intranet</h3>\n<p>\nMit der Option <i>intranet</i> ist ihr lokales Netzwerk gemeint. Hierfür ist es notwendig,\ndass Sie den Bloonix-Agenten in Ihrem lokalen Netzwerk auf einem zentralen Server installieren.\nVon diesem Server aus werden die Checks ausgeführt. Diese Option ist sinnvoll, wenn Ihre Server\nServices bereitstellen, welche nicht über eine Internetanbindung erreichbar sind, aber dennoch\nvon einem anderen Server aus überprüft werden sollen. Das können zum Beispiel Router, Switches\netc. sein.\n</p>\n<h3>remote</h3>\n<p>\nMit der Option <i>remote</i> wird der Check von einem externen Bloonix-Server ausgeführt. Dies ist besonders für\nServices sinnvoll, die Dienste für Andere bereitstellen. Zum Beispiel können Sie über einen externen Check die\nFunktionalität Ihres Webservers bzw. Ihrer Webseiten überprüfen.\n</p>","site.login.choose_your_language":"Wählen Sie Ihre Sprache","schema.service.desc.sms_warnings":"Diese Option aktiviert oder deaktiviert das Versenden von Nachrichten per SMS für Services im Status WARNING.","text.from_now_to_7d":"Von jetzt + 7 Tage","schema.host_template.text.delete_service_warning":"Bitte beachte dass dieser Service von allen Hosts gelöscht wird, die diesen Service über das Template vererbt bekommen!","schema.chart.text.selected_max_reached":"(max) selektiert","schema.service.text.settings":"Einstellung des Service %s","site.wtrm.action.checkIfElementIsChecked":"Check if a <b>radio button</b> or <b>checkbox</b> is <b>checked</b>","site.wtrm.action.checkIfElementHasValue":"Check the <b>value</b> of an <b>input</b> field or <b>textarea</b>","schema.plugin.attr.description":"Beschreibung","schema.user_chart.text.title":"Benutzer Charts","nav.sub.services":"Services","schema.sms_send.attr.time":"Zeitstempel","schema.dependency.text.dependencies":"Abhängigkeiten","schema.service.desc.failover_check_type_locations":"Bitte wählen Sie einen festen und zwei Failover Messpunkte aus","site.wtrm.desc.contentType":"Enter content type that is expeced for the URL.","action.no_abort":"<b>Nein, abbrechen!</b>","text.from_now_to_4h":"Von jetzt + 4 Stunden","schema.service.attr.scheduled":"Hat eine Downtime","schema.group.attr.groupname":"Gruppenname","action.members":"Mitglieder auflisten","schema.host.text.multiple_activate":"Mehrere Hosts aktivieren oder deaktivieren","schema.host.attr.company_id":"Firmen ID","word.active":"aktiv","schema.host.attr.comment":"Kommentar","schema.service.desc.timeout":"Das ist der Timeout des Service. Wenn in dieser Zeit der Status des Service nicht aktualisiert wurde, dann wird ein kritischer Status gesetzt mit der Information, dass der Bloonix-Agent wohlmöglich ausgefallen ist. Wenn kein Wert gesetzt ist, dann wird der Timeout des Hosts vererbt.","schema.user.attr.comment":"Kommentar","err-633":"Der Parameter sort_by muss mit einem Zeichen von a-z beginnen und nur Zeichen von a-z, 0-9 und ein Unterstrich sind erlaubt. Die maximale Länge beträgt 63 Zeichen.","schema.contactgroup.text.selected_hosts":"Ausgewählte Hosts","schema.user.desc.allow_from":"Es ist möglich eine Komma-separierte Liste von IP-Adressen anzugeben, von denen sich der Benutzer einloggen darf. Das Schlüsselwort <i>all</i> heißt von überall.","schema.contact.desc.mail_notifications_enabled":"Mit dieser Option ist es möglich die Benachrichtigung per E-Mail ein- oder auszuschalten.","schema.company.desc.max_services":"Die maximale Anzahl an Services die überwacht werden dürfen. Setze 0 (null) wenn es kein Limit gibt.","schema.user.attr.role":"Rolle","site.wtrm.command.doWaitForElement":"Wait for element <b>%s</b>","text.locations_selected_costs":"Sie haben %s Messpunkte ausgewählt. Bitte beachten Sie, dass jeder Kontrollpunkt extra berechnet wird.","site.login.documentation":"Die Bloonix Dokumentation","text.report.availability.h02":"02:00 - 02:59","schema.chart.text.select":"Chartauswahl für Host %s","site.wtrm.attr.html":"Inner HTML","schema.host.text.list_device_classes":"Device Klassen","schema.host_template.text.delete_service":"Einen Service aus dem Template löschen","schema.service.desc.volatile_retain":"Mit dieser Option kann konfiguriert werden, ob der flüchtige Status eines Services nach einer bestimmten Zeit automatisch aufgehoben wird.","schema.service.attr.last_sms_time":"Letzte Benachrichtigung per SMSRNUNGEN per E-Mail versenden","word.hours":"Stunden","schema.host.desc.add_host_to_contactgroup":"Füge den Host einer Kontaktgruppe hinzu","schema.timeperiod.text.examples":"Beispiel für Zeitpläne","schema.dependency.attr.timeslice":"Zeitabschnitt","schema.host_template.text.list":"Übersicht über alle Host-Templates","word.days":"Tage","schema.service.attr.is_volatile":"Ist der Service flüchtig (volatile)","info.go-back":"Zurück","err-405":"Ihre Session ist abgelaufen!","word.debug":"Debug","schema.service.attr.last_event":"Letzes Ereignis","schema.hs_downtime.text.select_services":"Services<br/><small>Bitte wählen Sie keine Services aus, wenn<br/>Sie eine Downtime für den gesamten Host<br/>einrichten möchten.</small>","err-418":"Sie haben nicht genügend Rechte um das Objekt zu modifizieren!","text.report.availability.LT15":"Filterung von Ereignissen mit einer Statusdauer kleiner als 15 Minuten.","schema.service.desc.acknowledged":"Diese Option ist hilfreich wenn ein Service nicht OK ist und Sie das Benachrichtiungen temporär ausschalten möchten. Die Benachrichtigungen werden automatisch wieder eingeschaltet, wenn der Service in den Status OK gewechselt ist.","site.wtrm.desc.username":"This username for the auth basic authentification.","text.report.availability.h14":"14:00 - 14:59","nav.sub.mtr":"MTR","site.wtrm.desc.value":"The value of the element you wish to fill or check.","schema.contact.attr.mail_notification_level":"Benachrichtigungslevel für E-Mails","text.report.availability.ge300":"Länger als 3 Stunden","nav.sub.screen":"Bildschirm","schema.service.text.multiple_notification":"Die Benachrichtigungen für mehrere Services ein- oder ausschalten","site.help.doc.host-and-service-dependencies":"Abhängigkeiten zwischen Hosts und Services","action.view_selected_objects":"Ausgewählte Objekte einsehen","site.wtrm.command.doSelect":"Select the value <b>%s</b> from the selectbox <b>%s</b>","schema.dependency.text.workflow_to_service_status":"Wähle den Status des übergeordneten Services, welcher die Benachrichtigung untertrückt","schema.user_chart.text.update":"Einen Chart aktualisieren","schema.roster.text.list":"Übersicht über alle Bereitschaftspläne","schema.service.text.view_wtrm_report":"Web-Transaktionsreport einsehen","err-800":"Sorry, aber Sie dürfen nicht mehr als %s Service einrichten!","site.help.doc.device-classes":"Bauklasse von Hosts","schema.user.attr.manage_templates":"Verwaltung von Vorlagen?","text.dashboard.hosts_availability":"Verfügbarkeit aller Hosts","schema.service.attr.comment":"Kommentar","schema.service.info.has_result":"Dieser Service-Check hat erweiterte Statusinformationen. Klick mich :-)","schema.user.text.new_password":"Neues Passwort","text.dashboard.services_downtimes":"Geplante Wartungsarbeiten","schema.service.info.flapping":"Der Service wechselt zu häufig den Status.","text.last_60d":"Die letzten 60 Tage","site.help.doc.host-alive-check":"Was ist ein Host-Alive-Check?","schema.contact.text.escalation_level_event.1":"aktiv nach 1er Benachrichtiung","action.close":"Schließen","schema.roster.attr.roster":"Bereitschaftsplan","schema.user_chart.desc.yaxis_label":"Das Label der Y-Achse.","schema.company.attr.company":"Firma","site.wtrm.command.doUserAgent":"Set the user agent to <b>%s</b>","schema.host.action.deactivate_multiple":"Selektierte Hosts deaktivieren","text.report.availability.Service":"Klicke auf den Service für einen detaillierten Bericht","action.yes_delete":"<b>Ja, löschen!</b>","schema.contact.attr.id":"Kontakt ID","schema.service.attr.command":"Kommando","action.help":"Hilfe","schema.event.text.host_service":"Host / Service","nav.sub.hosts":"Hosts","site.help.doc.json-api":"Die Bloonix JSON API","nav.main.notifications":"BENACHRICHTIGUNGEN","schema.contact.attr.mail_to":"E-Mail","schema.host_template.text.create":"Ein neues Template erstellen","schema.chart.attr.preset_last":"Vorauswahl: letzte","schema.event.attr.tags":"Hinweise","site.help.doc.scheduled-downtimes":"Geplante Wartungsarbeiten einrichten","schema.user.attr.timezone":"Zeitzone","action.display_from_to_rows":"Anzeige %s-%s von %s Treffern","schema.contactgroup.attr.description":"Beschreibung","site.wtrm.placeholder.ms":"5000","word.inactive":"inaktiv","site.wtrm.desc.hidden":"Do you want to hide the value because it's a password or a secret string?","schema.user.text.select_language":"Wähle deine bevorzugte Sprache aus","site.login.welcome":"Willkommen bei Bloonix!","schema.host_template.text.clone_title":"Das Template %s klonen","text.report.availability.h17":"17:00 - 17:59","schema.host.info.inactive":"Der Host ist deaktiviert.","schema.service.attr.interval":"Intervall","schema.service.action.multiple_force_next_check":"Erzwinge den nächsten Check des Service","schema.service.info.inactive":"Der Service ist inaktiv.","schema.user.text.delete":"Den Benutzer löschen","schema.service.text.select_location_check_type_info":"Klicke auf die Buttons um eine kurze Beschreibung zu jedem Typ zu erhalten","schema.service.attr.notification":"Benachrichtigungen eingeschaltet","site.wtrm.attr.userAgent":"User-Agent","schema.service.desc.failover_check_type_title":"Failover Messpunkt","schema.service.attr.sms_soft_interval":"Benachrichtigungsintervall für SMS (soft)","schema.user_chart.desc.subtitle":"Der Untertitle des Chart.","site.wtrm.command.doFill":"Fill element <b>%s</b> with value <b>%s</b>","schema.host.desc.coordinates":"Der Standort des Hosts nach Länderkürzel.","site.wtrm.action.checkIfElementIsSelected":"Check if a <b>value</b> is <b>selected</b> in a selectbox","text.undefined":"Nicht definiert","info.search_syntax":"<p><b>Syntax der Suche:</b></p>\n<p>planet <i>AND</i> mars</p>\n<p>mars <i>OR</i> pluto</p>\n<p>planet <i>AND</i> mars <i>OR</i> pluto</p>","schema.user.attr.authentication_key":"Authentication Key","word.Days":"Tage","text.never":"Niemals","text.report.availability.AV-W":"Der Zeitbereich in Prozent in dem der Service im Status WARNING war.","schema.chart.text.chart_views":"Chart Ansichten","schema.service.desc.active":"Diese Option aktiviert oder deaktiviert den Service.","schema.service.attr.command_options":"Check Einstellungen","schema.hs_downtime.attr.username":"Erstellt von","text.selected_objects":"Ausgewählte Objekte","schema.dependency.text.service_to_service":"Service zu Service","schema.service.action.deactivate_multiple":"Selektierte Services deaktivieren","word.Hours":"Stunden"}};
var o=function(){return[{value:"Africa/Abidjan",name:"Africa/Abidjan"},{value:"Africa/Accra",name:"Africa/Accra"},{value:"Africa/Addis_Ababa",name:"Africa/Addis Ababa"},{value:"Africa/Algiers",name:"Africa/Algiers"},{value:"Africa/Asmara",name:"Africa/Asmara"},{value:"Africa/Bamako",name:"Africa/Bamako"},{value:"Africa/Bangui",name:"Africa/Bangui"},{value:"Africa/Banjul",name:"Africa/Banjul"},{value:"Africa/Bissau",name:"Africa/Bissau"},{value:"Africa/Blantyre",name:"Africa/Blantyre"},{value:"Africa/Brazzaville",name:"Africa/Brazzaville"},{value:"Africa/Bujumbura",name:"Africa/Bujumbura"},{value:"Africa/Cairo",name:"Africa/Cairo"},{value:"Africa/Casablanca",name:"Africa/Casablanca"},{value:"Africa/Ceuta",name:"Africa/Ceuta"},{value:"Africa/Conakry",name:"Africa/Conakry"},{value:"Africa/Dakar",name:"Africa/Dakar"},{value:"Africa/Dar_es_Salaam",name:"Africa/Dar es Salaam"},{value:"Africa/Djibouti",name:"Africa/Djibouti"},{value:"Africa/Douala",name:"Africa/Douala"},{value:"Africa/El_Aaiun",name:"Africa/El Aaiun"},{value:"Africa/Freetown",name:"Africa/Freetown"},{value:"Africa/Gaborone",name:"Africa/Gaborone"},{value:"Africa/Harare",name:"Africa/Harare"},{value:"Africa/Johannesburg",name:"Africa/Johannesburg"},{value:"Africa/Kampala",name:"Africa/Kampala"},{value:"Africa/Khartoum",name:"Africa/Khartoum"},{value:"Africa/Kigali",name:"Africa/Kigali"},{value:"Africa/Kinshasa",name:"Africa/Kinshasa"},{value:"Africa/Lagos",name:"Africa/Lagos"},{value:"Africa/Libreville",name:"Africa/Libreville"},{value:"Africa/Lome",name:"Africa/Lome"},{value:"Africa/Luanda",name:"Africa/Luanda"},{value:"Africa/Lubumbashi",name:"Africa/Lubumbashi"},{value:"Africa/Lusaka",name:"Africa/Lusaka"},{value:"Africa/Malabo",name:"Africa/Malabo"},{value:"Africa/Maputo",name:"Africa/Maputo"},{value:"Africa/Maseru",name:"Africa/Maseru"},{value:"Africa/Mbabane",name:"Africa/Mbabane"},{value:"Africa/Mogadishu",name:"Africa/Mogadishu"},{value:"Africa/Monrovia",name:"Africa/Monrovia"},{value:"Africa/Nairobi",name:"Africa/Nairobi"},{value:"Africa/Ndjamena",name:"Africa/Ndjamena"},{value:"Africa/Niamey",name:"Africa/Niamey"},{value:"Africa/Nouakchott",name:"Africa/Nouakchott"},{value:"Africa/Ouagadougou",name:"Africa/Ouagadougou"},{value:"Africa/Porto-Novo",name:"Africa/Porto-Novo"},{value:"Africa/Sao_Tome",name:"Africa/Sao Tome"},{value:"Africa/Tripoli",name:"Africa/Tripoli"},{value:"Africa/Tunis",name:"Africa/Tunis"},{value:"Africa/Windhoek",name:"Africa/Windhoek"},{value:"America/Adak",name:"America/Adak"},{value:"America/Anchorage",name:"America/Anchorage"},{value:"America/Anguilla",name:"America/Anguilla"},{value:"America/Antigua",name:"America/Antigua"},{value:"America/Araguaina",name:"America/Araguaina"},{value:"America/Argentina/Buenos_Aires",name:"America/Argentina/Buenos Aires"},{value:"America/Argentina/Catamarca",name:"America/Argentina/Catamarca"},{value:"America/Argentina/Cordoba",name:"America/Argentina/Cordoba"},{value:"America/Argentina/Jujuy",name:"America/Argentina/Jujuy"},{value:"America/Argentina/La_Rioja",name:"America/Argentina/La Rioja"},{value:"America/Argentina/Mendoza",name:"America/Argentina/Mendoza"},{value:"America/Argentina/Rio_Gallegos",name:"America/Argentina/Rio Gallegos"},{value:"America/Argentina/Salta",name:"America/Argentina/Salta"},{value:"America/Argentina/San_Juan",name:"America/Argentina/San Juan"},{value:"America/Argentina/San_Luis",name:"America/Argentina/San Luis"},{value:"America/Argentina/Tucuman",name:"America/Argentina/Tucuman"},{value:"America/Argentina/Ushuaia",name:"America/Argentina/Ushuaia"},{value:"America/Aruba",name:"America/Aruba"},{value:"America/Asuncion",name:"America/Asuncion"},{value:"America/Atikokan",name:"America/Atikokan"},{value:"America/Bahia",name:"America/Bahia"},{value:"America/Bahia_Banderas",name:"America/Bahia Banderas"},{value:"America/Barbados",name:"America/Barbados"},{value:"America/Belem",name:"America/Belem"},{value:"America/Belize",name:"America/Belize"},{value:"America/Blanc-Sablon",name:"America/Blanc-Sablon"},{value:"America/Boa_Vista",name:"America/Boa Vista"},{value:"America/Bogota",name:"America/Bogota"},{value:"America/Boise",name:"America/Boise"},{value:"America/Cambridge_Bay",name:"America/Cambridge Bay"},{value:"America/Campo_Grande",name:"America/Campo Grande"},{value:"America/Cancun",name:"America/Cancun"},{value:"America/Caracas",name:"America/Caracas"},{value:"America/Cayenne",name:"America/Cayenne"},{value:"America/Cayman",name:"America/Cayman"},{value:"America/Chicago",name:"America/Chicago"},{value:"America/Chihuahua",name:"America/Chihuahua"},{value:"America/Costa_Rica",name:"America/Costa Rica"},{value:"America/Cuiaba",name:"America/Cuiaba"},{value:"America/Curacao",name:"America/Curacao"},{value:"America/Danmarkshavn",name:"America/Danmarkshavn"},{value:"America/Dawson",name:"America/Dawson"},{value:"America/Dawson_Creek",name:"America/Dawson Creek"},{value:"America/Denver",name:"America/Denver"},{value:"America/Detroit",name:"America/Detroit"},{value:"America/Dominica",name:"America/Dominica"},{value:"America/Edmonton",name:"America/Edmonton"},{value:"America/Eirunepe",name:"America/Eirunepe"},{value:"America/El_Salvador",name:"America/El Salvador"},{value:"America/Fortaleza",name:"America/Fortaleza"},{value:"America/Glace_Bay",name:"America/Glace Bay"},{value:"America/Godthab",name:"America/Godthab"},{value:"America/Goose_Bay",name:"America/Goose Bay"},{value:"America/Grand_Turk",name:"America/Grand Turk"},{value:"America/Grenada",name:"America/Grenada"},{value:"America/Guadeloupe",name:"America/Guadeloupe"},{value:"America/Guatemala",name:"America/Guatemala"},{value:"America/Guayaquil",name:"America/Guayaquil"},{value:"America/Guyana",name:"America/Guyana"},{value:"America/Halifax",name:"America/Halifax"},{value:"America/Havana",name:"America/Havana"},{value:"America/Hermosillo",name:"America/Hermosillo"},{value:"America/Indiana/Indianapolis",name:"America/Indiana/Indianapolis"},{value:"America/Indiana/Knox",name:"America/Indiana/Knox"},{value:"America/Indiana/Marengo",name:"America/Indiana/Marengo"},{value:"America/Indiana/Petersburg",name:"America/Indiana/Petersburg"},{value:"America/Indiana/Tell_City",name:"America/Indiana/Tell City"},{value:"America/Indiana/Vevay",name:"America/Indiana/Vevay"},{value:"America/Indiana/Vincennes",name:"America/Indiana/Vincennes"},{value:"America/Indiana/Winamac",name:"America/Indiana/Winamac"},{value:"America/Inuvik",name:"America/Inuvik"},{value:"America/Iqaluit",name:"America/Iqaluit"},{value:"America/Jamaica",name:"America/Jamaica"},{value:"America/Juneau",name:"America/Juneau"},{value:"America/Kentucky/Louisville",name:"America/Kentucky/Louisville"},{value:"America/Kentucky/Monticello",name:"America/Kentucky/Monticello"},{value:"America/Kralendijk",name:"America/Kralendijk"},{value:"America/La_Paz",name:"America/La Paz"},{value:"America/Lima",name:"America/Lima"},{value:"America/Los_Angeles",name:"America/Los Angeles"},{value:"America/Lower_Princes",name:"America/Lower Princes"},{value:"America/Maceio",name:"America/Maceio"},{value:"America/Managua",name:"America/Managua"},{value:"America/Manaus",name:"America/Manaus"},{value:"America/Marigot",name:"America/Marigot"},{value:"America/Martinique",name:"America/Martinique"},{value:"America/Matamoros",name:"America/Matamoros"},{value:"America/Mazatlan",name:"America/Mazatlan"},{value:"America/Menominee",name:"America/Menominee"},{value:"America/Merida",name:"America/Merida"},{value:"America/Metlakatla",name:"America/Metlakatla"},{value:"America/Mexico_City",name:"America/Mexico City"},{value:"America/Miquelon",name:"America/Miquelon"},{value:"America/Moncton",name:"America/Moncton"},{value:"America/Monterrey",name:"America/Monterrey"},{value:"America/Montevideo",name:"America/Montevideo"},{value:"America/Montreal",name:"America/Montreal"},{value:"America/Montserrat",name:"America/Montserrat"},{value:"America/Nassau",name:"America/Nassau"},{value:"America/New_York",name:"America/New York"},{value:"America/Nipigon",name:"America/Nipigon"},{value:"America/Nome",name:"America/Nome"},{value:"America/Noronha",name:"America/Noronha"},{value:"America/North_Dakota/Beulah",name:"America/North Dakota/Beulah"},{value:"America/North_Dakota/Center",name:"America/North Dakota/Center"},{value:"America/North_Dakota/New_Salem",name:"America/North Dakota/New Salem"},{value:"America/Ojinaga",name:"America/Ojinaga"},{value:"America/Panama",name:"America/Panama"},{value:"America/Pangnirtung",name:"America/Pangnirtung"},{value:"America/Paramaribo",name:"America/Paramaribo"},{value:"America/Phoenix",name:"America/Phoenix"},{value:"America/Port-au-Prince",name:"America/Port-au-Prince"},{value:"America/Port_of_Spain",name:"America/Port of Spain"},{value:"America/Porto_Velho",name:"America/Porto Velho"},{value:"America/Puerto_Rico",name:"America/Puerto Rico"},{value:"America/Rainy_River",name:"America/Rainy River"},{value:"America/Rankin_Inlet",name:"America/Rankin Inlet"},{value:"America/Recife",name:"America/Recife"},{value:"America/Regina",name:"America/Regina"},{value:"America/Resolute",name:"America/Resolute"},{value:"America/Rio_Branco",name:"America/Rio Branco"},{value:"America/Santa_Isabel",name:"America/Santa Isabel"},{value:"America/Santarem",name:"America/Santarem"},{value:"America/Santiago",name:"America/Santiago"},{value:"America/Santo_Domingo",name:"America/Santo Domingo"},{value:"America/Sao_Paulo",name:"America/Sao Paulo"},{value:"America/Scoresbysund",name:"America/Scoresbysund"},{value:"America/Shiprock",name:"America/Shiprock"},{value:"America/Sitka",name:"America/Sitka"},{value:"America/St_Barthelemy",name:"America/St Barthelemy"},{value:"America/St_Johns",name:"America/St Johns"},{value:"America/St_Kitts",name:"America/St Kitts"},{value:"America/St_Lucia",name:"America/St Lucia"},{value:"America/St_Thomas",name:"America/St Thomas"},{value:"America/St_Vincent",name:"America/St Vincent"},{value:"America/Swift_Current",name:"America/Swift Current"},{value:"America/Tegucigalpa",name:"America/Tegucigalpa"},{value:"America/Thule",name:"America/Thule"},{value:"America/Thunder_Bay",name:"America/Thunder Bay"},{value:"America/Tijuana",name:"America/Tijuana"},{value:"America/Toronto",name:"America/Toronto"},{value:"America/Tortola",name:"America/Tortola"},{value:"America/Vancouver",name:"America/Vancouver"},{value:"America/Whitehorse",name:"America/Whitehorse"},{value:"America/Winnipeg",name:"America/Winnipeg"},{value:"America/Yakutat",name:"America/Yakutat"},{value:"America/Yellowknife",name:"America/Yellowknife"},{value:"Antarctica/Casey",name:"Antarctica/Casey"},{value:"Antarctica/Davis",name:"Antarctica/Davis"},{value:"Antarctica/DumontDUrville",name:"Antarctica/DumontDUrville"},{value:"Antarctica/Macquarie",name:"Antarctica/Macquarie"},{value:"Antarctica/Mawson",name:"Antarctica/Mawson"},{value:"Antarctica/McMurdo",name:"Antarctica/McMurdo"},{value:"Antarctica/Palmer",name:"Antarctica/Palmer"},{value:"Antarctica/Rothera",name:"Antarctica/Rothera"},{value:"Antarctica/South_Pole",name:"Antarctica/South Pole"},{value:"Antarctica/Syowa",name:"Antarctica/Syowa"},{value:"Antarctica/Vostok",name:"Antarctica/Vostok"},{value:"Arctic/Longyearbyen",name:"Arctic/Longyearbyen"},{value:"Asia/Aden",name:"Asia/Aden"},{value:"Asia/Almaty",name:"Asia/Almaty"},{value:"Asia/Amman",name:"Asia/Amman"},{value:"Asia/Anadyr",name:"Asia/Anadyr"},{value:"Asia/Aqtau",name:"Asia/Aqtau"},{value:"Asia/Aqtobe",name:"Asia/Aqtobe"},{value:"Asia/Ashgabat",name:"Asia/Ashgabat"},{value:"Asia/Baghdad",name:"Asia/Baghdad"},{value:"Asia/Bahrain",name:"Asia/Bahrain"},{value:"Asia/Baku",name:"Asia/Baku"},{value:"Asia/Bangkok",name:"Asia/Bangkok"},{value:"Asia/Beirut",name:"Asia/Beirut"},{value:"Asia/Bishkek",name:"Asia/Bishkek"},{value:"Asia/Brunei",name:"Asia/Brunei"},{value:"Asia/Choibalsan",name:"Asia/Choibalsan"},{value:"Asia/Chongqing",name:"Asia/Chongqing"},{value:"Asia/Colombo",name:"Asia/Colombo"},{value:"Asia/Damascus",name:"Asia/Damascus"},{value:"Asia/Dhaka",name:"Asia/Dhaka"},{value:"Asia/Dili",name:"Asia/Dili"},{value:"Asia/Dubai",name:"Asia/Dubai"},{value:"Asia/Dushanbe",name:"Asia/Dushanbe"},{value:"Asia/Gaza",name:"Asia/Gaza"},{value:"Asia/Harbin",name:"Asia/Harbin"},{value:"Asia/Ho_Chi_Minh",name:"Asia/Ho Chi Minh"},{value:"Asia/Hong_Kong",name:"Asia/Hong Kong"},{value:"Asia/Hovd",name:"Asia/Hovd"},{value:"Asia/Irkutsk",name:"Asia/Irkutsk"},{value:"Asia/Jakarta",name:"Asia/Jakarta"},{value:"Asia/Jayapura",name:"Asia/Jayapura"},{value:"Asia/Jerusalem",name:"Asia/Jerusalem"},{value:"Asia/Kabul",name:"Asia/Kabul"},{value:"Asia/Kamchatka",name:"Asia/Kamchatka"},{value:"Asia/Karachi",name:"Asia/Karachi"},{value:"Asia/Kashgar",name:"Asia/Kashgar"},{value:"Asia/Kathmandu",name:"Asia/Kathmandu"},{value:"Asia/Kolkata",name:"Asia/Kolkata"},{value:"Asia/Krasnoyarsk",name:"Asia/Krasnoyarsk"},{value:"Asia/Kuala_Lumpur",name:"Asia/Kuala Lumpur"},{value:"Asia/Kuching",name:"Asia/Kuching"},{value:"Asia/Kuwait",name:"Asia/Kuwait"},{value:"Asia/Macau",name:"Asia/Macau"},{value:"Asia/Magadan",name:"Asia/Magadan"},{value:"Asia/Makassar",name:"Asia/Makassar"},{value:"Asia/Manila",name:"Asia/Manila"},{value:"Asia/Muscat",name:"Asia/Muscat"},{value:"Asia/Nicosia",name:"Asia/Nicosia"},{value:"Asia/Novokuznetsk",name:"Asia/Novokuznetsk"},{value:"Asia/Novosibirsk",name:"Asia/Novosibirsk"},{value:"Asia/Omsk",name:"Asia/Omsk"},{value:"Asia/Oral",name:"Asia/Oral"},{value:"Asia/Phnom_Penh",name:"Asia/Phnom Penh"},{value:"Asia/Pontianak",name:"Asia/Pontianak"},{value:"Asia/Pyongyang",name:"Asia/Pyongyang"},{value:"Asia/Qatar",name:"Asia/Qatar"},{value:"Asia/Qyzylorda",name:"Asia/Qyzylorda"},{value:"Asia/Rangoon",name:"Asia/Rangoon"},{value:"Asia/Riyadh",name:"Asia/Riyadh"},{value:"Asia/Sakhalin",name:"Asia/Sakhalin"},{value:"Asia/Samarkand",name:"Asia/Samarkand"},{value:"Asia/Seoul",name:"Asia/Seoul"},{value:"Asia/Shanghai",name:"Asia/Shanghai"},{value:"Asia/Singapore",name:"Asia/Singapore"},{value:"Asia/Taipei",name:"Asia/Taipei"},{value:"Asia/Tashkent",name:"Asia/Tashkent"},{value:"Asia/Tbilisi",name:"Asia/Tbilisi"},{value:"Asia/Tehran",name:"Asia/Tehran"},{value:"Asia/Thimphu",name:"Asia/Thimphu"},{value:"Asia/Tokyo",name:"Asia/Tokyo"},{value:"Asia/Ulaanbaatar",name:"Asia/Ulaanbaatar"},{value:"Asia/Urumqi",name:"Asia/Urumqi"},{value:"Asia/Vientiane",name:"Asia/Vientiane"},{value:"Asia/Vladivostok",name:"Asia/Vladivostok"},{value:"Asia/Yakutsk",name:"Asia/Yakutsk"},{value:"Asia/Yekaterinburg",name:"Asia/Yekaterinburg"},{value:"Asia/Yerevan",name:"Asia/Yerevan"},{value:"Atlantic/Azores",name:"Atlantic/Azores"},{value:"Atlantic/Bermuda",name:"Atlantic/Bermuda"},{value:"Atlantic/Canary",name:"Atlantic/Canary"},{value:"Atlantic/Cape_Verde",name:"Atlantic/Cape Verde"},{value:"Atlantic/Faroe",name:"Atlantic/Faroe"},{value:"Atlantic/Madeira",name:"Atlantic/Madeira"},{value:"Atlantic/Reykjavik",name:"Atlantic/Reykjavik"},{value:"Atlantic/South_Georgia",name:"Atlantic/South Georgia"},{value:"Atlantic/St_Helena",name:"Atlantic/St Helena"},{value:"Atlantic/Stanley",name:"Atlantic/Stanley"},{value:"Australia/Adelaide",name:"Australia/Adelaide"},{value:"Australia/Brisbane",name:"Australia/Brisbane"},{value:"Australia/Broken_Hill",name:"Australia/Broken Hill"},{value:"Australia/Currie",name:"Australia/Currie"},{value:"Australia/Darwin",name:"Australia/Darwin"},{value:"Australia/Eucla",name:"Australia/Eucla"},{value:"Australia/Hobart",name:"Australia/Hobart"},{value:"Australia/Lindeman",name:"Australia/Lindeman"},{value:"Australia/Lord_Howe",name:"Australia/Lord Howe"},{value:"Australia/Melbourne",name:"Australia/Melbourne"},{value:"Australia/Perth",name:"Australia/Perth"},{value:"Australia/Sydney",name:"Australia/Sydney"},{value:"Europe/Amsterdam",name:"Europe/Amsterdam"},{value:"Europe/Andorra",name:"Europe/Andorra"},{value:"Europe/Athens",name:"Europe/Athens"},{value:"Europe/Belgrade",name:"Europe/Belgrade"},{value:"Europe/Berlin",name:"Europe/Berlin"},{value:"Europe/Bratislava",name:"Europe/Bratislava"},{value:"Europe/Brussels",name:"Europe/Brussels"},{value:"Europe/Bucharest",name:"Europe/Bucharest"},{value:"Europe/Budapest",name:"Europe/Budapest"},{value:"Europe/Chisinau",name:"Europe/Chisinau"},{value:"Europe/Copenhagen",name:"Europe/Copenhagen"},{value:"Europe/Dublin",name:"Europe/Dublin"},{value:"Europe/Gibraltar",name:"Europe/Gibraltar"},{value:"Europe/Guernsey",name:"Europe/Guernsey"},{value:"Europe/Helsinki",name:"Europe/Helsinki"},{value:"Europe/Isle_of_Man",name:"Europe/Isle of Man"},{value:"Europe/Istanbul",name:"Europe/Istanbul"},{value:"Europe/Jersey",name:"Europe/Jersey"},{value:"Europe/Kaliningrad",name:"Europe/Kaliningrad"},{value:"Europe/Kiev",name:"Europe/Kiev"},{value:"Europe/Lisbon",name:"Europe/Lisbon"},{value:"Europe/Ljubljana",name:"Europe/Ljubljana"},{value:"Europe/London",name:"Europe/London"},{value:"Europe/Luxembourg",name:"Europe/Luxembourg"},{value:"Europe/Madrid",name:"Europe/Madrid"},{value:"Europe/Malta",name:"Europe/Malta"},{value:"Europe/Mariehamn",name:"Europe/Mariehamn"},{value:"Europe/Minsk",name:"Europe/Minsk"},{value:"Europe/Monaco",name:"Europe/Monaco"},{value:"Europe/Moscow",name:"Europe/Moscow"},{value:"Europe/Oslo",name:"Europe/Oslo"},{value:"Europe/Paris",name:"Europe/Paris"},{value:"Europe/Podgorica",name:"Europe/Podgorica"},{value:"Europe/Prague",name:"Europe/Prague"},{value:"Europe/Riga",name:"Europe/Riga"},{value:"Europe/Rome",name:"Europe/Rome"},{value:"Europe/Samara",name:"Europe/Samara"},{value:"Europe/San_Marino",name:"Europe/San Marino"},{value:"Europe/Sarajevo",name:"Europe/Sarajevo"},{value:"Europe/Simferopol",name:"Europe/Simferopol"},{value:"Europe/Skopje",name:"Europe/Skopje"},{value:"Europe/Sofia",name:"Europe/Sofia"},{value:"Europe/Stockholm",name:"Europe/Stockholm"},{value:"Europe/Tallinn",name:"Europe/Tallinn"},{value:"Europe/Tirane",name:"Europe/Tirane"},{value:"Europe/Uzhgorod",name:"Europe/Uzhgorod"},{value:"Europe/Vaduz",name:"Europe/Vaduz"},{value:"Europe/Vatican",name:"Europe/Vatican"},{value:"Europe/Vienna",name:"Europe/Vienna"},{value:"Europe/Vilnius",name:"Europe/Vilnius"},{value:"Europe/Volgograd",name:"Europe/Volgograd"},{value:"Europe/Warsaw",name:"Europe/Warsaw"},{value:"Europe/Zagreb",name:"Europe/Zagreb"},{value:"Europe/Zaporozhye",name:"Europe/Zaporozhye"},{value:"Europe/Zurich",name:"Europe/Zurich"},{value:"Indian/Antananarivo",name:"Indian/Antananarivo"},{value:"Indian/Chagos",name:"Indian/Chagos"},{value:"Indian/Christmas",name:"Indian/Christmas"},{value:"Indian/Cocos",name:"Indian/Cocos"},{value:"Indian/Comoro",name:"Indian/Comoro"},{value:"Indian/Kerguelen",name:"Indian/Kerguelen"},{value:"Indian/Mahe",name:"Indian/Mahe"},{value:"Indian/Maldives",name:"Indian/Maldives"},{value:"Indian/Mauritius",name:"Indian/Mauritius"},{value:"Indian/Mayotte",name:"Indian/Mayotte"},{value:"Indian/Reunion",name:"Indian/Reunion"},{value:"Pacific/Apia",name:"Pacific/Apia"},{value:"Pacific/Auckland",name:"Pacific/Auckland"},{value:"Pacific/Chatham",name:"Pacific/Chatham"},{value:"Pacific/Chuuk",name:"Pacific/Chuuk"},{value:"Pacific/Easter",name:"Pacific/Easter"},{value:"Pacific/Efate",name:"Pacific/Efate"},{value:"Pacific/Enderbury",name:"Pacific/Enderbury"},{value:"Pacific/Fakaofo",name:"Pacific/Fakaofo"},{value:"Pacific/Fiji",name:"Pacific/Fiji"},{value:"Pacific/Funafuti",name:"Pacific/Funafuti"},{value:"Pacific/Galapagos",name:"Pacific/Galapagos"},{value:"Pacific/Gambier",name:"Pacific/Gambier"},{value:"Pacific/Guadalcanal",name:"Pacific/Guadalcanal"},{value:"Pacific/Guam",name:"Pacific/Guam"},{value:"Pacific/Honolulu",name:"Pacific/Honolulu"},{value:"Pacific/Johnston",name:"Pacific/Johnston"},{value:"Pacific/Kiritimati",name:"Pacific/Kiritimati"},{value:"Pacific/Kosrae",name:"Pacific/Kosrae"},{value:"Pacific/Kwajalein",name:"Pacific/Kwajalein"},{value:"Pacific/Majuro",name:"Pacific/Majuro"},{value:"Pacific/Marquesas",name:"Pacific/Marquesas"},{value:"Pacific/Midway",name:"Pacific/Midway"},{value:"Pacific/Nauru",name:"Pacific/Nauru"},{value:"Pacific/Niue",name:"Pacific/Niue"},{value:"Pacific/Norfolk",name:"Pacific/Norfolk"},{value:"Pacific/Noumea",name:"Pacific/Noumea"},{value:"Pacific/Pago_Pago",name:"Pacific/Pago Pago"},{value:"Pacific/Palau",name:"Pacific/Palau"},{value:"Pacific/Pitcairn",name:"Pacific/Pitcairn"},{value:"Pacific/Pohnpei",name:"Pacific/Pohnpei"},{value:"Pacific/Port_Moresby",name:"Pacific/Port Moresby"},{value:"Pacific/Rarotonga",name:"Pacific/Rarotonga"},{value:"Pacific/Saipan",name:"Pacific/Saipan"},{value:"Pacific/Tahiti",name:"Pacific/Tahiti"},{value:"Pacific/Tarawa",name:"Pacific/Tarawa"},{value:"Pacific/Tongatapu",name:"Pacific/Tongatapu"},{value:"Pacific/Wake",name:"Pacific/Wake"},{value:"Pacific/Wallis",name:"Pacific/Wallis"}]};var c=function(){};c.lang=document.documentElement.lang?document.documentElement.lang:"en";c.get=function(t,i,s){var n=r[c.lang][t];if(typeof n=="undefined"){e.error("Text.get("+t+") does not exists");return""}if(typeof i=="undefined"){return n}if(s==undefined){if(typeof i!="object"){return n.replace(/%s/,i)}$.each(i,function(e,t){n=n.replace(/%s/,t)})}else{if(typeof i!="object"){i=[i]}var o=n.split(/(%s)/);n=a.create("span");$.each(o,function(e,t){if(t=="%s"){a.create("span").addClass("cit").html(i.shift()).appendTo(n)}else if(t!=""){a.create("span").html(t).appendTo(n)}})}return n};c.dateFormat={en:{dayNames:["So","Mo","Di","Mi","Do","Fr","Sa","Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],monthNames:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez","Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"]},de:{dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]}};var l=function(e){this.byKey={};this.values={};this.elements=[];a.extend(this,e)};l.prototype={autocomplete:false,format:"tall",appendTo:"#content",showButton:true,buttonText:false,action:false,url:false,onSuccess:false,hasData:false,titleClass:"form-title",subtitleClass:"form-subtitle",errorClass:"form-error",successClass:"form-success",infoClass:"form-info",warningClass:"form-warning",tableClass:"form-table",formClass:false,createTable:false};l.prototype.init=function(){this.container=a.create("div");this.msgbox();this.form=a.create("form").appendTo(this.container);if(this.preventDefault){this.form.submit(function(e){e.preventDefault()})}if(this.formClass){this.form.addClass(this.formClass)}if(this.appendTo){this.container.appendTo(this.appendTo)}if(this.createTable===true){this.table=new h({type:"form",appendTo:this.form}).init().getTable()}return this};l.prototype.getContainer=function(){return this.form};l.prototype.input=function(e){var t=a.extend({id:false,type:"text",readonly:false,required:false,placeholder:false,minlength:false,maxlength:false,pattern:false,autocomplete:false,name:"not-available",value:undefined,appendTo:false,inputClass:false,bubbleOuterClass:false,bubbleClass:false,bubbleCloseIconClass:"hicons-gray hicons remove close-x",bubbleAlignment:"center right",bubbleWidth:false,genStrIconClass:"gicons-gray gicons refresh gicons-input-icon-default",format:this.format,form:this,width:false},e);t.getBubbleOuterClass=function(){var e=this.getBubbleAlignment();return this.bubbleOuterClass||"i-bubble-"+this.format+"-"+e+"-outer"};t.getBubbleClass=function(){var e=this.getBubbleAlignment();return this.bubbleClass||"i-bubble-base i-bubble-"+this.format+"-"+e};t.getClass=function(){return this.inputClass||"input input-"+this.format};t.getValue=function(){return this.input.val()};t.setValue=function(e){return this.input.val(e)};t.clear=function(){this.input.val("")};t.getContainer=function(){return this.container};t.getBubbleAlignment=function(){var e;if(!this.bubbleAlignment||this.bubbleAlignment=="center right"){e="cr"}else if(this.bubbleAlignment=="bottom left"){e="bl"}return e};t.create=function(){var e=this;this.container=a.create("div").css({position:"relative",display:"inline-block"});this.input=a.create("input").attr("type",this.type).attr("name",this.name).attr("data-name",this.name).addClass(this.getClass()).appendTo(this.container);if(this.width){this.input.css({width:this.width})}if(this.autocomplete&&this.autocomplete[this.name]){new m({format:this.format,source:this.autocomplete[this.name],container:this.container,input:this.input,start:0}).create()}$.each(["id","placeholder","minlength","maxlength","pattern"],function(t,a){if(e[a]!=false){e.input.attr(a,e[a])}});this.form.addInputValidator(this,"input","val");$.each(["readonly","required"],function(t,a){if(e[a]!=false){e.input.attr(a,a)}});if(this.genString){a.create("span").attr("title",c.get("action.generate_string")).tooltip().addClass(this.genStrIconClass).appendTo(this.container).click(function(){e.input.val(a.genRandStr(e.genString))})}if(this.type=="password"&&this.value){this.input.attr("value","************")}else if(this.value!=undefined){this.input.attr("value",this.value)}if(this.appendTo!=false){this.container.appendTo(this.appendTo)}};t.create();return t};l.prototype.textarea=function(e){var t=a.extend({id:false,type:"text",readonly:false,required:false,placeholder:false,minlength:false,maxlength:false,name:"not-available",value:false,appendTo:false,textareaClass:false,bubbleOuterClass:false,bubbleClass:false,bubbleCloseIconClass:"i-bubble-close-button",bubbleCloseText:"x",format:this.format,form:this,css:false},e);t.getBubbleOuterClass=function(){return this.bubbleOuterClass||"i-bubble-"+this.format+"-cr-outer"};t.getBubbleClass=function(){return this.bubbleClass||"i-bubble-base i-bubble-"+this.format+"-cr"};t.getClass=function(){return this.textareaClass||"textarea textarea-"+this.format};t.getValue=function(){this.textarea.text()};t.getContainer=function(){return this.container};t.create=function(){var e=this;this.container=a.create("div").css({position:"relative",display:"inline-block"});this.textarea=a.create("textarea").attr("name",this.name).attr("data-name",this.name).addClass(this.getClass()).text(this.value).appendTo(this.container);if(this.css!==false){this.textarea.css(this.css)}$.each(["id","placeholder","minlength","maxlength"],function(t,a){if(e[a]!=false){e.textarea.attr(a,e[a])}});$.each(["readonly","required"],function(t,a){if(e[a]!=false){e.textarea.attr(a,a)}});this.form.addInputValidator(this,"textarea","html");if(this.appendTo!=false){this.container.appendTo(this.appendTo)}};t.create();return t};l.prototype.select=function(e){var t=a.extend({id:false,appendTo:false,placeholder:"-",format:this.format,form:this,name:false,values:false,selected:false,callback:false,required:false,passNameValue:false,containerClass:false,dropDownClass:false,selectedClass:false,caretClass:false,listClass:false,getValueName:false,requiredMarkerClass:"rwb","short":false,width:false,fontSize:false,readOnly:false,store:false},e);t.getContainerClass=function(){return this.containerClass||"select-container"};t.getDropDownClass=function(){return this.mainClass||"select select-"+this.format};t.getCaretClass=function(){return this.caretClass||"select-caret"};t.getListClass=function(){return this.listClass||"select-list-"+this.format};t.getSelected=function(){return{option:this.selectSelected.text(),value:this.hiddenInput.val()}};t.getSelectedOption=function(){return this.selected.data("value")};t.getSelectedValue=function(){return this.hiddenInput.val()};t.destroy=function(){this.container.remove()};t.toggle=function(){if(this.selectList.is(":hidden")){this.selectList.show()}else{this.selectList.hide()}};t.getContainer=function(){return this.container};t.create=function(){var e=this;this.container=a.create("div").addClass(this.getContainerClass()).click(function(){e.toggle()});if(this.id!=false){this.container.attr("id",this.id)}this.hiddenInput=a.create("input").attr("type","hidden").attr("name",this.name).appendTo(this.container);if(this.selected!=false){this.hiddenInput.attr("value",this.selected)}this.selectDropDown=a.create("div").attr("data-name",this.name).addClass(this.getDropDownClass()).appendTo(this.container);if(this.title){this.selectDropDown.attr("title",this.title).tooltip()}if(e.required==true){this.selectDropDown.addClass(this.requiredMarkerClass)}this.selectSelected=a.create("span").html(this.placeholder).appendTo(this.selectDropDown);this.selectCaret=a.create("span").addClass(this.getCaretClass()).appendTo(this.selectDropDown);this.selectList=a.create("ul").addClass(this.getListClass()).appendTo(this.container);if(this.short){this.selectDropDown.css({width:"130px"});this.selectList.css({"min-width":"130px"})}if(this.width){this.selectDropDown.css({width:this.width});this.selectList.css({"min-width":this.width})}if(this.maxHeight){this.selectList.css({"max-height":this.maxHeight})}if(this.options){if(this.secondsToFormValues==true){this.addOptions(a.secondsToFormValues(this.options,this.nullString))}else{this.addOptions(this.options)}}if(this.appendTo){this.container.appendTo(this.appendTo)}};t.addOptions=function(e){var t=this;$.each(e,function(e,i){var s,n,r,o;if(typeof i=="object"){s=i.name||i.label||i.option||i.key;n=i.value;o=i.addClass}else{s=n=i}if(t.getValueName){s=t.getValueName(n)}var c=function(){if(t.store){t.store.to[t.store.as]=n}if(t.readOnly==false){t.hiddenInput.val(n);t.selectSelected.html(s);t.selectList.find("li").removeAttr("selected");$(this).attr("selected","selected");if(t.required==true&&t.hiddenInput.val()!=undefined){t.selectDropDown.removeClass(t.requiredMarkerClass)}}if(t.callback){if(t.passNameValue==true){t.callback(s,n)}else{t.callback(n)}}};var l=a.create("li").attr("data-value",n).html(s).click(c).appendTo(t.selectList);if(t.showValue===true){a.create("span").text(" ("+n+")").appendTo(l)}if(o){l.addClass(o)}if(n==t.selected){t.hiddenInput.val(n);t.selectSelected.html(s);t.selected=l;l.attr("selected","selected");if(t.hiddenInput.val()!=undefined){t.selectDropDown.removeClass(t.requiredMarkerClass)}if(t.store){t.store.to[t.store.as]=n}}})};t.replaceOptions=function(e){this.selectList.html("");this.hiddenInput.val("");if(!e.selected){this.selectSelected.html(this.placeholder)}this.selected=e.selected;this.options=e.options;this.addOptions(e.options)};t.create();return t};l.prototype.multiselect=function(e){var t=a.extend({id:false,appendTo:false,format:this.format,form:this,size:5,name:false,values:false,selected:false,callback:false,required:false,listClass:false,getValueName:false},e);t.getContainer=function(){return this.container};t.getListClass=function(){return this.listClass||"input input-"+this.format};t.create=function(){var e=this;this.container=a.create("div");this.hiddenInput=a.create("input").attr("type","hidden").attr("name",this.name).attr("value","").appendTo(this.container);this.selectList=a.create("select").attr("name",this.name).attr("data-name",this.name).attr("multiple","multiple").attr("size",this.size).addClass(this.getListClass()).appendTo(this.container);if(this.id){this.container.attr("id",this.id)}if(this.selected){if(this.selected&&typeof this.selected=="string"){this.selected=this.selected.split(",")}var t=this.selected;this.selected={};$.each(t,function(e,t){this.selected[t]=true})}else{this.selected={}}$.each(this.options,function(t,i){var s,n,r;if(typeof i=="object"){s=i.name||i.label||i.option||i.key;n=i.value}else{s=n=i}if(e.getValueName){s=e.getValueName(n)}var o=a.create("option").attr("value",n).html(s).appendTo(e.selectList);if(e.selected[n]){o.attr("selected","selected")}});if(this.appendTo){this.container.appendTo(this.appendTo)}};t.create();return t};l.prototype.radio=function(e){var t=a.extend({id:false,appendTo:false,format:this.format,form:this,name:false,options:false,checked:false,callback:false,onClick:false,passNameValue:false,containerClass:false,radioClass:false,itemsPerRow:false,bool:false},e);
t.getClass=function(){return this.radioClass||"radio radio-"+this.format};t.getContainer=function(){return this.container};t.create=function(){var e=this;this.container=a.create("div").addClass(this.getClass());if(this.id){this.container.attr("id",this.id)}if(this.bool){this.options=[{value:0,label:c.get("bool.yesno.0"),checked:e.checked=="0"?true:false},{value:1,label:c.get("bool.yesno.1"),checked:e.checked=="1"?true:false}]}var t=0;$.each(this.options,function(i,s){t++;var n="radio-"+e.name+i,r,o,c;if(typeof s=="object"){r=s.label||s.name||s.option||s.key;o=s.value;c=s.checked}else{r=o=s;c=this.checked==name?true:false}var l=a.create("input").attr("type","radio").attr("id",n).attr("name",e.name).attr("value",o).appendTo(e.container);if(s.checked||e.checked==o){l.attr("checked","checked");if(e.callback){e.callback(o)}}if(e.callback){l.click(function(){e.callback(o)})}if(e.store){l.click(function(){e.store.to[e.store.as]=o})}if(e.onClick){l.click(function(){e.onClick(o)})}var r=a.create("label").attr("for",n).text(r).appendTo(e.container);if(s.title){r.attr("title",s.title).tooltip()}else if(e.title&&e.bool&&o==1){r.attr("title",e.title).tooltip()}if(e.itemsPerRow){r.css({width:"26px","padding-top":"6px","padding-bottom":"6px"});if(t==e.itemsPerRow){t=0;a.create("br").appendTo(e.container)}}});if(this.appendTo){this.container.appendTo(this.appendTo)}};t.create();return t};l.prototype.checkbox=function(e){var t=a.extend({id:false,appendTo:false,format:this.format,form:this,name:false,options:false,checked:false,callback:false,passNameValue:false,checkboxClass:false,commaSeparatedList:false},e);t.getClass=function(){return this.checkboxClass||"checkbox checkbox-"+this.format};t.getCheckedValues=function(){var e=[];this.container.find("input:checked").each(function(){e.push($(this).val())});return e};t.getContainer=function(){return this.container};t.create=function(){var e=this,t={};if(this.commaSeparatedList==true){if(this.checked){this.checked=this.checked.split(",")}else{this.checked=[]}}if($.isArray(this.checked)){$.each(this.checked,function(e,a){t[a]=true})}this.container=a.create("div").attr("data-name",this.name).addClass(this.getClass());a.create("input").attr("type","hidden").attr("name",e.name).attr("value","").appendTo(this.container);$.each(this.options,function(i,s){var n="int-"+e.name+i;if(typeof s=="string"||typeof s=="number"){s={label:s,value:s,checked:t[s]}}var r=a.create("input").attr("id",n).attr("type","checkbox").attr("name",e.name).attr("value",s.value).appendTo(e.container);if(s.checked){r.attr("checked","checked")}if(e.store){r.click(function(){e.store.to[e.store.as]=e.getCheckedValues()})}var o=a.create("label").attr("for",n).appendTo(e.container);if(e.emptyLabel!=true){o.html(s.label||s.value)}if(s.title){o.attr("title",s.title).tooltip()}});if(this.store){this.store.to[this.store.as]=this.getCheckedValues()}if(this.appendTo){this.container.appendTo(this.appendTo)}};t.create();return t};l.prototype.slider=function(e){var t=a.extend({},e);t.getContainer=function(){return this.container};t.create=function(){var e=this,t=-1,i=0,s=this.options;this.container=a.create("div").attr("data-name",this.name).addClass("option-slider-container");this.slideContainer=a.create("div").addClass("option-slider").appendTo(this.container);this.labelContainer=a.create("div").addClass("option-slider-label").appendTo(this.container);this.input=a.create("input").attr("type","hidden").attr("name",this.name).attr("value","").appendTo(this.container);if(this.secondsToFormValues==true){s=a.secondsToFormValues(s,this.nullString)}this.options=[];$.each(s,function(a,s){var n,r,o;if(typeof s=="string"||typeof s=="number"){r=n=s;o=e.checked==r?true:false}else{r=s.value;n=s.label||s.name||s.option||s.key;o=e.checked==r?true:s.checked}if(e.getValueName){n=e.getValueName(r)}e.options.push({label:n,value:r});t+=1;if(o==true){i=t;e.select(i)}});this.slideContainer.slider({min:0,max:t,value:i,slide:function(t,a){e.select(a.value)}});if(this.appendTo){this.container.appendTo(this.appendTo)}};t.select=function(e){var t=this.options[e];this.input.val(t.value);this.labelContainer.html(t.label)};t.create();return t};l.prototype.iconList=function(e){var t=a.extend({checked:false,items:false,even:false,multiple:false,buttonsPerRow:undefined,callback:false,css:false},e);t.create=function(){var e=this,t=this.buttonsPerRow;this.cache=[];this.container=a.create("div");$.each(this.options,function(i,s){var n,r,o,c;if(typeof s=="object"){if(s.icon){n=a.create("span").addClass(s.icon)}else{n=s.label||s.name||s.option||s.key||s.value}r=s.value;o=e.checked==r?true:s.checked;c=s.title}else{n=r=s;o=e.checked==n?true:r}var l=a.create("div").addClass("btn btn-white").html(n).appendTo(e.container).click(function(){e.switchItem(r);if(e.callback){e.callback(r)}});if(e.css){l.css(e.css)}if(s.icon){l.addClass("btn-icon-unselected")}if(e.even==true){l.addClass("btn-icon-even")}if(c){l.attr("title",c).tooltip()}if(t!=undefined){t=t-1;if(t==0){t=e.buttonsPerRow;a.create("br").appendTo(e.container)}}e.cache.push({value:r,button:l,input:false,icon:s.icon?true:false});if(o==true){e.switchItem(r)}});if(this.appendTo){this.container.appendTo(this.appendTo)}};t.switchItem=t.switchTo=function(e){if(this.multiple){this.switchMultipleItems(e)}else{this.switchSingleItem(e)}};t.switchMultipleItems=function(e){var t=this;$.each(this.cache,function(a,i){if(i.value==e){if(i.input){i.input.remove();i.input=false;if(i.icon){i.button.addClass("btn-icon-unselected")}else{i.button.removeClass("btn-selected")}}else{i.input=t.createInput(e);if(i.icon){i.button.removeClass("btn-icon-unselected")}else{i.button.addClass("btn-selected")}}}})};t.switchSingleItem=function(e){var t=this;$.each(this.cache,function(a,i){if(i.value==e&&i.input==false){i.input=t.createInput(e);if(i.icon){i.button.removeClass("btn-icon-unselected")}else{i.button.addClass("btn-selected")}}else if(i.value!=e&&i.input){i.input.remove();i.input=false;if(i.icon){i.button.addClass("btn-icon-unselected")}else{i.button.removeClass("btn-selected")}}})};t.createInput=function(e){return a.create("input").attr("type","hidden").attr("name",this.name).attr("value",e).appendTo(this.container)};t.create();return t};l.prototype.button=function(e){var t=a.extend({id:false,appendTo:false,format:this.format,form:this,name:false,value:false,text:c.get("action.submit"),callback:false,css:false,buttonClass:false},e);t.getClass=function(){return this.buttonClass||"btn btn-white btn-"+this.format};t.getContainer=function(){return this.button};t.create=function(){var e=this;this.button=a.create("div").addClass(this.getClass()).html(this.text).click(function(){if(e.callback){e.callback()}else{e.form.submit()}});if(this.css){this.button.css(this.css)}$.each(["id","name","value"],function(e,t){if(this[t]){this.button.attr(t,this[t])}});if(this.appendTo){this.button.appendTo(this.appendTo)}};t.create();return t};l.prototype.datetime=function(e){var t=a.extend({id:false,name:false,placeholder:false,value:false,addClass:false,appendTo:false,format:this.format,readonly:false,zIndex:3,maxlength:17,ampm:false,timeFormat:"hh:mm:ss",dateFormat:"yy-mm-dd",stepMinute:15},e);t.getClass=function(){return this.addClass||"input input-"+this.format};t.clear=function(){this.input.val("")};t.setValue=function(e){this.input.val(e)};t.create=function(){this.input=a.create("input").attr("type","text").attr("maxlength",this.maxlength).addClass(this.getClass()).css({"z-index":this.zIndex});if(this.id){this.input.attr("id",this.id)}if(this.readonly){this.input.attr("readonly","readonly")}if(this.name){this.input.attr("name",this.name);this.input.attr("data-name",this.name)}if(this.placeholder){this.input.attr("placeholder",this.placeholder)}if(this.value!=false){this.input.attr("value",this.value)}if(this.appendTo){this.input.appendTo(this.appendTo)}this.input.datetimepicker({ampm:this.ampm,timeFormat:this.timeFormat,dateFormat:this.dateFormat,stepMinute:this.stepMinute})};t.create();return t};l.prototype.create=function(){e.debug("create a new form");var t=this;this.container=this.appendTo;if(this.url&&this.url.options&&this.hasData==false){return this.getOptions()}if(this.values==undefined){this.values={}}if(this.options==undefined){this.options={}}if(this.title){a.create("div").addClass(this.titleClass).html(this.title).appendTo(this.container)}if(this.subtitle){a.create("div").addClass(this.subtitleClass).html(this.subtitle).appendTo(this.container)}this.msgbox();this.form=a.create("form").appendTo(this.container);this.table=a.create("table").addClass(this.tableClass).appendTo(this.form);if(this.action){this.buttonText=c.get("action."+this.action)}if(this.showButton==true){this.button({appendTo:this.form,buttonText:this.buttonText}).button.css({"margin-bottom":"20px"})}$.each(this.elements,function(e,a){t.byKey[a.name]=a;t.createElement(a)});return this};l.prototype.createElement=function(e){var t=e.table||this.table,i=a.create("tr").appendTo(t),s=a.create("th").appendTo(i),n=a.create("td").appendTo(i),r=e.value==undefined?this.values[e.name]:e.value;if(e.text){s.html(a.escape(e.text))}if(e.element=="multiselect"||e.element=="textarea"){s.css({"vertical-align":"top","padding-top":"12px"})}if(e.required==true){a.create("span").html(" * ").appendTo(s)}var o=false,l=a.create("div");a.create("h2").html(e.text).appendTo(l);if(e.desc){o=true;a.create("p").html(e.desc).appendTo(l)}if(e.minlength!=undefined||e.maxlength!=undefined){o=true;var h=a.create("small").appendTo(l);if(e.minlength!=undefined){a.create("div").html(c.get("text.min_length",e.minlength)).appendTo(h)}if(e.maxlength!=undefined){a.create("div").html(c.get("text.max_length",e.maxlength)).appendTo(h)}}if(o==true){new w({text:l,width:e.descBoxWidth,css:e.descBoxCss}).appendTo(s)}var d=a.extend({},e);delete d.element;d.appendTo=n;if(e.element=="radio-yes-no"){d.bool=true;d.checked=this.getCheckedValue(e);this.radio(d)}else if(e.element=="radio"){d.options=e.options||this.options[e.name];d.checked=this.getCheckedValue(e);this.radio(d)}else if(e.element=="input"){d.value=r;d.autocomplete=this.autocomplete;this.input(d)}else if(e.element=="textarea"){d.value=r;this.textarea(d)}else if(e.element=="checkbox"){d.options=e.options||this.options[e.name];d.checked=this.getCheckedValue(e);this.checkbox(d)}else if(e.element=="select"||e.element=="multiselect"){d.options=e.options||this.options[e.name];d.selected=this.getCheckedValue(e);this[e.element](d)}else if(e.element=="slider"){d.options=e.options||this.options[e.name];d.checked=this.getCheckedValue(e);this.slider(d)}};l.prototype.getCheckedValue=function(e){if(e.selected!=undefined){return e.selected}if(e.checked!=undefined){return e.checked}if(this.values[e.name]!=undefined){return this.values[e.name]}};l.prototype.submit=function(){var e=this,i=this.getData();this.messageContainer.hide();this.messageContainer.removeClass(this.errorClass);this.messageContainer.removeClass(this.successClass);if(this.submitCallback){this.submitCallback(i);return false}t.post({url:this.url.submit,data:i,async:false,token:true,success:function(t){if(t.status=="ok"){if(e.onSuccess){e.onSuccess(t.data)}else{e.messageContainer.addClass(e.successClass);e.messageContainer.html(e.action==="create"?c.get("info.create_success"):c.get("info.update_success"));e.messageContainer.fadeIn(400);$("#content-outer").scrollTop(0);setTimeout(function(){e.messageContainer.fadeOut(400)},3e3)}}else{e.messageContainer.addClass(e.errorClass);e.messageContainer.html(a.escape(t.data.message));e.messageContainer.fadeIn(400);if(t.data.failed){e.markErrors(t.data.failed)}$("#content-outer").scrollTop(0)}}})};l.prototype.msgbox=function(e){if(!e){e={appendTo:this.container}}this.messageContainer=a.create("div").hide().appendTo(e.appendTo||this.container||this.appendTo)};l.prototype.markErrors=function(t){var a=this;$.each(t,function(t,i){e.debug("[data-name='"+i+"']");var s=a.form.find("[data-name='"+i+"']").addClass("rwb")})};l.prototype.removeErrors=function(){this.form.find(".rwb").removeClass("rwb")};l.prototype.table=function(){return new h({type:"form"}).init()};l.prototype.getData=function(){var e=this,t=this.form.serializeArray(),a={};this.removeErrors();$.each(t,function(t,i){var s=e.byKey[i.name];if(s!=undefined&&(s.element=="checkbox"||s.element=="multiselect"||s.forceArray==true)){if(a[i.name]==undefined){a[i.name]=[];if(i.value==undefined||i.value==""){return true}}a[i.name].push(i.value)}else if(a[i.name]==undefined){a[i.name]=i.value}else{if(typeof a[i.name]!="object"){a[i.name]=[a[i.name]]}a[i.name].push(i.value)}});if(this.postpareDataCallback){this.postpareDataCallback(a)}if(this.overwriteDataCallback){a=this.overwriteDataCallback(a)}if(this.splice){$.each(this.splice,function(e,t){a[t]={};$.each(a,function(e,i){var s=e.split(":"),n=s.shift(),r=s.join(":");if(n==t&&r){a[n][r]=i;delete a[e]}})})}return a};l.prototype.setOption=function(e,t,a){if(!this.byKey[e]){this.byKey[e]={}}this.byKey[e][t]=a};l.prototype.getOptions=function(){var e=this;this.hasData=true;t.post({url:this.url.options,async:false,success:function(t){e.options=t.data.options;e.values=t.data.values;e.create()}})};l.prototype.group=function(e){var i=a.extend({appendTo:false,boxWidth:"500px",titleClass:"form-title",subtitleClass:"form-subtitle",cache:{selected:{left:{},right:{}}},button:{},form:this},e);i.create=function(){this.createMainBox();this.createBox(this.left);this.createButtonBox();this.createBox(this.right);this.createTable(this.left);this.createTable(this.right)};i.createMainBox=function(){this.container=a.create("div");if(this.appendTo){this.container.appendTo(this.appendTo)}this.messageContainer=a.create("div").appendTo(this.container);this.titleContainer=a.create("div").appendTo(this.container);if(this.title){this.title=a.create("div").addClass(this.titleClass).html(this.title).appendTo(this.titleContainer)}if(this.subtitle){this.subtitle=a.create("div").addClass(this.subtitleClass).html(this.subtitle).appendTo(this.titleContainer)}};i.createBox=function(e){e.container=a.create("div").css({width:this.boxWidth,display:"inline-block","vertical-align":"top"}).appendTo(this.container);e.titleContainer=a.create("div").appendTo(e.container);e.title=a.create("h3").addClass("h3").html(e.title||"").appendTo(e.container);e.counterContainer=a.create("div").css({"float":"right","margin-left":"6px","margin-top":"5px"}).appendTo(e.container);e.searchContainer=a.create("div").css({"float":"right","margin-left":"6px"}).appendTo(e.container);a.create("div").addClass("clear").appendTo(e.container);e.selected=a.create("div").attr("title",c.get("action.show_selected_objects")).addClass("btn btn-white btn-small").html("0").appendTo(e.counterContainer).tooltip();e.tableContainer=a.create("div").appendTo(e.container);e.pagerContainer=a.create("div").appendTo(e.container)};i.createButtonBox=function(){var e=this;this.button.container=a.create("div").css({width:"40px",padding:"0 13px",display:"inline-block","vertical-align":"top"}).appendTo(this.container);this.button.add=a.create("span").attr("title",c.get("action.remove")).css({"margin-top":"92px"}).addClass("btn btn-white btn-icon").html(a.create("span").addClass("hicons hicons-gray chevron-right")).appendTo(this.button.container).tooltip().click(function(){e.addOrRemove("add")});this.button.remove=a.create("span").attr("title",c.get("action.add")).addClass("btn btn-white btn-icon").html(a.create("span").addClass("hicons hicons-gray chevron-left")).appendTo(this.button.container).tooltip().click(function(){e.addOrRemove("remove")})};i.createTable=function(e){e.table=new h({url:e.listURL,postdata:{offset:0,limit:10},appendTo:e.tableContainer,selectable:{key:this.selectable.key,title:this.selectable.title,result:this.selectable.result,counter:{update:e.selected,hideIfNull:false}},searchable:{url:e.searchURL,result:this.searchable.result,resultWidth:"400px",appendTo:e.searchContainer},pager:{appendTo:e.pagerContainer},columns:this.columns}).create()};i.addOrRemove=function(e){var a=this,i={},s=e=="add"?this.left:this.right;i[this.selectable.key]=s.table.getSelectedIds();if(i[this.selectable.key].length===0){this.showError605();return false}t.post({url:s.updateMember,data:i,token:true,success:function(e){if(e.status=="ok"){a.left.table.clearSelectedRows();a.left.table.getData();a.right.table.clearSelectedRows();a.right.table.getData()}else if(e.status=="err-605"){a.showError605()}}})};i.showError605=function(){var e=this;var t=a.create("div").addClass(this.form.errorClass).html(c.get("text.please_select_objects")).appendTo(this.messageContainer);setTimeout(function(){t.fadeOut(400);setTimeout(function(){t.remove()},400)},3e3)};i.create();return i};l.prototype.addInputValidator=function(e,t,i){return;var s=a.create("div").addClass(e.getBubbleOuterClass()).hide().appendTo(e.container);var n=a.create("div").addClass(e.getBubbleClass()).appendTo(s);var r=a.create("p").html("0").appendTo(n);if(e.bubbleWidth){n.css({"max-width":e.bubbleWidth})}var o=function(){var a=e[t][i]().length,n="";if(e.minlength&&a<e.minlength||e.maxlength&&a>e.maxlength){s.fadeIn(300);if(e.minlength!=undefined){n+="Min length: "+e.minlength+"<br/>"}if(e.maxlength!=undefined){n+="Max length: "+e.maxlength+"<br/>"}n+="Current length: "+a}else{s.fadeOut(100)}r.html(n)};e[t].blur(function(){s.fadeOut(100)});e[t].focus(o);e[t].keyup(o)};l.prototype.desc=function(e){var t=a.create("div");if(e.title){a.create("h2").html(e.title).appendTo(t)}if(e.desc){a.create("p").html(e.desc).appendTo(t)}if(e.note){a.create("small").html(e.note).appendTo(t)}if(e.text){t.append(e.text)}var i=new w({text:t,width:e.width});if(e.appendTo){i.appendTo(e.appendTo)}return i};var h=function(e){this.postdata={offset:0,limit:50};a.extend(this,e);a.append(this.selectable,{max:0,name:"id",filter:"tr",cancel:"a,span,:input,option,ul",autoRefresh:true,resultTitle:c.get("text.selected_objects")});a.append(this.searchable,{postdata:{offset:0,limit:10}});if(this.selectable){if(this.selectable.counter==undefined){this.selectable.counter={}}a.append(this.selectable.counter,{hideIfNull:true,appendTo:"#selected-counter",addClass:"counter-button",title:c.get("action.view_selected_objects")})}this.cache={data:{},selected:{}}};h.prototype={width:"full",addClass:false,iconsClass:"table-icons-column",appendTo:"#content",appendPagerTo:false,type:"default",columnSwitcher:false,values:false,header:false,headerObject:false,url:false,postdata:false,columns:false,linkMenuClass:"link-onclick-menu",postdataCallback:false};h.prototype.init=function(){this.container=a.create("div");this.table=a.create("table").appendTo(this.container);if(this.type=="default"){this.table.addClass(this.addClass||"maintab");if(this.width=="full"){this.width="100%"}if(this.width=="inline"||this.width=="none"){this.width=false}if(this.width){this.table.css({width:this.width})}this.thead=a.create("thead").appendTo(this.table);this.thRow=a.create("tr").appendTo(this.thead);this.tbody=a.create("tbody").appendTo(this.table)}else if(this.type=="form"){this.table.addClass(this.addClass||"form-table");this.tbody=a.create("tbody").appendTo(this.table)}else if(this.type=="vtable"){this.table.addClass(this.addClass||"vtable");this.thead=a.create("thead").appendTo(this.table);this.thRow=a.create("tr").appendTo(this.thead);this.tbody=a.create("tbody").appendTo(this.table)}else if(this.type=="simple"){if(this.addClass){this.table.addClass(this.addClass)}this.tbody=a.create("tbody").appendTo(this.table)}else{if(this.addClass){this.table.addClass(this.addClass)}this.thead=a.create("thead").appendTo(this.table);this.thRow=a.create("tr").appendTo(this.thead);this.tbody=a.create("tbody").appendTo(this.table)}if(this.css){this.table.css(this.css)}if(this.id){this.table.attr("id",this.id)}if(this.appendTo){this.container.appendTo(this.appendTo)}return this};h.prototype.getContainer=function(){return this.container};h.prototype.getTable=function(){return this.table};h.prototype.create=function(){e.debug("create a new table");var t=this;this.colsByKey={};$.each(this.columns,function(e,a){t.colsByKey[a.name]=a});this.createHeader();this.createStruct();this.createColumnSwitcher();if(this.values){this.loading.hide();this.createRows(this.values);this.addSelectEvents()}else if(this.url){this.getData()}if(this.searchable){this.addSearchEvents()}if(this.searchButton){$(this.searchButton).click(function(){t.getData()})}return this};h.prototype.hide=function(e){this.table.hide(e)};h.prototype.show=function(e){this.table.show(e)};h.prototype.createHeader=function(){var e=this;if(this.headerObject){this.header=this.headerObject}else if(this.header){if(this.reloadable===true){this.reloadable={}}if(this.reloadable){if(this.header.icons===undefined){this.header.icons=[]}if(this.reloadable.callback===undefined){this.reloadable.callback=function(){if(e.reloadable.before){e.reloadable.before()}e.getData()}}this.header.icons.push({type:"reload",callback:this.reloadable.callback,title:c.get("action.reload")})}this.header=new x(this.header);this.header.create()}};h.prototype.createStruct=function(){var e=this;this.init();if(this.addAttr){$.each(this.addAttr,function(t,a){e.table.attr(t,a)})}$.each(this.columns,function(t,i){if(i.icons){a.create("th").appendTo(e.thRow);return true}var s=a.create("th").attr("data-col",i.name).text(i.text).appendTo(e.thRow);if(e.sortable===true&&i.sortable!==false){s.css({cursor:"pointer"});s.click(function(){e.postdata.sort_type=e.sortedType=e.sortedType==="asc"?"desc":"asc";e.postdata.sort_by=i.name;e.postdata.offset=0;e.getData()})}if(i.hide==true){s.hide()}});if(this.deletable!=undefined||e.rowHoverIcons){a.create("th").appendTo(this.thRow).css({width:"20px"})}this.loading=a.create("div").addClass("loading").appendTo(this.container)};h.prototype.createColumnSwitcher=function(){var e=this;if(!this.columnSwitcher){return false}var t=a.create("div").addClass("column-switcher").appendTo(this.header.rbox);var i=a.create("div").addClass("gicons-gray gicons cogwheels").appendTo(t);var s=a.create("div").addClass("result").hide().appendTo(t);var n=a.create("div").addClass("arrow-box-white").appendTo(s);t.hover(function(){$(s).fadeIn(300)},function(){$(s).fadeOut(100)});var r=a.create("table").addClass("table-column-switcher").appendTo(n);$.each(this.columns,function(t,i){if(i.icons){return true}var s=a.create("tr").appendTo(r);var n=a.create("th").text(i.text).appendTo(s);var o=a.create("td").appendTo(s);var c=a.create("input").attr("type","checkbox").attr("name",i.name).appendTo(o);if(i.hide!=true){c.attr("checked","checked")}c.click(function(){if(this.checked==true){e.table.find("[data-col='"+i.name+"']").fadeIn();e.colsByKey[i.name].hide=false}else{e.table.find("[data-col='"+i.name+"']").fadeOut();e.colsByKey[i.name].hide=true}})})};h.prototype.getData=function(e){var i=this,s=this.postdata;this.loading.show();this.tbody.hide();if(this.postdataCallback){s=this.postdataCallback(s)}if(this.bindForm){s=a.extend({},s);a.extend(s,this.bindForm.getData())}if(e){if(e.resetOffset){s.offset=0}if(e.search!==undefined){this.search.set(e.search);s.query=e.search}}t.post({url:this.url,data:s,success:function(e){i.loading.hide();if(i.bindForm&&(e.status=="err-610"||e.status=="err-620")){i.tbody.fadeIn(300);i.bindForm.markErrors(e.data.failed);return false}i.tbody.html("");if(i.pager||i.header){var t=i.pager?i.pager.appendTo:i.header.pager;i.pagerObject=new f({data:e,postdata:s,appendTo:t,callback:function(e){i.postdata=e.postdata;i.getData()}}).create()}i.createRows(e.data);i.tbody.fadeIn(300);i.addSelectEvents()}})};h.prototype.createRows=function(e){var t=this;$.each(e,function(e,i){var s=a.create("tr").appendTo(t.tbody);if(t.selectable&&t.selectable.name){var n=t.selectable.getUniqueId?t.selectable.getUniqueId(i):i[t.selectable.name];s.attr("data-id",n);if(t.cache.selected[n]){s.addClass("ui-selected")}t.cache.data[n]=i;if(t.cache.selected[n]){s.addClass("ui-selected")}}if(t.onClick){s.css({cursor:"pointer"});s.click(function(){t.onClick(i)})}if(t.click){s.css({cursor:"pointer"});s.click(function(){t.click.callback(i)});s.attr("title",t.click.title);s.tooltip({track:true})}if(t.tooltip){s.tooltip({items:s,track:true,content:t.tooltip(i)})}$.each(t.columns,function(e,a){var n=t.createColumn(s,i,a);if(a.hide==true){n.hide()}});var r,o=0;if(t.deletable!==undefined||t.rowHoverIcons){r=a.create("td").css({"vertical-align":"middle",padding:"3px 0 0 0","white-space":"nowrap"}).appendTo(s)}if(t.deletable!==undefined){var c=true,l="";if(t.deletable.check){c=t.deletable.check(i)}if(c===true){var l=a.create("a").attr("title",t.deletable.title).tooltip().addClass("hicons-btn").html(a.create("span").addClass("hicons remove").css({margin:"0"})).click(function(){t.createDeleteOverlay(i,t.deletable)}).hide();s.hover(function(){l.show()},function(){l.hide()});o=o+20;r.css({width:o});l.appendTo(r)}}if(t.rowHoverIcons){$.each(t.rowHoverIcons,function(e,t){var n=a.create("a").attr("title",t.title).tooltip().addClass("hicons-btn").html(a.create("span").addClass("hicons "+t.icon).css({margin:"0"})).click(function(){t.onClick(i,t)}).hide().appendTo(r);s.hover(function(){n.show()},function(){n.hide()});o=o+20;r.css({width:o})})}})};h.prototype.createRow=function(e){var t=a.create("tr").appendTo(this.tbody);if(e){if(this.type=="default"){$.each(e,function(e,i){a.create("td").html(i).appendTo(t)})}else{if(e[0]){a.create("th").html(e[0]).appendTo(t)}if(e[1]){a.create("td").html(e[1]).appendTo(t)}}}return t};h.prototype.createSimpleRow=function(e){var t=a.create("tr").appendTo(this.tbody);$.each(e,function(e,i){a.create("td").html(i).appendTo(t)});return t};h.prototype.createFormRow=function(e,t){var i=a.create("tr").appendTo(this.tbody),s=a.create("th").appendTo(i),n=a.create("td").appendTo(i);if(e){s.html(e)}if(t){n.html(t)}return{tr:i,th:s,td:n}};h.prototype.addHeadColumn=function(e){return a.create("th").html(e).appendTo(this.thRow)};h.prototype.createDeleteOverlay=function(e,i){var s=this;if(i==undefined){i=this.deletable}var n=typeof i.url==="function"?i.url(e):a.replacePattern(i.url,e);var r=a.create("div");if(i.warning){a.create("div").addClass("text-warn").css({width:"500px",margin:"15px","text-align":"center"}).html(i.warning).appendTo(r)}var o=a.create("table").addClass("vtable").appendTo(r),l=a.create("tbody").appendTo(o),h=i.buttonText!=undefined?i.buttonText:c.get("action.delete");$.each(i.result,function(t,i){var n=a.create("tr").appendTo(l),r=e[i];a.create("th").html(s.colsByKey[i].text).appendTo(n);if(s.colsByKey[i].bool!=undefined){if(s.colsByKey[i].bool=="yn"){r=r=="0"?c.get("word.No"):c.get("word.Yes")}else if(col.bool=="tf"){r=r=="0"?c.get("word.False"):c.get("word.True")}}a.create("td").text(r).appendTo(n)});new b({title:i.title,content:r,width:i.width||"default",buttons:[{content:h,callback:function(){t.post({url:n,data:e,async:false,token:true,success:function(e){if(e.status=="ok"){if(i.successCallback!=undefined){i.successCallback()}else{s.getData()}}}})}}]}).create()};h.prototype.createColumn=function(e,t,i){if(i.icons){var s=a.create("td").addClass(this.iconsClass).appendTo(e);$.each(i.icons,function(e,i){if(i.check==undefined||i.check(t)==true){var n=a.create("span").addClass(i.icon);if(i.link){var r=a.replacePattern(i.link,t,t.username);n=a.create("a").attr("href",r).html(n);if(i.blank==true){n.attr("target","_blank")}}else if(i.call){n=i.call(t)}else if(i.onClick){n.click(function(){i.onClick(t)});n.css({cursor:"pointer"})}else{n.css({cursor:"default"})}if(i.title){if(typeof i.title=="function"){var o=i.title(t);n.attr("title",o)}else{n.attr("title",a.escape(i.title))}n.tooltip()}n.appendTo(s)}});return s}var n;if(i.value){n=typeof i.value=="function"?i.value(t):n}else if(i.notNull&&t[i.name]===undefined){n=i.notNull}else if(i.empty&&t[i.name]===""){n=i.empty}else if(typeof t[i.name]!=="object"){n=a.escape(t[i.name])}if(i.bool!=undefined){if(i.bool=="yn"){n=n=="0"?c.get("word.No"):c.get("word.Yes")}else if(i.bool=="tf"){n=n=="0"?c.get("word.False"):c.get("word.True")}}if(i.link||i.call){var r=i.link?i.link:i.call;r=a.replacePattern(r,t);if(i.link){n=a.create("a").attr("href",a.escape(r)).html(n)}else{n=i.call(t)}}if(i.activeFlag){var o=n?"is-active":"is-not-active",n=n?c.get("word.active"):c.get("word.inactive");n=a.create("span").addClass(o).html(n)}if(i.menu){var l=a.create("div").addClass(this.linkMenuClass);var h=a.create("a").html(n).appendTo(l);var d=a.create("ul").hide().appendTo(l);a.create("div").addClass("hicons-gray hicons remove close-x").appendTo(d).click(function(){d.fadeOut(200)});h.click(function(){d.fadeIn(400)});n=l;$.each(i.menu,function(e,i){var s=a.create("li").appendTo(d);if(i.deletable){var n=i.text||c.get("action.delete");n=typeof n=="function"?n(t):n;s.html(n).click(function(){d.fadeOut(400);self.createDeleteOverlay(t,i.deletable)})}else{var n=typeof i.text=="function"?i.text(t):i.text;s.html(n).click(function(){d.fadeOut(400);i.callback(t)})}})}if(i.aTag){n=a.create("a").html(n)}if(i.callback){n=a.create("span").html(n);n.click(function(){i.callback(t)})}if(i.convertFromUnixTime===true){var m=new Date(n*1e3);n=g(m,g.masks.bloonix)}if(i.convertToTimeString===true){n=a.secondsToStringShortReadable(n)}if(i.wrapIconClass===true){n=y.createInfoIcon({type:n})}if(i.wrapValueClass===true){n=a.create("div").addClass("status-base status-"+n).html(n)}if(i.wrapNameValueClass===true){n=a.create("div").addClass("status-base status-"+i.name+"-"+n).html(n)}if(typeof n!="object"){n=a.create("span").html(n)}if(i.prefix){n.html(i.prefix+" "+n.text())}if(i.onClick){n.click(i.onClick);n.css({cursor:"pointer"});if(i.link==undefined&&i.call==undefined){n.hover(function(){$(this).css({"text-decoration":"underline"})},function(){$(this).css({"text-decoration":"none"})})}}if(i.linkCallback){n=a.create("a").html(n).click(function(){i.linkCallback(t)})}if(i.title){if(typeof i.title==="function"){var u=i.title(t);if(u.length){n.tooltip({items:n,track:true,content:i.title(t)})}}else{n.attr("title",a.escape(i.title));n.tooltip({track:true})}}var s=a.create("td").attr("data-col",i.name).html(n).appendTo(e);if(i.nowrap==true){s.css({"white-space":"nowrap"})}if(i.centered==true){s.css({"text-align":"center"})}else if(i.rightAlign==true){s.css({"text-align":"right"})}return s};h.prototype.addColumn=function(e){var t=a.create("td");if(e.addClass){t.addClass(e.addClass)}if(e.html){t.html(e.html)}t.appendTo(this.tbody);return t};h.prototype.addSelectEvents=function(){if(!this.selectable){return}var e=this,t=this.cache.selected,i=this.cache.data;if(this.selectable.counter){this.addSelectedCounter()}this.tbody.selectable({filter:this.selectable.filter,cancel:this.selectable.cancel,autoRefresh:this.selectable.autoRefresh,selected:function(s,n){var r=$(n.selected).data("id");if(t[r]==undefined){if(e.selectable.max==0||a.objectSize(t)<e.selectable.max){t[r]=i[r]}else{$(n.selected).removeClass("ui-selected")}}if(e.selectable.counter){e.updateSelectedCounter()}},unselected:function(a,i){var s=$(i.unselected).find("[data-col='"+e.selectable.name+"']").find("span").text();delete t[s];if(e.selectable.counter){e.updateSelectedCounter()}}})};h.prototype.addSelectedCounter=function(){var e=this,i=this.selectable.counter;if(i.update){i.update=$(i.update)}else{i.update=a.create("span").attr("title",i.title).tooltip().addClass(i.addClass);if(i.hideIfNull){i.update.hide()}if(i.appendTo){$(i.appendTo).html(i.update)}}this.updateSelectedCounter();$(i.update).click(function(){var i=a.create("table").addClass("maintab");var s=a.create("thead").appendTo(i);var n=a.create("tr").appendTo(s);var r=a.create("tbody").appendTo(i);$.each(e.selectable.result,function(t,i){a.create("th").html(e.colsByKey[i].text).appendTo(n)});a.create("th").html("").appendTo(n);$.each(e.cache.selected,function(t,i){var s=a.create("tr").appendTo(r);$.each(e.selectable.result,function(e,t){a.create("td").html(i[t]).appendTo(s)});a.create("span").attr("title",c.get("action.unselect")).addClass("btn btn-white btn-small-icon").html(a.create("span").addClass("hicons-gray hicons remove")).appendTo(a.create("td").appendTo(s)).click(function(){delete e.cache.selected[t];
s.remove();e.updateSelectedCounter();e.table.find(".ui-selected").each(function(){var t=$(this).data("id");if(e.cache.selected[t]==undefined){$(this).removeClass("ui-selected")}})}).tooltip()});var o=[];if(e.selectable.deletable){o.push({content:c.get("action.delete"),callback:function(i){var s=e.getSelectedIds(),n=s.length,r=0;$.each(s,function(i,s){var o=a.replacePattern(e.selectable.deletable.url,{id:s});t.post({url:o,token:true,async:false,success:function(e){if(e.status=="ok"){--n}}});r++});e.cache.selected={};e.getData();e.updateSelectedCounter()}})}new b({title:e.selectable.resultTitle,content:i,buttons:o}).create()})};h.prototype.updateSelectedCounter=function(){if(this.selectable&&this.selectable.counter){var e=a.objectSize(this.cache.selected);if(this.selectable.counter.descriptive){if(e>1&&e==this.selectable.max){this.selectable.counter.update.html(e+" "+c.get("schema.chart.text.selected_max_reached"));this.selectable.counter.update.addClass("rwt")}else{this.selectable.counter.update.html(e+" "+c.get("schema.chart.text.selected"));this.selectable.counter.update.removeClass("rwt")}}else{this.selectable.counter.update.html(e)}if(e==0&&this.selectable.counter.hideIfNull==true){this.selectable.counter.update.hide()}else{this.selectable.counter.update.show()}}};h.prototype.getSelectedIds=function(){var e=this.getSelectedRows(),t=[];$.each(e,function(e,a){t.push(a.id)});return t};h.prototype.getSelectedRows=function(){var e={};if(this.cache.selected){$.each(this.cache.selected,function(t,a){e[t]=a})}return e};h.prototype.clearSelectedRows=function(){this.cache.selected={};this.tbody.find(".ui-selected").removeClass("ui-selected");this.tbody.selectable("destroy");this.addSelectEvents()};h.prototype.refreshSelectedRows=function(e){var t=this;this.clearSelectedRows();$.each(e,function(e,a){var i=t.table.find("[data-id='"+e+"']");if(i){i.addClass("ui-selected");t.cache.selected[e]=a}if(t.selectable.counter){t.updateSelectedCounter()}})};h.prototype.addSearchEvents=function(){var e=this,t=this.searchable;t.columns=[];if(t.appendTo){t.appendTo=$(t.appendTo)}else if(this.header){t.appendTo=this.header.search}$.each(t.result,function(a,i){t.columns.push(e.colsByKey[i])});this.search=new d({url:t.url,appendTo:t.appendTo,postdata:t.postdata,searchValue:t.value,resultWidth:t.resultWidth,searchCallback:function(e){var a=new h;a.init();$.each(t.columns,function(e,t){a.addHeadColumn(t.text)});$.each(e.data,function(e,i){var s=a.createRow();$.each(t.columns,function(e,t){a.createColumn(s,i,t)})});return a.table},submitCallback:function(t){e.postdata.query=t;e.postdata.offset=0;e.getData()}}).create()};h.createShell=function(e){if(e==undefined){e="maintab"}var t={};t.table=a.create("table").addClass(e);t.thead=a.create("thead").appendTo(t.obj);t.tbody=a.create("tbody").appendTo(t.obj);t.hrow=a.create("tr").appendTo(t.thead);return t};var d=function(e){this.postdata={};this.cache={lastSearchStringLength:0};a.extend(this,e)};d.prototype={format:"small",helpText:c.get("info.search_syntax"),searchValue:"",searchKeyLength:3,searchCallback:false,submitCallback:false,placeholder:c.get("action.search"),inputClass:false,resultClass:"search-result",resultWidth:false,helpClass:"search-help",loadingClass:"loading-small",appendTo:false};d.prototype.getInputClass=function(){return this.inputClass||"input input-"+this.format};d.prototype.create=function(){var e=this;this.appendTo=$(this.appendTo);this.appendTo.addClass("search");this.formContainer=a.create("form").appendTo(this.appendTo);this.inputContainer=a.create("input").attr("placeholder",this.placeholder).attr("value",this.searchValue).addClass(this.getInputClass()).appendTo(this.formContainer);this.resultContainer=a.create("div").addClass(this.resultClass).appendTo(this.appendTo);if(this.resultWidth){this.resultContainer.css({width:this.resultWidth})}this.resultBubbleContainer=a.create("div").addClass("arrow-box-white").html("").appendTo(this.resultContainer);this.helpContainer=a.create("div").addClass(this.helpClass).appendTo(this.appendTo);a.create("div").addClass("arrow-box-white").html(this.helpText).appendTo(this.helpContainer);a.create("div").addClass("clear").appendTo(this.appendTo);this.appendTo.hover(function(){e.inputContainer.addClass("int-is-hover");if(e.cache.hasData!=1){e.helpContainer.fadeIn(400)}},function(){e.inputContainer.removeClass("int-is-hover");if(!e.inputContainer.is(":focus")){e.resultContainer.hide()}e.helpContainer.hide()});this.inputContainer.focus(function(){if(e.cache.hasData==1){e.resultContainer.show(400)}else if(e.inputContainer.val().length==0){e.helpContainer.fadeIn(400)}});this.inputContainer.blur(function(){e.helpContainer.hide(400);if(!e.inputContainer.hasClass("int-is-hover")){e.resultContainer.hide(400)}});this.inputContainer.keyup(function(){e.doSearch(false)});if(this.submitCallback){this.formContainer.submit(function(t){var a=e.inputContainer.val();t.preventDefault();e.submitCallback(a);e.resultContainer.hide()})}return this};d.prototype.doSearch=function(e){var i=this;$(this.helpContainer).hide();var s=this.cache;var n=$(this.inputContainer).val();if(n==s.value){return false}if(n.length==0){$(this.resultContainer).find("div").html("");$(this.resultContainer).hide();$(this.helpContainer).fadeIn(400);s.value="";s.hasData=0;s.lastSearchStringLength=0;return false}var r=Math.floor(n.length/this.searchKeyLength);if(r==s.lastSearchStringLength-1){s.lastSearchStringLength=r;return false}if(r>s.lastSearchStringLength||e==true){s.lastSearchStringLength=r;s.value=n;this.postdata.query=n;this.inputContainer.addClass(this.loadingClass);t.post({url:this.url,data:this.postdata,success:function(e){var t=i.searchCallback(e);$(i.resultBubbleContainer).html(t);a.create("span").addClass("hicons-gray hicons remove result-close-x").click(function(){i.resultContainer.hide()}).appendTo(i.resultBubbleContainer);i.inputContainer.removeClass(i.loadingClass);$(i.resultContainer).show(400);s.hasData=1}})}};d.prototype.set=function(e){$(this.inputContainer).val(e)};var m=function(e){a.extend(this,e)};m.prototype={placeholder:"",requiredMarkerClass:"rwb",required:false,containerClass:"select-container",inputClass:false,listClass:false,loadingClass:"loading-small",format:"default",url:false,source:false,postdata:false,appendTo:false,callback:false,onClick:false,onKeyUp:false,start:0};m.prototype.getContainerClass=function(){return this.containerClass};m.prototype.getInputClass=function(){return this.inputClass||"input input-"+this.format};m.prototype.getListClass=function(){return this.listClass||"select-list-"+this.format};m.prototype.getBorderMarkerClass=function(){return this.requiredMarkerClass};m.prototype.getLoadingClass=function(){return this.loadingClass};m.prototype.create=function(){var e=this;if(this.input==undefined){this.selectContainer=a.create("div").addClass(this.getContainerClass());if(this.appendTo!=undefined){this.selectContainer.appendTo(this.appendTo)}this.input=a.create("input").attr("placeholder",this.placeholder).addClass(this.getInputClass()).appendTo(this.selectContainer)}else if(this.container){this.selectContainer=this.container;this.container.addClass(this.getContainerClass())}if(this.required==true){this.input.addClass(this.getBorderMarkerClass())}this.result=a.create("ul").addClass(this.getListClass()).appendTo(this.selectContainer);$(this.input).blur(function(){setTimeout(function(){$(e.result).fadeOut(200)},200)});$(this.input).focus(function(){if(e.input.val().length>e.start){e.showResult()}else if(e.input.val().length==0&&e.start==0){e.search()}});$(this.input).keyup(function(){if(e.selected!=undefined&&e.selected!=e.input.val()){e.input.attr("data-value","");delete e.selected;if(e.required==true){e.input.addClass(e.getBorderMarkerClass())}}if(e.input.val().length>e.start&&e.input.val()!=e.selected){if(e.onKeyUp){e.onKeyUp(e.input.val())}e.search()}})};m.prototype.search=function(){if(this.url){this.filterRequest()}else if(this.source){this.filterSource()}};m.prototype.filterRequest=function(){var e=this;if(this.postdata==undefined){this.postdata={}}this.postdata.search=this.input.val();this.input.addClass(this.getLoadingClass());t.post({url:this.url,data:this.postdata,success:function(t){e.input.removeClass(e.getLoadingClass());e.result.html("");$.each(t.data,function(t,a){var i=e.callback(a);var s=i.data("name");var n=i.data("value");if(s==undefined){s=n}e.addOnClickEvent(i,s,n);i.appendTo(e.result)});e.showResult()}})};m.prototype.filterSource=function(){var e=this;var t=this.input.val()||"";var i=new RegExp(t);e.result.html("");$.each(this.source,function(t,s){if(i.test(s)){var n=a.create("li").text(s).appendTo(e.result);e.addOnClickEvent(n,s,s)}});this.showResult()};m.prototype.addOnClickEvent=function(e,t,a){var i=this;e.click(function(){i.result.fadeOut(200);i.input.val(t);i.input.attr("data-value",a);i.selected=a;if(i.required==true){i.input.removeClass(i.getBorderMarkerClass())}if(i.onClick){i.onClick(t,a)}});e.css({cursor:"pointer"})};m.prototype.showResult=function(){if(this.result.find("li").length>0){this.result.fadeIn(400)}};var u=function(e){a.extend(this,e)};u.prototype={title:false,titleClass:"menu-title",content:false,appendTo:false,iconBaseClass:"hicons-gray hicons",iconUpClass:"chevron-up",iconDownClass:"chevron-down",showDelay:500,hideDelay:500,hide:true};u.prototype.create=function(){var e=this;this.outerContainer=a.create("div");this.titleContainer=a.create("div").addClass(this.titleClass).appendTo(this.outerContainer);this.contentContainer=a.create("div").html(this.content).appendTo(this.outerContainer);this.icon=a.create("div").addClass(this.iconBaseClass).appendTo(this.titleContainer);this.title=a.create("span").css({display:"inline-block",padding:"0 0 0 6px"}).html(this.title).appendTo(this.titleContainer);this.title.click(function(){if(e.hide==true){e.contentContainer.show(e.showDelay);e.hide=false;e.icon.addClass(e.iconUpClass);e.icon.removeClass(e.iconDownClass)}else{e.contentContainer.hide(e.hideDelay);e.hide=true;e.icon.addClass(e.iconDownClass);e.icon.removeClass(e.iconUpClass)}});if(this.hide==true){this.icon.addClass(this.iconDownClass);this.contentContainer.hide()}else{this.icon.addClass(this.iconUpClass)}if(this.appendTo){this.outerContainer.appendTo(this.appendTo)}};var p=function(e){a.extend(this,e);this.links={};this.boxes={};this.active=false};p.prototype={baseClass:"simple-menu",linkClass:"simple-menu-link",activeClass:"simple-menu-active",separatorClass:"simple-menu-separator",appendTo:false,callback:false,store:false};p.prototype.create=function(){var e=this;this.container=a.create("div").addClass(this.baseClass);if(this.appendTo){this.container.appendTo(this.appendTo)}if(this.items){$.each(items,function(t,a){e.add(a)})}return this};p.prototype.add=function(e){var t=this;if(a.objectSize(this.boxes)>0){a.create("span").addClass(this.separatorClass).text("|").appendTo(this.container)}var i=a.create("span").addClass(this.linkClass).html(e.text).appendTo(this.container).click(function(){t.switchItem(e.value)});if(e.show==true){e.container.show();this.active=e.value;i.addClass(this.activeClass);if(this.store){this.store.to[this.store.as]=e.value}}else{e.container.hide()}this.links[e.value]=i;this.boxes[e.value]=e.container};p.prototype.switchItem=p.prototype.switchTo=function(e){if(this.active==e){return}this.boxes[this.active].hide(200);this.links[this.active].removeClass(this.activeClass);this.links[e].addClass(this.activeClass);this.boxes[e].show(200);this.active=e;if(this.store){this.store.to[this.store.as]=e}if(this.callback){this.callback(e)}};var f=function(e){a.extend(this,e)};f.prototype={appendTo:false,format:"default",stopIconClass:false,backIconClass:false,forwardIconClass:false,pagerClass:"pager",pagerTextClass:false,data:false,postdata:false};f.prototype.getPagerTextClass=function(){return this.pagerTextClass||"pager-text-"+this.format};f.prototype.getStopIconClass=function(){if(this.stopIconClass){return this.stopIconClass}return this.format=="default"?"gicons-gray gicons stop":"hicons-gray hicons stop"};f.prototype.getBackIconClass=function(){if(this.backIconClass){return this.backIconClass}return this.format=="default"?"gicons-gray gicons chevron-left":"gicons-gray gicons chevron-right"};f.prototype.getForwardIconClass=function(){if(this.forwardIconClass){return this.forwardIconClass}return this.format=="default"?"gicons-gray gicons chevron-right":"hicons-gray hicons chevron-right"};f.prototype.create=function(){var e=this.postdata;var t=this,i=e.offset,s=e.limit,n=this.data.size,r=this.data.total;var o=parseInt(i)-parseInt(s),l=parseInt(i)+parseInt(s),h=parseInt(i)+parseInt(n),d;if(o<0){o=0}var m=$(this.appendTo).addClass(this.pagerClass).html("");if(i>0){a.create("div").addClass(this.getBackIconClass()).appendTo(m).css({cursor:"pointer"}).click(function(){e.offset=o;e.size=t.data.size;t.callback({postdata:e})})}else{a.create("div").addClass(this.getStopIconClass()).appendTo(m)}a.create("div").addClass(this.getPagerTextClass()).html(c.get("action.display_from_to_rows",[i,h,r])).appendTo(m);if(l<r){a.create("div").addClass(this.getForwardIconClass()).appendTo(m).css({cursor:"pointer"}).click(function(){e.offset=l;e.size=t.data.size;t.callback({postdata:e})})}else{a.create("div").addClass(this.getStopIconClass()).appendTo(m)}};var v=function(e){this.cache={};a.extend(this,e)};v.prototype={activeClass:"nav-sub-active",appendNavTo:"#nav-sub",appendContentTo:"#content",tabs:false};v.prototype.create=function(){$(this.appendNavTo).html("");var e=this,t=a.create("ul").appendTo(this.appendNavTo);a.create("div").addClass("clear").appendTo(this.appendNavTo);$.each(this.tabs,function(i,s){var n=a.create("a").html(s.text).css({cursor:"pointer"});var r=a.create("li").html(n).appendTo(t).click(function(){e.switchTab(i)});var o=a.create("div").hide().html(e.content).appendTo(e.appendContentTo);if(s.id){o.attr("id",s.id)}e.cache[i]={li:r,content:o}});this.switchTab(0)};v.prototype.switchTab=function(e){if(this.activeTab!=undefined){this.cache[this.activeTab].content.hide();this.cache[this.activeTab].li.removeClass(this.activeClass)}this.cache[e].content.fadeIn(200);this.cache[e].li.addClass(this.activeClass);this.activeTab=e};var g=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,a=/[^-+\dA-Z]/g,i=function(e,t){e=String(e);t=t||2;while(e.length<t)e="0"+e;return e};return function(s,n,r){var o=g;o.i18n=c.dateFormat[c.lang];if(arguments.length==1&&Object.prototype.toString.call(s)=="[object String]"&&!/\d/.test(s)){n=s;s=undefined}s=s?new Date(s):new Date;if(isNaN(s))throw SyntaxError("invalid date");n=String(o.masks[n]||n||o.masks["default"]);if(n.slice(0,4)=="UTC:"){n=n.slice(4);r=true}var l=r?"getUTC":"get",h=s[l+"Date"](),d=s[l+"Day"](),m=s[l+"Month"](),u=s[l+"FullYear"](),p=s[l+"Hours"](),f=s[l+"Minutes"](),v=s[l+"Seconds"](),b=s[l+"Milliseconds"](),x=r?0:s.getTimezoneOffset(),_={d:h,dd:i(h),ddd:o.i18n.dayNames[d],dddd:o.i18n.dayNames[d+7],m:m+1,mm:i(m+1),mmm:o.i18n.monthNames[m],mmmm:o.i18n.monthNames[m+12],yy:String(u).slice(2),yyyy:u,h:p%12||12,hh:i(p%12||12),H:p,HH:i(p),M:f,MM:i(f),s:v,ss:i(v),l:i(b,3),L:i(b>99?Math.round(b/10):b),t:p<12?"a":"p",tt:p<12?"am":"pm",T:p<12?"A":"P",TT:p<12?"AM":"PM",Z:r?"UTC":(String(s).match(t)||[""]).pop().replace(a,""),o:(x>0?"-":"+")+i(Math.floor(Math.abs(x)/60)*100+Math.abs(x)%60,4),S:["th","st","nd","rd"][h%10>3?0:(h%100-h%10!=10)*h%10]};return n.replace(e,function(e){return e in _?_[e]:e.slice(1,e.length-1)})}}();g.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",bloonix:"yyyy-mm-dd HH:MM:ss",bloonixNoHour:"yyyy-mm-dd HH:MM",bloonixDate:"yyyy-mm-dd",bloonixTime:"HH:MM:ss",timePlusMs:"HH:MM:ss.l"};g.i18n=c.dateFormat[c.lang];Date.prototype.format=function(e,t){return g(this,e,t)};var b=function(e){a.extend(this,e)};b.prototype={outerClass:"overlay-outer",innerClass:"overlay-inner",titleClass:"overlay-title",contentClass:"overlay-content",buttonsClass:"overlay-buttons",buttonClass:"btn btn-white btn-medium",title:false,content:false,buttons:false,closeText:c.get("action.close"),showCloseButton:true,width:false,height:false,visible:false};b.prototype.create=function(){if($("#overlay").length){$("#overlay").remove()}var e=this;this.outerContainer=a.create("div").attr("id","overlay").addClass(this.outerClass);this.innerContainer=a.create("div").addClass(this.innerClass).appendTo(this.outerContainer);if(this.width){this.innerContainer.css({width:this.width})}if(this.height){this.innerContainer.css({height:this.height})}this.titleContainer=a.create("div").addClass(this.titleClass).appendTo(this.innerContainer);if(this.title){this.titleContainer.html(this.title)}var t=a.create("div").addClass(this.contentClass).html(this.content).appendTo(this.innerContainer);if(this.visible){t.css({overflow:"visible"})}var i=a.create("div").addClass(this.buttonsClass).appendTo(this.innerContainer);if(this.buttons){$.each(this.buttons,function(t,s){a.create("div").addClass(e.buttonClass).html(s.content).click(function(){s.callback(s.content,e);if(s.close!=false){e.close()}}).appendTo(i)})}if(this.closeText==undefined){this.closeText=c.get("action.close")}if(this.showCloseButton){var s=a.create("div").addClass(this.buttonClass).html(this.closeText).appendTo(i);s.click(function(){e.close()})}this.outerContainer.appendTo("body");this.outerContainer.fadeIn(400);this.innerContainer.fadeIn(400);return this};b.prototype.setWidth=function(e){this.innerContainer.css({width:e})};b.prototype.setHeight=function(e){this.innerContainer.css({height:e})};b.prototype.close=function(){var e=this;this.innerContainer.fadeOut(400);this.outerContainer.fadeOut(400);setTimeout(function(){e.outerContainer.remove()},400);if(e.closeCallback){e.closeCallback()}};var x=function(e){a.extend(this,e)};x.prototype={appendTo:"#content",title:false,sidetitle:false,subtitle:false,notice:false,pager:false,search:false,border:false,headerClass:"header",sidetitleClass:"sidetitle",pagerClass:"pager",css:false,rbox:true,replace:false};x.prototype.create=function(){var e=this;if(this.replace===true){$(this.appendTo).html("")}this.outer=a.create("div").addClass(this.headerClass).appendTo(this.appendTo);if(this.css){this.outer.css(this.css)}if(this.title){var t=this.title;this.title=a.create("h1").appendTo(this.outer);if(typeof t=="object"){this.title.html($(t).clone())}else{this.title.html(t)}}if(this.smallSubTitle){a.create("br").appendTo(this.title);a.create("small").html(this.smallSubTitle).appendTo(this.title)}if(this.sidetitle){var i=a.create("span").appendTo(this.title);a.create("span").html(" (").appendTo(i);a.create("span").html(this.sidetitle).appendTo(i);a.create("span").html(")").appendTo(i);this.sidetitle=i}if(this.pager==true){this.pager=a.create("div").addClass("pager").css({width:"34%","float":"left"}).appendTo(this.outer)}if(this.rbox===true){this.rbox=a.create("div").addClass("rbox").appendTo(this.outer)}else{this.outer.css({"padding-bottom":"3px"})}if(typeof this.pager=="object"){this.title.css({width:"33%"});this.pager.css({width:"34%"});this.rbox.css({width:"33%"})}else if(this.rbox===true){this.title.css({width:"60%"});this.rbox.css({width:"40%"})}if(this.search){this.search=a.create("div").addClass("search").appendTo(this.rbox)}if(this.icons){$.each(this.icons,function(t,i){var s=a.create("span").css({"float":"right",cursor:"pointer","margin-top":"2px"});if(i.type=="create"){s.addClass("gicons-gray gicons circle-plus")}else if(i.type=="configure"){s.addClass("gicons-gray gicons cogwheels")}else if(i.type=="go-back"){s.addClass("gicons-gray gicons left-arrow")}else if(i.type=="help"){s.addClass("gicons-gray gicons circle-question-mark")}else if(i.type=="reload"){s.addClass("gicons-gray gicons refresh")}if(i.title!=undefined){s.attr("title",i.title);s.tooltip()}if(i.url){a.create("a").attr("href",i.url).html(s).appendTo(e.rbox)}else if(i.callback){s.click(i.callback);s.appendTo(e.rbox)}})}if(this.counter){this.counterObject=a.create("div").attr("title",c.get("action.show_selected_objects")).addClass("btn btn-white btn-small").html("0").appendTo(this.rbox).tooltip()}a.create("div").addClass("clear").appendTo(this.outer);if(this.subtitle){this.subtitle=a.create("h3").html(this.subtitle).appendTo(this.outer)}if(this.notice){this.notice=a.create("h4").html(this.notice).appendTo(this.outer)}return this};x.prototype.setTitle=function(e){this.title.html(e)};x.prototype.setSidetitle=function(e){this.sidetitle.html(e)};x.prototype.setSubtitle=function(e){this.subtitle.html(e)};x.prototype.setNotice=function(e){this.notice.html(e)};var _=function(e){a.extend(this,e);this.steps={}};_.prototype={};_.prototype.add=function(e){this.stepsByAlias[e.alias]=e};_.prototype.start=function(e,t){var a=this.stepsByAlias[e];var i=a.callback(t);if(i){if(a.nextStep){this.start(nextStep,i)}}else if(this.errorStep){this.errorStep(e,t)}};var w=function(e){a.extend(this,e);var t=this;this.outer=a.create("div").addClass("hicons-btn");this.icon=a.create("div").addClass("hicons info-sign").appendTo(this.outer);this.bubble=a.create("div").addClass("hicons-bubble").hide().appendTo(this.outer);if(this.title){a.create("h2").html(this.title).appendTo(this.bubble)}if(this.desc){a.create("p").html(this.desc).appendTo(this.bubble)}if(this.note){a.create("small").html(this.note).appendTo(this.bubble)}if(this.text){this.bubble.html(this.text)}if(e.width){this.bubble.css({width:e.width})}if(e.css){this.bubble.css(e.css)}this.bubbleIsVisible=false;this.outer.click(function(){if(t.bubbleIsVisible==true){t.bubbleIsVisible=false;t.bubble.hide();t.icon.removeClass("remove");t.icon.addClass("info-sign")}else{t.bubbleIsVisible=true;t.bubble.show();t.icon.removeClass("info-sign");t.icon.addClass("remove")}})};w.prototype.appendTo=function(e){this.outer.appendTo(e)};var y={defaultStatusColor:{OK:"#5ec15e",INFO:"#339ab8",WARNING:"#e4af00",CRITICAL:"#cc333f",UNKNOWN:"#eb6841"},areaStatusColors:["#4b9768","#2f96b4","#f89406","#ca2146","#eb582a"],intervalObjects:[],timeoutObjects:[],xhrPool:[],requestSize:50,searchSize:10,chartReloadInterval:3e4,chartMaxSelected:100,postdata:{},cache:{charts:{}},stats:{hosts:{unknown:0,critical:0,warning:0,info:0,ok:0},services:{unknown:0,critical:0,warning:0,info:0,ok:0}},objects:{},destroy:undefined,plotChartsWith:"other"};y.barChart=function(e){y[y.plotChartsWith].barChart(e)};y.pieChart=function(e){y[y.plotChartsWith].pieChart(e)};y.plotChart=function(e){y[y.plotChartsWith].plotChart(e)};y.mapChart=function(e){y[y.plotChartsWith].mapChart(e)};y.createChartForMTR=function(e){y[y.plotChartsWith].createChartForMTR(e)};y.createChartForWTRM=function(e){y[y.plotChartsWith].createChartForWTRM(e)};g.masks.highchartsTooltip="ddd mmm dd yyyy HH:MM:ss";y.createOrReplaceChart=function(e){var t=y.getChartObject(e.container);var a=y.cache.charts;if(typeof t=="object"){t.destroy()}t=new Highcharts[e.type](e.chartOpts,e.chartFunction);a[e.container]=t};y.destroyChartObjects=function(e){var e=y.cache.charts;$.each(e,function(t,a){if(e[t]!=undefined){if(typeof e[t].chart=="object"){e[t].chart.destroy()}e[t]=undefined}if($(t).length>0){$(t).remove()}})};y.getChartObject=function(e){var t=y.cache.charts;if(t[e]!=undefined&&typeof t[e].chart=="object"){return t[e]}return false};y.convertBytesToStr=function(e,t,a){var i=0;if(t===undefined||t===null){return null}t=parseFloat(t);if(e==="bytes_to_bits"){t=t*8;t=y.convertUnitsToStr("",t,a);t+="b";return t}if(/bits/.test(e)){e.replace(/bits/,"bytes");t=t/8}if(t<0){i=1;t=t*-1}if(e=="kilobytes"){t=t*1024}else if(e=="megabytes"){t=t*1048576}else if(e=="gigabytes"){t=t*1073741824}else if(e=="terabytes"){t=t*1099511627776}else if(e=="petabytes"){t=t*0x4000000000000}else if(e=="exabytes"){t=t*0x1000000000000000}else if(e=="zettabytes"){t=t*0x400000000000000000}else if(e=="yottabytes"){t=t*1.2089258196146292e24}if(t>=1.2089258196146292e24){t=t/1.2089258196146292e24;e="YB"}else if(t>=0x400000000000000000){t=t/0x400000000000000000;e="ZB"}else if(t>=0x1000000000000000){t=t/0x1000000000000000;e="EB"}else if(t>=0x4000000000000){t=t/0x4000000000000;e="PB"}else if(t>=1099511627776){t=t/1099511627776;e="TB"}else if(t>=1073741824){t=t/1073741824;e="GB"}else if(t>=1048576){t=t/1048576;e="MB"}else if(t>=1024){t=t/1024;e="KB"}else{e=""}if(i==1){t=t*-1}if(a==true){return t.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")+e}return t.toFixed(1)+e};y.convertUnitsToStr=function(e,t,a){if(t===undefined||t===null){return null}t=parseFloat(t);if(e=="null"){var i=t.toString();if(/\./.test(i)){t=t.toFixed(2)}return t}var s=0;if(t<0){s=1;t=t*-1}if(e=="kilo"){t=t*1e3}else if(e=="mega"){t=t*1e6}else if(e=="giga"){t=t*1e9}else if(e=="tera"){t=t*1e12}else if(e=="peta"){t=t*1e15}else if(e=="exa"){t=t*1e18}else if(e=="zetta"){t=t*1e21}else if(e=="yotta"){t=t*1e24}else if(e=="chema"){t=t*1e27}if(t>=1e27){t=t/1e27;e="C"}else if(t>=1e24){t=t/1e24;e="Y"}else if(t>=1e21){t=t/1e21;e="Z"}else if(t>=1e18){t=t/1e18;e="E"}else if(t>=1e15){t=t/1e15;e="P"}else if(t>=1e12){t=t/1e12;e="T"}else if(t>=1e9){t=t/1e9;e="G"}else if(t>=1e6){t=t/1e6;e="M"}else if(t>=1e3){t=t/1e3;e="K"}else{e=""}if(s==1){t=t*-1}if(a==true){return t.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,",")+e}return t.toFixed(1)+e};y.noChartData=function(e){$(e).html("");var t=a.create("div").addClass("no-chart-data").appendTo(e);var i=a.create("p").appendTo(t);a.create("b").text(c.get("info.no_chart_data")).appendTo(i)};y.checkEmptyChartData=function(e){if(e.series.length==0){var t="#"+e.chart.container;$(t).addClass("chart-load-info").html("");a.create("p").html(a.create("i").text(e.chart.title)).appendTo(t);if(e.chart.subtitle){a.create("p").html(a.create("i").text(e.chart.subtitle)).appendTo(t)}a.create("p").html(a.create("b").text(c.get("info.no_chart_data"))).appendTo(t);return true}return false};y.setTitle=function(e,t,a){var i;if(t!=undefined){$("title").html(c.get(e,t));i=c.get(e,t,a)}else{$("title").html(c.get(e));i=c.get(e)}return i};y.setMetaTitle=function(e){$("title").html(e)};y.clearIntervalObjects=function(){if(y.intervalObjects.length){var e=y.intervalObjects.shift();clearInterval(e);y.clearIntervalObjects()}};y.clearTimeoutObjects=function(){if(y.timeoutObjects.length){var e=y.timeoutObjects.shift();clearTimeout(e);y.clearTimeoutObjects()}};y.clearHTML=function(){$("#content").html("");$("#footer-left").html("");if($("#header-title").length){$("#header-title").remove()}};y.clearAll=function(){t.abortXHRs();y.clearIntervalObjects();y.destroyChartObjects(y.cache.charts);y.clearHTML();if(y.destroy!=undefined){y.destroy();y.destroy=undefined}};y.dropDownToggle=function(e){var t=$(e).find("ul");if(t.is(":hidden")){$(e).tooltip({disabled:true});t.show()}else{t.hide();$(e).tooltip({disabled:false})}};y.createInfoIcon=function(e){var t=a.create("span"),i=a.create("span").addClass("hicons-white hicons").appendTo(t);if(e.type=="OK"){t.addClass("circle green");i.addClass("ok")}else if(e.type=="INFO"){t.addClass("circle blue");i.addClass("info-sign")}else if(e.type=="WARNING"){t.addClass("circle yellow");i.addClass("warning-sign")}else if(e.type=="CRITICAL"){t.addClass("circle red");i.addClass("fire")}else if(e.type=="UNKNOWN"){t.addClass("circle orange");i.addClass("question-sign")}if(e.size==="small"){t.addClass("circle-small")}return t};y.redirect=function(t){e.debug("redirect()");window.location.href="/#"+t;y.route.to(t)};y.call=function(e,t){if(typeof t=="string"){t=a.escape(t)}return a.create("a").attr("href","#"+e).html(t).mouseup(function(t){if(t.which==1){window.location.href="#"+e;y.route.to(this)}return true})};y.switchDebug=function(){e.level=e.level=="debug"?"info":"debug";console.log("switch log level to "+e.level)};y.logIntervalObjectCount=function(){var e=y.intervalObjects.length;var t=0;$.each(y.cache.charts,function(e,a){if(a!=undefined){if(a.intervalObject){t+=1}}});var a=e+t};y.logXhrObjectCount=function(){};y.createHoverBoxIcons=function(e){var t=a.create("div").addClass("hover-box-icons").appendTo(e.container);if(e.addClass){t.addClass(e.addClass)}$.each(e.icons,function(e,i){var s=a.create("span").addClass("hicons-btn").appendTo(t);var n=a.create("span").appendTo(s);if(i.type==="colorpicker"){if(i.color){n.css({"background-color":i.color});n.data("color",i.color)}else{n.data("color",null)}n.addClass("color-picker-icon");n.hexColorPicker({colorModel:"hex",submitCallback:function(e){n.data("color",e)}})}else{n.addClass("hicons "+i.type)}if(i.title){n.attr("title",i.title).tooltip()}if(i.addClass){s.addClass(i.addClass)}if(i.callback){n.click(function(){i.callback(i.data)})}else if(i.route){n.click(function(){y.route.to(i.route)})}});e.destroy=function(){t.remove()};return e};y.get=function(e,a){var i;t.post({url:e,async:false,data:a,success:function(e){i=e.data}});return i};y.notImplemented=function(){$("#content").html(a.create("div").addClass("info-err").text("This feature is not implemented yet!"))};y.createIcon=function(e){var t=a.create("span").attr("title",c.get("action."+e)).addClass("btn btn-white btn-small-icon").html(a.create("span").addClass("hicons-gray hicons "+e)).tooltip();return t};y.createIconList=function(e){var t=this;e.container=a.create("div");e.getContainer=function(){return this.container};if(e.appendTo){e.container.appendTo(e.appendTo)}e.cache={};if(e.multiple==true){e.switchTo=function(e,t){var a=this;if(this.cache[e].enabled==true){this.cache[e].object.removeClass("btn-selected");this.cache[e].enabled=false}else{this.cache[e].object.addClass("btn-selected");this.cache[e].enabled=true}var i=[];$.each(this.cache,function(e,t){if(a.cache[e].enabled==true){i.push(e)}});if(this.store){this.store.to[this.store.as]=i}if(this.callback&&t==undefined){this.callback(i)}}}else{e.switchTo=function(e,t){$.each(this.cache,function(e,t){if(t.enabled==true){t.enabled=false;if(t.icon==undefined){t.object.removeClass("btn-selected")}else{t.icon.removeClass("btn-icon-selected");t.icon.addClass("btn-icon-unselected")}}});this.cache[e].enabled=true;if(this.cache[e].icon==undefined){this.cache[e].object.addClass("btn-selected")}else{this.cache[e].icon.removeClass("btn-icon-unselected");this.cache[e].icon.addClass("btn-icon-selected")}if(this.store){this.store.to[this.store.as]=e}if(this.callback&&t==undefined){this.callback(e)}}}$.each(e.items,function(t,i){var s=a.create("div").attr("data-value",i.value).appendTo(e.container).tooltip();e.cache[i.value]={object:s,enabled:false};if(i.name){s.html(i.name)}else if(i.icon){e.cache[i.value].icon=a.create("div").addClass(i.icon).addClass("btn-icon-unselected").appendTo(s)}if(i.title!=undefined){s.attr("title",i.title)}s.click(function(){e.switchTo(i.value)});if(e.button!=false){if(e.format==undefined){s.addClass("btn btn-white btn-icon-even")}else{s.addClass("btn btn-white btn-"+e.format)}}else{if(e.display==undefined){e.display="block"}s.css({display:e.display,padding:"4px","font-size":"14px",cursor:"pointer"});s.hover(function(){s.addClass("btn-hovered")},function(){s.removeClass("btn-hovered")})}if(i.default==true){e.switchTo(i.value,true)}});return e};y.validateFromToDateTime=function(e,t){if(e==undefined||t==undefined){return false}var a=/^(\d{4}-\d{2}-\d{2}) (\d{2}:\d{2}:\d{2})$/.exec(e);var i=/^(\d{4}-\d{2}-\d{2}) (\d{2}:\d{2}:\d{2})$/.exec(t);if(a==null||i==null){return false}if(y.validateDate(a[1])==false||y.validateDate(i[1])==false){return false}if(y.validateTime(a[2])==false||y.validateTime(i[2])==false){return false}var s=Math.floor(e.replace(/[-:\s]/g,"")),n=Math.floor(t.replace(/[-:\s]/g,""));if(s>=n){return false}return true};y.validateFromToDateHourMin=function(e,t){if(e==undefined||t==undefined){return false}e+=":00";
t+=":00";return y.validateFromToDateTime(e,t)};y.validateDate=function(e){if(e==undefined){return false}var t=/^(\d{4})-(\d{2})-(\d{2})$/.exec(e);if(t==null){return false}var a=Math.floor(t[1]),i=Math.floor(t[2]),s=Math.floor(t[3]);if(i>12){return false}if(i==4||i==6||i==9||i==11){if(s>30){return false}}else if(i==2){var n=a%100&&a%4?28:29;if(s>n){return false}}else if(s>31){return false}return true};y.validateTime=function(e){if(e==undefined){return false}var t=/^(\d{2}):(\d{2}):(\d{2})$/.exec(e);if(t==null){return false}var a=Math.floor(t[1]),i=Math.floor(t[2]),s=Math.floor(t[3]);if(a>23||i>59||s>59){return false}return true};y.createNoteBox=function(e){var t=a.extend({id:"int-footnote",timeout:2e3,fadeOutAfter:400,autoClose:false,baseClass:"footnote",infoClass:"info-simple",closeIconClass:"hicons-gray hicons remove close-x",text:"not available"},e);t.create=function(){var e=this;if($("#"+this.id).length){$("#"+this.id).remove()}this.outerContainer=a.create("div").attr("id",this.id).addClass(this.baseClass).hide().appendTo("body").fadeIn(400);this.bubbleContainer=a.create("div").addClass(this.infoClass).html(this.text).appendTo(this.outerContainer);a.create("span").addClass(this.closeIconClass).click(function(){e.close()}).appendTo(this.bubbleContainer);if(this.autoClose===true){setTimeout(function(){e.close()},e.timeout)}};t.close=function(){this.outerContainer.fadeOut(self.fadeOutAfter).remove()};t.create();return t};y.hostServiceAction=function(e,i,s){t.post({url:e,data:i,token:true,success:function(e){if(e.status=="ok"){y.createNoteBox({infoClass:"info-ok",text:a.create("p").html(c.get("info.update_success")),autoClose:true,timeout:4e3})}}})};y.noAuth=function(){$("#content").html(a.create("div").addClass("info-err").html(c.get("err-415")))};y.flag=function(e,t){e=e.toLowerCase();var i=a.create("span").addClass("f32");a.create("span").addClass("flag "+e).appendTo(i);if(t){var s=a.create("span").html(i);a.create("span").css({"margin-left":"10px"}).text(t).appendTo(s);i=s}return i};y.showScrollbarAtHover=function(e){$(e).css({"overflow-x":"hidden","overflow-y":"hidden"}).hover(function(){$(this).css({"overflow-y":"auto"})},function(){$(this).css({"overflow-y":"hidden"})})};y.checkIfObject=function(e){if(e===null||e===undefined||e===false||typeof e!=="object"){return false}return true};y.getContentSize=function(e){var t=a.extend({content:"#content",footer:"#footer"},e);var i=$(t.content).width();var s=$(window).height()-$(t.content).offset().top;if($(t.footer).length){s-=$(t.footer).outerHeight()}return{width:i,height:s}};y.sortObject=function(e){var t=[];$.each(e,function(e,a){t.push(e)});return t.sort()};y.addLoading=function(e){a.create("div").addClass("loading").show().appendTo(e)};y.replaceWithLoading=function(e){$(e).html(a.create("div").addClass("loading").show())};y.removeLoading=function(e){$(e).find(".loading").remove()};y.enableLoading=function(e){$(e).find(".loading").show()};y.disableLoading=function(e){$(e).find(".loading").hide()};y.createFooterIcon=function(e){var t=a.create("span").addClass("footer-button");if(e.title){t.attr("title",e.title);t.tooltip()}if(e.icon){a.create("div").addClass("hicons-white hicons "+e.icon).appendTo(t)}if(e.click){t.click(e.click)}t.appendTo("#footer-left");return t};y.init=function(e){y.initAjax();y.version=e.version;if(e){if(e.chartLibrary){y.plotChartsWith=e.chartLibrary}if(e.screen){y.forceScreen=1;y.viewScreen(e);return}}y.initUser();y.initRoutes();y.initHeader();y.initFooter();y.initContent();y.getStats();y.initNavigation();y.route.to()};y.initRoutes=function(){var t=y.route=new n;t.log=e.debug;t.defaultRoute("dashboard",function(e){window.location.hash="dashboard";y.dashboard()});t.add("dashboard",function(e){y.dashboard(e)});t.add("dashboard/:name",function(e){y.dashboard(e)});t.add("wtrm",function(e){y.WTRM(e)});t.add("monitoring/hosts",function(e){y.listHosts(e)});t.add("monitoring/hosts/:id",function(e){y.viewHostDashboard(e)});t.add("monitoring/hosts/create",function(e){y.createHost(e)});t.add("monitoring/hosts/:id/edit",function(e){y.editHost(e)});t.add("monitoring/hosts/:id/events",function(e){y.listHostEvents(e)});t.add("monitoring/hosts/:id/charts",function(e){y.listCharts(e)});t.add("monitoring/hosts/:id/reports",function(e){y.viewHostReport(e)});t.add("monitoring/hosts/:id/dependencies",function(e){y.viewHostDependencies(e)});t.add("monitoring/hosts/:id/templates",function(e){y.editHostTemplates(e)});t.add("monitoring/hosts/:id/downtimes",function(e){y.viewHostDowntimes(e)});t.add("monitoring/hosts/:id/mtr",function(e){y.viewMtrResult(e)});t.add("monitoring/hosts/:id/notifications",function(e){y.viewHostNotifications(e)});t.add("monitoring/hosts/:id/services/create",function(e){y.createService(e)});t.add("monitoring/hosts/:id/services/:service_id/edit",function(e){y.editService(e)});t.add("monitoring/hosts/:id/services/:service_id/clone-to/:clone_to",function(e){y.cloneService(e)});t.add("monitoring/hosts/:id/services/:service_id/report",function(e){y.viewServiceLocationReport(e)});t.add("monitoring/hosts/:id/services/:service_id/wtrm-report",function(e){y.viewServiceWtrmReport(e)});t.add("monitoring/services",function(e){y.listServices(e)});t.add("monitoring/charts",function(e){y.listCharts(e)});t.add("monitoring/charts/editor",function(e){y.listUserCharts(e)});t.add("monitoring/charts/editor/create",function(e){y.createUserChart(e)});t.add("monitoring/charts/editor/:id/update",function(e){y.createUserChart(e)});t.add("monitoring/templates",function(e){y.listHostTemplates(e)});t.add("monitoring/templates/:id",function(e){y.editHostTemplate(e)});t.add("monitoring/templates/:id/members",function(e){y.listHostTemplateMembers(e)});t.add("monitoring/templates/:id/services",function(e){y.hideNavSubElement();y.listHostTemplateServices(e)});t.add("monitoring/templates/:id/services/create",function(e){y.createService({id:e.id,template:true})});t.add("monitoring/templates/:id/services/:ref_id/edit",function(e){y.editService({id:e.id,refId:e.ref_id,template:true})});t.add("monitoring/templates/create",function(e){y.createHostTemplate(e)});t.add("monitoring/screen",function(e){y.viewScreen(a.extend({dashboard:true},e))});t.add("notification/contacts",function(e){y.listContacts(e)});t.add("notification/contacts/:id/edit",function(e){y.editContact(e)});t.add("notification/contacts/create",function(e){y.createContact(e)});t.add("notification/contactgroups",function(e){y.listContactgroups(e)});t.add("notification/contactgroups/:id/edit",function(e){y.editContactgroup(e)});t.add("notification/contactgroups/create",function(e){y.createContactgroup(e)});t.add("notification/timeperiods",function(e){y.listTimeperiods(e)});t.add("notification/timeperiods/:id/edit",function(e){y.editTimeperiod(e)});t.add("notification/timeperiods/create",function(e){y.createTimeperiod(e)});t.add("notification/rosters",function(e){y.listRosters(e)});t.add("notification/rosters/:id/edit",function(e){y.notImplemented(e)});t.add("notification/rosters/create",function(e){y.notImplemented(e)});t.add("administration/companies",function(e){y.listCompanies()});t.add("administration/companies/:id/edit",function(e){new y.editCompany(e)});t.add("administration/companies/create",function(e){new y.createCompany});t.add("administration/variables",function(e){new y.editCompanyVariables});t.add("administration/users",function(e){y.listUsers(e)});t.add("administration/users/:id/edit",function(e){y.editUser(e)});t.add("administration/users/create",function(e){y.createUser(e)});t.add("administration/groups",function(e){y.listGroups(e)});t.add("administration/groups/:id/edit",function(e){y.editGroup(e)});t.add("administration/groups/create",function(e){y.createGroup(e)});t.add("help",function(e){y.helpIndex(e)});t.add("help/:doc",function(e){y.helpIndex(e)});t.setPreRoutingCallback(function(){if(y.user&&y.user.change_password=="0"){y.changeUserPassword({force:true})}});t.setPreCallback(function(e,t){var a=e.split("/");y.clearAll();$("#content").html("");y.showNavigation(e,t);y.resizeContent();if(a[0]=="administration"&&y.user.role=="user"){y.noAuth();return false}if(a[0]=="notification"&&y.user.manage_contacts==false){y.noAuth();return false}if(a[0]=="monitoring"&&a[1]=="templates"&&y.user.manage_templates==false){y.noAuth();return false}return true})};y.initAjax=function(){t.defaults.err={"err-400":function(){location.href="/login/"},"err-405":function(){location.href="/login/"},"err-410":function(){location.href="/"},"err-415":function(){y.noAuth()},"err-700":function(){y.changeUserPassword({force:true})}};t.defaults.beforeSuccess=function(e){if(e.version&&y.version&&y.version!==e.version){console.log("new application version available:",e.version);if($("#int-version-note").length){return}y.createNoteBox({id:"int-version-note",baseClass:"headnote",text:c.get("info.new_version")})}};t.defaults.ignoreErrors={"err-605":true,"err-610":true,"err-620":true,"err-701":true,"err-702":true,"err-703":true,"err-704":true,"err-705":true,"err-802":true}};y.initUser=function(){e.debug("initUser()");t.post({url:"/whoami/",async:false,success:function(e){y.user=e.data;if(y.user.password_changed=="0"){y.initHeader();y.initFooter();y.changeUserPassword({force:true})}}})};y.getStats=function(){e.debug("getStats()");y.getHostServiceStats();y.getBrowserStats()};y.getHostServiceStats=function(){var e,a;t.post({url:"/hosts/stats/status/",async:false,success:function(t){e=t.data}});t.post({url:"/services/stats/status/",async:false,success:function(e){a=e.data}});if(e!=undefined&&a!=undefined){$.each(["UNKNOWN","CRITICAL","WARNING","INFO","OK"],function(t,a){var i=parseFloat(e[a]);var s=i=="1"?"Host":"Hosts";y.objects.footerStats[a].text(i+" "+s)});y.objects.footerStats.Time.html(g(new Date,g.masks.bloonixNoHour))}setTimeout(function(){y.getStats()},3e4)};y.getBrowserStats=function(){if(window.performance){if(window.performance.memory){y.objects.footerStats.Browser.show();y.updateBrowserStats()}}};y.updateBrowserStats=function(){var e=window.performance.memory;var t=a.bytesToStr(e.usedJSHeapSize),i=a.bytesToStr(e.totalJSHeapSize);y.objects.footerStats.Browser.text(t+"/"+i);setTimeout(function(){y.updateBrowserStats()},1e3)};y.initNavigation=function(t){e.debug("initNavigation()");y.createNavigation({into:"#nav-top",items:[{link:"dashboard",icon:"gicons-white gicons tablet",text:c.get("nav.main.dashboard")},{data:"monitoring",link:"monitoring/hosts",icon:"gicons-white gicons sampler",text:c.get("nav.main.monitoring")},{data:"notification",link:"notification/contacts",icon:"gicons-white gicons bullhorn",text:c.get("nav.main.notifications")},{data:"administration",link:"administration/users",icon:"gicons-white gicons cogwheels",text:c.get("nav.main.administration")},{link:"help",icon:"gicons-white gicons circle-question-mark",text:c.get("nav.main.help")}]});y.navigation={};y.activeNavigationMain="";y.activeNavigationSub="";y.navigation["nav-main"]={monitoring:{items:[{link:"monitoring/hosts",icon:"hicons hdd",text:c.get("nav.sub.hosts")},{link:"monitoring/services",icon:"hicons th-list",text:c.get("nav.sub.services")},{link:"monitoring/charts",icon:"hicons signal",text:c.get("nav.sub.charts")},{link:"monitoring/templates",icon:"hicons list-alt",text:c.get("nav.sub.templates")},{link:"monitoring/screen",icon:"hicons tasks",text:c.get("nav.sub.screen")}]},notification:{items:[{link:"notification/contacts",icon:"hicons user",text:c.get("nav.sub.contacts")},{link:"notification/contactgroups",icon:"hicons groups",text:c.get("nav.sub.contactgroups")},{link:"notification/timeperiods",icon:"hicons time",text:c.get("nav.sub.timeperiods")}]},administration:{items:y.getAdministrativeNavigationItems()}}};y.getAdministrativeNavigationItems=function(){var e=[{link:"administration/users",icon:"hicons user",text:c.get("nav.sub.users")},{link:"administration/groups",icon:"hicons group",text:c.get("nav.sub.groups")},{link:"administration/variables",icon:"hicons wrench",text:c.get("nav.sub.variables")}];if(y.user.role==="admin"){e.splice(2,0,{link:"administration/companies",icon:"hicons company",text:c.get("nav.sub.companies")})}return e};y.showHostSubNavigation=function(t,i,s){e.debug("showHostSubNavigation()");$("#nav-sub").html("");y.createNavigation({activeClass:"nav-sub-active",active:t,into:"#nav-sub",items:[{link:"monitoring/hosts/"+i,text:a.escape(s),activeKey:"host"},{link:"monitoring/hosts/"+i+"/events",text:c.get("nav.sub.events"),activeKey:"events"},{link:"monitoring/hosts/"+i+"/charts",text:c.get("nav.sub.charts"),activeKey:"charts"},{link:"monitoring/hosts/"+i+"/reports",text:c.get("nav.sub.reports"),activeKey:"reports"},{link:"monitoring/hosts/"+i+"/dependencies",text:c.get("nav.sub.dependencies"),activeKey:"dependencies"},{link:"monitoring/hosts/"+i+"/downtimes",text:c.get("nav.sub.downtimes"),activeKey:"downtimes"},{link:"monitoring/hosts/"+i+"/templates",text:c.get("nav.sub.templates"),activeKey:"templates"},{link:"monitoring/hosts/"+i+"/mtr",text:c.get("nav.sub.mtr"),activeKey:"mtr"},{link:"monitoring/hosts/"+i+"/notifications",text:c.get("nav.sub.notifications"),activeKey:"notifications"}]});$("#nav-sub").show(400);y.resizeContent()};y.showChartsSubNavigation=function(t,a){e.debug("showGroupSubNavigation()");$("#nav-sub").html("");y.createNavigation({activeClass:"nav-sub-active",active:t,into:"#nav-sub",items:[{link:"monitoring/charts",text:c.get("schema.chart.text.charts"),activeKey:"service-charts"},{link:"monitoring/charts/editor",text:c.get("schema.user_chart.text.editor"),activeKey:"user-charts"}]});$("#nav-sub").show(400);y.resizeContent()};y.showGroupSubNavigation=function(){e.debug("showGroupSubNavigation()");$("#nav-sub").html("");new v({tabs:[{id:"int-group-form",text:c.get("nav.sub.group_settings")},{id:"int-host-form",text:c.get("nav.sub.host_group_settings")},{id:"int-user-form",text:c.get("nav.sub.user_group_settings")}]}).create();$("#nav-sub").show(400);y.resizeContent()};y.showContactgroupSubNavigation=function(){e.debug("showGroupSubNavigation()");$("#nav-sub").html("");new v({tabs:[{id:"int-contactgroup-form",text:c.get("nav.sub.contactgroup_settings")},{id:"int-contact-form",text:c.get("nav.sub.contactgroup_members")},{id:"int-host-form",text:c.get("nav.sub.contactgroup_host_members")},{id:"int-service-form",text:c.get("nav.sub.contactgroup_service_members")}]}).create();$("#nav-sub").show(400);y.resizeContent()};y.showTemplateSubNavigation=function(t,a){e.debug("showTemplateSubNavigation()");$("#nav-sub").html("");y.createNavigation({activeClass:"nav-sub-active",active:t,into:"#nav-sub",items:[{link:"monitoring/templates/"+a,text:c.get("schema.host_template.text.setting"),activeKey:"settings"},{link:"monitoring/templates/"+a+"/members",text:c.get("schema.host_template.text.view_members"),activeKey:"members"},{link:"monitoring/templates/"+a+"/services",text:c.get("schema.host_template.text.view_services"),activeKey:"services"}]});$("#nav-sub").show(400);y.resizeContent()};y.showNavigation=function(t,a){e.debug("showNavigation()");var i=t.split("/");var s=i[0];var n=i[1];var r=i[2];var o=$("#nav-top");var c=$("#nav-main");var l=$("#nav-sub");o.find("ul li").removeClass("nav-top-active");o.find("ul").find("[data-path='"+s+"']").addClass("nav-top-active");if(n==undefined||!y.navigation["nav-main"][s]){l.hide();c.hide();return false}var c=$("#nav-main");var h=s+"/"+n;if(y.activeNavigationMain!=h){y.activeNavigationMain=h;y.createNavigation({into:"#nav-main",items:y.navigation["nav-main"][s].items})}c.find("ul li").removeClass("nav-main-active");c.find("ul [data-path='"+h+"']").addClass("nav-main-active");c.show(400);if(r==undefined){l.hide();return false}};y.hideNavSubElement=function(){$("#nav-sub").hide()};y.createNavigation=function(t){e.debug("createNavigation()");var i=a.create("ul");if(t.id){i.attr("id",t.id)}$.each(t.items,function(e,s){var n;var r=a.create("div").addClass(s.icon);if(s.extern==true){n=a.create("a").attr("href",s.link).attr("target","_blank").html(r)}else{n=y.call(s.link,r)}var o=s.data?s.data:s.link;n.append(s.text);var c=a.create("li").attr("data-path",o).html(n).appendTo(i);if(s.activeKey&&s.activeKey==t.active){c.addClass(t.activeClass)}else if(t.active&&t.active==o){c.addClass(t.activeClass)}});$(t.into).html(i).fadeIn(200).append(a.create("div").addClass("clear"));return i};y.initHeader=function(){e.debug("initHeader()");var t=$("body");var i=a.create("div").attr("id","header-wrapper").appendTo(t);var s=a.create("div").attr("id","header").appendTo(i);a.create("div").attr("id","logo").appendTo(s).html(a.create("img").attr("src","/public/img/bloonix-logo.png"));a.create("nav").attr("id","nav-top").appendTo(s);var n=a.create("div").attr("id","headerbox").appendTo(s);a.create("div").addClass("clear").appendTo(s);var r=a.create("div").addClass("btn-group").appendTo(n);a.create("a").attr("href","#language").attr("title",c.get("text.change_the_language")).addClass("btn btn-dark btn-medium").html(a.create("span").addClass("hicons-white hicons flag")).appendTo(r).click(y.changeUserLanguage).tooltip();a.create("a").attr("href","#settings").attr("title",c.get("text.change_your_password")).addClass("btn btn-dark btn-medium").html(a.create("span").addClass("hicons-white hicons cog")).appendTo(r).click(y.changeUserSettings).tooltip();a.create("a").attr("href","/logout/").attr("title",c.get("action.logout")).addClass("btn btn-dark btn-medium").html(a.create("span").addClass("hicons-white hicons off")).appendTo(r).tooltip();a.create("div").addClass("clear").appendTo(n);a.create("nav").attr("id","nav-main").appendTo(i);a.create("nav").attr("id","nav-sub").appendTo(i);a.create("div").addClass("clear").appendTo(i)};y.initContent=function(){e.debug("initContent()");var t=a.create("div").attr("id","content-outer").appendTo("body");var i=a.create("div").attr("id","content").appendTo(t);a.create("div").addClass("clear").appendTo(t);$(window).resize(y.resizeContent);y.resizeContent()};y.resizeContent=function(){if($("#content-outer").length>0){$("#content-outer").height($(window).height()-$("#content-outer").offset().top-40)}};y.initFooter=function(){e.debug("initFooter()");var t=$("body");y.objects.footerStats={};var i=a.create("div").attr("id","footer").appendTo(t);var s=a.create("div").attr("id","footer-left").appendTo(i);a.create("div").attr("id","selected-counter").appendTo(s);var n=a.create("div").attr("id","footer-middle").appendTo(i);var r=a.create("div").addClass("stats-counter").appendTo(n);var o=a.create("div").addClass("unknown-counter").appendTo(r).click(function(){y.route.to("monitoring/hosts",{query:"status:UNKNOWN"})});a.create("span").addClass("hicons-white hicons question-sign").appendTo(o);y.objects.footerStats.UNKNOWN=a.create("span").text("0/0").appendTo(o);var l=a.create("div").addClass("critical-counter").appendTo(r).click(function(){y.route.to("monitoring/hosts",{query:"status:CRITICAL"})});a.create("span").addClass("hicons-white hicons fire").appendTo(l);y.objects.footerStats.CRITICAL=a.create("span").text("0/0").appendTo(l);var h=a.create("div").addClass("warning-counter").appendTo(r).click(function(){y.route.to("monitoring/hosts",{query:"status:WARNING"})});a.create("span").addClass("hicons-white hicons warning-sign").appendTo(h);y.objects.footerStats.WARNING=a.create("span").text("0/0").appendTo(h);var d=a.create("div").addClass("info-counter").appendTo(r).click(function(){y.route.to("monitoring/hosts",{query:"status:INFO"})});a.create("span").addClass("hicons-white hicons info-sign").appendTo(d);y.objects.footerStats.INFO=a.create("span").text("0/0").appendTo(d);var m=a.create("div").addClass("ok-counter").appendTo(r).click(function(){y.route.to("monitoring/hosts",{query:"status:OK"})});a.create("span").addClass("hicons-white hicons ok").appendTo(m);y.objects.footerStats.OK=a.create("span").text("0/0").appendTo(m);var u=a.create("div").attr("id","footer-right").appendTo(i);y.objects.footerStats.Browser=a.create("span").attr("title",c.get("text.browsers_heap_size")).html("").hide().tooltip().appendTo(u);y.objects.footerStats.Time=a.create("span").attr("title","Time").html(g(new Date,g.masks.bloonixNoHour)).tooltip().appendTo(u);y.objects.footerStats.Alerts=a.create("span").attr("title","Alerts").addClass("pointer").text("!!!").tooltip().appendTo(u);if(y.user&&y.user.username!=="admin"){y.objects.footerStats.Alerts.hide()}y.objects.footerStats.Alerts.click(function(){if($("#logbox-error-messages").length){$("#logbox-error-messages").remove();return}var t=a.create("div").attr("id","logbox-error-messages").addClass("info-err").appendTo("body").css({position:"fixed",bottom:"28px",right:"8px"});if(e.cache.length){var i=a.create("table").addClass("error-box-table").appendTo(t);$.each(e.cache,function(e,t){var s=a.create("tr").appendTo(i);a.create("th").text(t.level).appendTo(s);a.create("td").text(t.message).appendTo(s)})}else{a.create("span").text("No warnings found.").appendTo(t)}});a.create("div").addClass("clear").appendTo(t)};y.createSideBySideBoxes=function(e){var t={};t.header=a.create("div");t.left=a.create("div").addClass("b2x-left").css({width:e.width});t.right=a.create("div").addClass("b2x-right").css({"margin-left":e.marginLeft});if(e.container){t.header.appendTo(e.container);t.left.appendTo(e.container);t.right.appendTo(e.container)}return t};y.dashboard=function(e){var i=a.extend({container:$("#content"),interval:y.chartReloadInterval,chartBoxMargin:10,chartBoxPadding:2,chartBoxBorderWidth:1,dashletCounter:1,name:false},e);i.create=function(){this.dashletOptions={animation:true};this.setTitle();this.createNavigation();this.getDashboardConfig();this.createDashletOuterBoxes();this.loadDashboard();this.addSortableEvents();this.resizeDashlets();this.setResizeEvent();this.setInterval();this.dashletOptions.animation=false;if(this.saveInitialDashboard===true){this.saveDashboard()}};i.createDashboard=function(e){var t=this,i=a.create("div");var s=new b({title:e===true?c.get("text.dashboard.clone_dashboard"):c.get("text.dashboard.create_dashboard"),content:i}).create();var n=a.create("form").appendTo(i);var r=a.create("input").attr("placeholder",c.get("text.dashboard.name")).addClass("input input-medium").appendTo(n);a.create("br").appendTo(n);var o=a.create("div").addClass("btn btn-white btn-medium").html(c.get("action.create")).appendTo(n);o.click(function(){var a=r.val(),i=.35;if(a===undefined||a.length===0||/^\s+$/.test(a)){r.addClass("rwb");return}var n=y.get("/user/config/stash");if(typeof n==="object"&&typeof n.dashboard==="object"&&n.dashboard[a]!==undefined){r.addClass("rwb");return}s.close();if(e===true){t.saveDashboard(a)}else{y.saveUserConfig("dashboard",{name:a,scale:i,dashlets:[],count:"12x12"})}y.saveUserConfig("last_open_dashboard",a);y.route.to("dashboard",{name:a})})};i.addNewDashlet=function(){this.createDashletSelectOverlay()};i.createNavigation=function(){var e=this;y.createFooterIcon({title:c.get("text.dashboard.add_new_dashlet"),icon:"plus-sign",click:function(){e.addNewDashlet()}});y.createFooterIcon({title:c.get("text.dashboard.create_dashboard"),icon:"th",click:function(){e.createDashboard()}});y.createFooterIcon({title:c.get("text.dashboard.open_dashboard"),icon:"folder-open",click:function(){e.openDashboard()}});y.createFooterIcon({title:c.get("text.dashboard.delete_dashboard"),icon:"trash",click:function(){e.deleteDashboard()}});y.createFooterIcon({title:c.get("text.dashboard.rename_dashboard"),icon:"edit",click:function(){e.renameDashboard()}});y.createFooterIcon({title:c.get("text.dashboard.clone_dashboard"),icon:"share",click:function(){e.createDashboard(true)}})};i.renameDashboard=function(){var e=this,t=a.create("div");var i=new b({title:c.get("text.dashboard.rename_dashboard"),content:t}).create();var s=a.create("form").appendTo(t);var n=a.create("input").attr("placeholder",c.get("text.dashboard.name")).addClass("input input-medium").appendTo(s);a.create("br").appendTo(s);var r=a.create("div").addClass("btn btn-white btn-medium").html(c.get("action.update")).appendTo(s);r.click(function(){var t=n.val();if(t===undefined||t.length===0||/^\s+$/.test(t)){n.addClass("rwb");return}i.close();y.saveUserConfig("rename-dashboard",{"new":t,old:e.dashboardName});y.saveUserConfig("last_open_dashboard",t);y.route.to("dashboard",{name:t})})};i.openDashboard=function(){var e=a.create("div");var t=new b({title:c.get("text.dashboard.open_dashboard"),content:e});var i=new h({type:"vtable",appendTo:e}).init();$.each(this.dashboards,function(e,s){var n=i.createSimpleRow([a.escape(e)]);n.css({cursor:"pointer"});n.click(function(){t.close();y.saveUserConfig("last_open_dashboard",e);y.route.to("dashboard",{name:e})})});t.create()};i.deleteDashboard=function(){var e=this,t=a.create("div");var i=new b({title:c.get("text.dashboard.delete_dashboard"),content:t});a.create("p").html(c.get("text.dashboard.really_delete_dashboard",a.escape(this.dashboardName),true)).css({"margin-bottom":"20px"}).appendTo(t);a.create("div").addClass("btn btn-white btn-medium").html(c.get("action.yes_delete")).appendTo(i.content).click(function(){y.saveUserConfig("delete-dashboard",{name:e.dashboardName});i.close();y.route.to("dashboard")});a.create("div").addClass("btn btn-white btn-medium").html(c.get("action.no_abort")).appendTo(i.content).click(function(){i.close()});i.create()};i.loadDashboard=function(){var e=this,t=this.dashlets;$.each(this.config.dashlets,function(t,a){var i=a.pos>3?a.pos-3:a.pos;e.createDashlet(i,a.name,a.width,a.height,a.opts)})};i.reloadDashboard=function(){var e=this,t=this.dashlets;$.each(this.reload,function(a,i){t[i.name].callback(i,e.dashletOptions)})};i.addLoadingBox=function(e){e.html(a.create("div").addClass("loading"))};i.setTitle=function(){y.setTitle("text.dashboard.title");this.dashboardTitleBox=a.create("div").attr("id","header-title").appendTo("#header-wrapper");this.dashboardTitle=a.create("span").appendTo(this.dashboardTitleBox).text("Dashboard: Default");this.dashboardTitleSize=a.create("span").appendTo(this.dashboardTitleBox);this.updateDashboardTitleSize()};i.setDashboardTitle=function(e){this.dashboardTitle.text(e)};i.updateDashboardTitleSize=function(){};i.getDashboardConfig=function(){var e=y.get("/user/config/stash"),t=this.getDefaultConfig();if(e&&e.dashboard&&a.objectSize(e.dashboard)){this.dashboards=e.dashboard;if(!this.dashboards.Default){this.dashboards.Default=t.Default;this.saveInitialDashboard=true}}else{this.dashboards=t;this.saveInitialDashboard=true}if(this.name!==false){if(this.dashboards[this.name]){this.config=this.dashboards[this.name];this.dashboardName=this.name}else{$("#content").html(a.create("div").addClass("info-err").html(c.get("err-600")));throw new Error}}else if(e.last_open_dashboard!==undefined&&this.dashboards[e.last_open_dashboard]){this.config=this.dashboards[e.last_open_dashboard];this.dashboardName=e.last_open_dashboard}else{this.config=this.dashboards.Default;this.dashboardName="Default"}this.migrateDashboardConfig();this.setDashboardTitle(c.get("text.dashboard.title")+": "+this.dashboardName)};i.getDefaultConfig=function(){var e=4,t=6,a=.35,i="12x12";return{Default:{dashlets:[{pos:"1",name:"hostAvailStatus",width:e,height:t},{pos:"1",name:"hostStatusMap",width:e,height:t},{pos:"1",name:"hostTopStatus",width:e,height:t},{pos:"2",name:"serviceAvailStatus",width:e,height:t},{pos:"2",name:"serviceNoteStatus",width:e,height:t},{pos:"2",name:"serviceTopStatus",width:e,height:t}],scale:a,count:i}}};i.createDashletOuterBoxes=function(){var e=this;this.dashletContainer=a.create("div").attr("id","chart-box-outer").appendTo(this.container);this.columns=[];this.boxes=[];this.reload={};for(var t=1;t<=10;t++){a.create("div").attr("id","dashlet-outer-"+t).data("pos",t).addClass("dashlet-outer").appendTo(e.dashletContainer)}};i.createDashlet=function(e,t,i,s,n){var r=this,o="chart-box-content-"+r.dashletCounter,c={id:o,name:t},l=this.dashlets;if(i===undefined){i=3}else{i=parseInt(i)}if(s===undefined){s=3}else{s=parseInt(s)}r.dashletCounter++;c.outer=a.create("div").data("name",t).data("opts",n).data("width",i).data("height",s).addClass("chart-box dashlet").appendTo("#dashlet-outer-"+e);c.header=a.create("div").addClass("chart-box-header").appendTo(c.outer);c.content=a.create("div").attr("id",c.id).addClass("chart-box-content").appendTo(c.outer);this.addLoadingBox(c.content);this.addDashletOptions(c,t);this.resizeDashlets(c);this.boxes.push(c);this.reload[o]=c;l[t].callback(c,{animation:true});return c};i.addDashletOptions=function(e,t){var a=this,i=this.dashlets;var s=[{type:"cog",title:c.get("text.dashboard.replace_dashlet"),callback:function(){a.createDashletSelectOverlay(e)}},{type:"remove",title:c.get("text.dashboard.remove_dashlet"),callback:function(){a.removeDashlet(e)}},{type:"fullscreen",title:c.get("action.resize"),callback:function(){a.resizeDashlet(e)}},{type:"move",title:c.get("action.move_box"),addClass:"dashlet-portlet"}];if(/^(hostTopStatus|serviceTopStatus|topHostsEvents|serviceChart|userChart)$/.test(t)){s.unshift({type:"wrench",title:c.get("text.dashboard.reconfigure_dashlet"),callback:function(){i[t].click(a,e,t,"configure");i[t].callback(e,a.dashletOptions)}})}e.hoverBoxIcons=y.createHoverBoxIcons({container:e.outer,icons:s})};i.resizeDashlet=function(e){var t=this,i=a.create("div");var s=new b({title:"Resize dashlet",content:i});var n=new l({format:"default",appendTo:i}).init();var r=new h({type:"form",appendTo:n.form}).init();n.table=r.getTable();n.createElement({element:"radio",name:"width",text:"Dashlet width",checked:e.outer.data("width"),options:[{label:"1/12",value:1},{label:"2/12",value:2},{label:"3/12",value:3},{label:"4/12",value:4},{label:"5/12",value:5},{label:"6/12",value:6},{label:"7/12",value:7},{label:"8/12",value:8},{label:"9/12",value:9},{label:"10/12",value:10},{label:"11/12",value:11},{label:"12/12",value:12}]});n.createElement({element:"radio",name:"height",text:"Dashlet height",checked:e.outer.data("height"),options:[{label:"1/12",value:1},{label:"2/12",value:2},{label:"3/12",value:3},{label:"4/12",value:4},{label:"5/12",value:5},{label:"6/12",value:6},{label:"7/12",value:7},{label:"8/12",value:8},{label:"9/12",value:9},{label:"10/12",value:10},{label:"11/12",value:11},{label:"12/12",value:12}]});n.button({name:"submit",text:"Resize",appendTo:n.form,callback:function(){s.close();var a=n.getData();e.outer.data("width",a.width);e.outer.data("height",a.height);t.resizeDashlets();t.saveDashboard();$(window).trigger("resize")}});s.create()};i.resizeDashlets=function(e){var t=y.getContentSize();t.height=t.height-$("#dashboard-title").outerHeight()-10;var a=parseFloat(this.config.scale||.35);var i=parseInt(t.width-t.width*a);if(t.height>i){t.height=i}if(t.height<600){t.height=600}$(".dashlet-outer").css({"min-width":t.width-10,"margin-bottom":"2px"});var s=this.chartBoxMargin,n=this.chartBoxPadding,r=this.chartBoxBorderWidth,o=o-2,c=c-2,o=Math.floor(t.width/12)-2,c=Math.floor(t.height/12);var l=e?[e]:this.boxes;$.each(l,function(e,t){var a=t.outer.data("width"),i=t.outer.data("height");t.outer.css({width:o*a-s*2-r*2,height:c*i-s*2-r*2,margin:s});t.content.height(t.outer.height()-t.header.outerHeight()-n*2);t.content.css({padding:n})})};i.setResizeEvent=function(){var e=this;$(window).resize(function(){e.updateDashboardTitleSize();e.resizeDashlets()})};i.removeDashlet=function(e){var t=this,i=a.create("div");var s=new b({title:c.get("text.dashboard.remove_dashlet"),content:i});a.create("div").addClass("btn btn-white btn-medium").html(c.get("action.yes_remove")).appendTo(s.content).click(function(){s.close();delete t.reload[e.id];e.outer.remove();t.saveDashboard()});a.create("div").addClass("btn btn-white btn-medium").html(c.get("action.no_abort")).appendTo(s.content).click(function(){s.close()});s.create()};i.createDashletSelectOverlay=function(e){var t=this;var i=new b({title:c.get("text.dashboard.choose_content_box"),closeText:c.get("action.abort")});var s=a.create("form").attr("id","choose-dashboard-box"),n=a.create("table").appendTo(s),r=0,o;$.each(this.dashlets,function(s,c){r=r==0?1:0;
if(r==1){o=a.create("tr").appendTo(n)}var l=a.create("div").html(a.create("img").attr("src",c.image)).addClass("dashlet-image");l.click(function(){if(c.click){i.close();c.click(t,e,s)}else{i.close();t.replaceOrAddDashlet(e,s)}});a.create("td").html(l).appendTo(o);a.create("td").text(c.title).appendTo(o)});if(r==1){a.create("td").appendTo(o);a.create("td").appendTo(o)}i.content=s;i.create()};i.replaceOrAddDashlet=function(e,t,i){if(e){var s=this.dashlets[t];e.outer.data("name",t);e.outer.removeData("opts");e.outer.data("opts",i);e.outer.find(".chart-infobox").remove();e.header.html(a.create("h3").text(s.title));s.box=e;s.callback(e,this.dashletOptions);this.saveDashboard();e.hoverBoxIcons.destroy();this.addDashletOptions(e,t)}else{this.createDashlet(1,t,4,6,i);this.resizeDashlets();this.saveDashboard()}};i.addSortableEvents=function(){var e=this;$(".dashlet-outer").sortable({start:function(){e.startSortOrResizeDashlets()},stop:function(){e.stopSortOrResizeDashlets()},connectWith:".dashlet-outer",handle:".dashlet-portlet",forcePlaceholderSize:true,tolerance:"pointer"}).disableSelection()};i.saveDashboard=function(e){var t=this;if(e===undefined){e=this.dashboardName}var a={name:e,scale:this.config.scale,dashlets:[],count:this.config.count};$(".dashlet-outer").each(function(){var e=$(this).data("pos");$(this).find(".dashlet").each(function(){var t=$(this).data("opts");var i={pos:e,name:$(this).data("name"),width:$(this).data("width"),height:$(this).data("height")};if(t){i.opts=t}a.dashlets.push(i)})});this.dashboardName=a.name;this.config.dashlets=a.dashlets;y.saveUserConfig("dashboard",a)};i.migrateDashboardConfig=function(){var e=false;if($.isArray(this.config)){e=true;var t={name:this.dashboardName,scale:.35,dashlets:this.config};this.config={dashlets:t.dashlets,scale:t.scale}}if(!this.config.count||this.config.count==="9x6"){e=true;this.config.count="12x12";var a={x1:"1",x2:"2",x3:"4",x4:"5",x5:"6",x6:"8",x7:"9",x8:"10",x9:"12"};var i={x1:"2",x2:"4",x3:"6",x4:"8",x5:"10",x6:"12"};$.each(this.config.dashlets,function(e,t){t.width=a["x"+t.width];t.height=i["x"+t.height]})}if(e===true){console.log("migrate dashboard to",this.config);y.saveUserConfig("dashboard",{name:this.dashboardName,scale:this.config.scale,dashlets:this.config.dashlets,count:this.config.count})}};i.startSortOrResizeDashlets=function(){$(".dashlet-outer").css({border:"1px dashed #444444"});$(".dashlet").css({border:"1px dashed #c1c1c1"})};i.stopSortOrResizeDashlets=function(){this.saveDashboard();$(".dashlet-outer").css({border:"1px solid transparent"});$(".dashlet").css({border:"1px solid transparent"})};i.setInterval=function(){var e=this;y.intervalObjects.push(setInterval(function(){e.reloadDashboard()},this.interval))};i.selectHosts=function(e,t){var i=this,s=a.create("div"),n;if(e){var r=e.outer.data("name"),o=e.outer.data("opts");if(t===r&&o!==undefined&&t!=="serviceChart"&&t!=="userChart"){n=o.query}}var d=new b({title:c.get("text.dashboard.dashlet_configuration"),content:s,width:"600px"});var m=new l({format:"medium",appendTo:s,createTable:true}).init();m.createElement({element:"textarea",name:"query",value:n,text:c.get("action.search"),placeholder:c.get("action.search")});var u=a.create("div").addClass("help-text").html(c.get("info.extended_search_syntax_for_hosts")).appendTo(s);var p=new h({type:"none",addClass:"help-text-table",appendTo:u}).init();$.each(["hostname","ipaddr","status","sysgroup","location","coordinates","device_class"],function(e,t){p.createSimpleRow([t,c.get("schema.host.desc."+t)])});m.button({appendTo:m.form,text:c.get("action.save"),callback:function(){var a=m.getData();d.close();i.replaceOrAddDashlet(e,t,a)}});d.create()};i.selectChart=function(e,t,i,s){var n=this,r=a.create("div"),o,d;var m=new b({title:c.get("text.dashboard.dashlet_select_chart_title"),content:r,width:s==="configure"?"500px":"1000px"});var u=new l({appendTo:r,createTable:true}).init();if(s==="configure"){o=e.outer.data("opts"),d=function(a){m.close();n.replaceOrAddDashlet(e,t,{chart_id:o.chart_id,service_id:o.service_id,preset:a})}}else{o={preset:"3h"}}u.createElement({element:"radio",name:"preset",text:"Preset",checked:o.preset,options:["3h","6h","12h","18h","1d"],onClick:d});if(s==="configure"){m.create();return}if(i==="service"){new h({url:"/hosts/charts",header:{title:c.get("text.dashboard.dashlet_select_chart"),pager:true,search:true,appendTo:r},postdata:{offset:0,limit:15},searchable:{url:"/hosts/charts/search",result:["hostname","service_name","title"],resultWidth:"600px"},columns:[{name:"id",hide:true,value:function(e){return e.service_id+":"+e.chart_id}},{name:"hostname",text:c.get("schema.host.attr.hostname")},{name:"service_name",text:c.get("schema.service.attr.service_name")},{name:"title",text:c.get("schema.chart.attr.title")}],appendTo:r,onClick:function(a){m.close();var i=u.getData();n.replaceOrAddDashlet(e,t,{chart_id:a.chart_id,service_id:a.service_id,preset:i.preset})}}).create()}else{new h({url:"/user/charts",header:{title:c.get("text.dashboard.dashlet_select_chart"),pager:true,search:true,appendTo:r},postdata:{offset:0,limit:15},searchable:{url:"/user/charts/search",result:["title","subtitle","description"],resultWidth:"600px"},columns:[{name:"id",hide:true},{name:"title",text:c.get("schema.user_chart.attr.title")},{name:"subtitle",text:c.get("schema.user_chart.attr.subtitle")},{name:"description",text:c.get("schema.user_chart.attr.description")}],appendTo:r,onClick:function(a){m.close();var i=u.getData();n.replaceOrAddDashlet(e,t,{chart_id:a.id,preset:i.preset})}}).create()}m.create()};i.dashlets={hostAvailStatus:{title:c.get("text.dashboard.hosts_availability"),image:"/public/img/dashlet-availability-of-all-hosts.png",callback:function(e,i){e.header.html("");a.create("h3").html(c.get("text.dashboard.hosts_availability")).appendTo(e.header);t.post({url:"/hosts/stats/status/",success:function(t){e.content.find(".loading").remove();if(t.data.TOTAL==0){y.noChartData(e.content);return false}y.pieChart({chart:{title:null,container:e.id},plotOptions:{animation:i.animation},colors:y.areaStatusColors,data:[{name:"OK",y:parseFloat(t.data.OK)},{name:"INFO",y:parseFloat(t.data.INFO)},{name:"WARNING",y:parseFloat(t.data.WARNING)},{name:"CRITICAL",y:parseFloat(t.data.CRITICAL)},{name:"UNKNOWN",y:parseFloat(t.data.UNKNOWN)}],onClick:function(e){y.searchHosts("status:"+e)}})}})}},serviceAvailStatus:{title:c.get("text.dashboard.services_availability"),image:"/public/img/dashlet-availability-of-all-services.png",callback:function(e,i){e.header.html("");a.create("h3").html(c.get("text.dashboard.services_availability")).appendTo(e.header);t.post({url:"/services/stats/status/",success:function(t){e.content.find(".loading").remove();if(t.data.TOTAL==0){y.noChartData(e.content);return false}y.pieChart({chart:{title:null,container:e.id},plotOptions:{animation:i.animation},colors:y.areaStatusColors,data:[{name:"OK",y:parseFloat(t.data.OK)},{name:"INFO",y:parseFloat(t.data.INFO)},{name:"WARNING",y:parseFloat(t.data.WARNING)},{name:"CRITICAL",y:parseFloat(t.data.CRITICAL)},{name:"UNKNOWN",y:parseFloat(t.data.UNKNOWN)}],onClick:function(e){y.searchHosts("status:"+e)}})}})}},serviceNoteStatus:{title:c.get("text.dashboard.services_notification"),image:"/public/img/dashlet-notification-status-of-all-services.png",callback:function(e,i){e.header.html("");a.create("h3").html(c.get("text.dashboard.services_notification")).appendTo(e.header);t.post({url:"/services/stats/notes/",success:function(t){e.content.find(".loading").remove();if(t.data.total==0){y.noChartData(e.content);return false}y.barChart({chart:{title:null,container:e.id},plotOptions:{animation:i.animation},categories:[c.get("text.dashboard.services_flapping"),c.get("text.dashboard.services_acknowledged"),c.get("text.dashboard.services_downtimes")],series:[{name:"yes",color:"#cc333f",data:[parseFloat(t.data.flapping.yes),parseFloat(t.data.acknowledged.yes),parseFloat(t.data.scheduled.yes)]},{name:"no",color:"#2291b1",data:[parseFloat(t.data.flapping.no),parseFloat(t.data.acknowledged.no),parseFloat(t.data.scheduled.no)]}]})}})}},hostStatusMap:{title:c.get("text.dashboard.map_title"),image:"/public/img/dashlet-global-host-status-map.png",callback:function(e,i){e.header.html("");a.create("h3").html(c.get("text.dashboard.map_title")).appendTo(e.header);t.post({url:"/hosts/stats/country/",success:function(t){e.content.find(".loading").remove();y.mapChart({chart:{title:null,subtitle:null,container:e.id},plotOptions:{animation:i.animation},data:t.data})}});if($(e.outer).find(".chart-infobox").length==0&&y.plotChartsWith=="highcharts"){var s=a.create("div").addClass("chart-infobox").html(c.get("text.dashboard.use_mouse_wheel_to_zoom")).hide().appendTo(e.outer);$(e.outer).hover(function(){s.show()},function(){s.fadeOut(500)})}}},hostTopStatus:{title:c.get("text.dashboard.list_top_hosts"),image:"/public/img/dashlet-overview-of-the-top-hosts.png",click:function(e,t,a){e.selectHosts(t,a)},callback:function(e,i){e.header.html("");a.create("h3").html(c.get("text.dashboard.list_top_hosts")).appendTo(e.header);y.showScrollbarAtHover(e.content);var s=e.outer.data("opts");t.post({url:"/hosts/top/",data:{query:s?s.query:null},success:function(t){$(e.content).html("");var i=new h({appendTo:e.content});i.init();$.each(["schema.host.attr.hostname","schema.host.attr.ipaddr","schema.host.attr.status","schema.host.attr.last_check"],function(e,t){i.addHeadColumn(a.escape(c.get(t)))});$.each(t.data,function(e,t){var s=i.createRow([y.call("monitoring/hosts/"+t.id,t.hostname),t.ipaddr,y.createInfoIcon({type:t.status}),a.escape(t.last_check)]);var n="";$.each(t.services,function(e,t){if(t.status!=="OK"){n+="<p>"+a.escape(t.service_name)+': <b style="color:'+y.defaultStatusColor[t.status]+';">'+t.status+"</b></p>"}});if(n.length){s.tooltip({items:s,track:true,content:n})}})}})}},serviceTopStatus:{title:c.get("text.dashboard.list_top_services"),image:"/public/img/dashlet-overview-of-the-top-services.png",click:function(e,t,a){e.selectHosts(t,a)},callback:function(e,i){e.header.html("");a.create("h3").html(c.get("text.dashboard.list_top_services")).appendTo(e.header);y.showScrollbarAtHover(e.content);var s=e.outer.data("opts");t.post({url:"/services/top/",data:{query:s?s.query:null},success:function(t){$(e.content).html("");var i=new h({appendTo:e.content});i.init();$.each(["schema.host.attr.hostname","schema.service.attr.service_name","schema.service.attr.status","schema.service.attr.last_check"],function(e,t){i.addHeadColumn(c.get(t))});$.each(t.data,function(e,t){i.createRow([y.call("monitoring/hosts/"+t.host_id,t.hostname),t.service_name,y.createInfoIcon({type:t.status}),a.escape(t.last_check)]).attr("title",a.escape(t.message)).tooltip({track:true})})}})}},topHostsEvents:{title:c.get("text.dashboard.top_hosts_events"),image:"/public/img/dashlet-top-hosts-events.png",click:function(e,t,a){e.selectHosts(t,a)},callback:function(e,i){e.header.html("");a.create("h3").html(c.get("text.dashboard.top_hosts_events")).appendTo(e.header);y.showScrollbarAtHover(e.content);var s=e.outer.data("opts");t.post({url:"/events/top",data:{query:s?s.query:null},success:function(t){$(e.content).html("");var i=new h({appendTo:e.content});i.init();i.addHeadColumn(c.get("schema.event.attr.time"));i.addHeadColumn("");i.addHeadColumn(c.get("schema.host.attr.hostname"));i.addHeadColumn(c.get("schema.service.attr.service_name"));$.each(t.data,function(e,t){i.createRow([t.time,y.createInfoIcon({type:t.status}),y.call("monitoring/hosts/"+t.host_id,t.hostname),t.service_name]).attr("title",a.escape(t.message)).tooltip({track:true})})}})}},serviceChart:{title:c.get("text.dashboard.service_chart"),image:"/public/img/dashlet-service-chart.png",click:function(e,t,a,i){e.selectChart(t,a,"service",i)},callback:function(e,i){var s=a.create("h3").html(c.get("text.dashboard.service_chart"));var n=a.extend({avg:$(e.outer).width()+"p"},e.outer.data("opts"));t.post({url:"/hosts/charts/data",data:n,success:function(t){var n=t.data.service,r=t.data.stats,o=n.hostname+" :: "+n.title,c=n.service_name,l="line";if(n.subkey&&n.subkey!="0"){c+=" ("+n.subkey+")"}if(n.options["chart-type"]){l=n.options["chart-type"]}e.header.html(s.text(o));var h={chart:{container:e.id,title:c,ylabel:n.options.ylabel,xlabel:n.options.xlabel,units:n.options.units,type:l},plotOptions:{animation:i.animation},series:[],colors:{},units:{},hasNegativeValues:n.options.negative==="true"?true:false};$.each(n.options.series,function(e,t){if(t.opposite=="true"){h.hasNegativeValues=true}if(r[t.name]){var i=t.alias?t.alias:t.name;h.colors[i]=t.color;h.units[i]=t.units;h.series.push({data:r[t.name],name:i,description:t.description,yAxis:0,color:"rgba("+a.hexToRGB(t.color).join(",")+",0.8)"})}});$(e.content).html("");y.plotChart(h)}})}},userChart:{title:c.get("text.dashboard.user_chart"),image:"/public/img/dashlet-service-chart.png",click:function(e,t,a,i){e.selectChart(t,a,"user",i)},callback:function(e,i){var s=a.create("h3").html(c.get("text.dashboard.user_chart"));var n=a.extend({avg:$(e.outer).width()+"p"},e.outer.data("opts"));t.post({url:"/user/charts/"+n.chart_id,ignoreErrors:{"err-600":true},success:function(r){if(r.status==="err-600"){var o=a.create("div").addClass("dashlet-info-box").html(c.get(r.status));e.header.html(s.text(r.status));e.content.html(o);return false}var l=r.data;t.post({url:"/hosts/charts/data",data:n,success:function(t){var n=t.data.service,r=t.data.stats,o=l.title,c=l.subtitle;e.header.html(s.text(o));var h={chart:{container:e.id,title:c,ylabel:l.yaxis_label,xlabel:l.xaxis_label,type:"area"},plotOptions:{animation:i.animation},series:[],colors:{},units:{},legend:{enabled:false},hasNegativeValues:false};$.each(l.options,function(e,t){var i=n[t.service_id],s=t.statkey_options.alias||t.statkey,o="["+s+"] "+i.hostname+" - "+i.service_name;h.colors[o]=t.color;h.units[o]=t.statkey_options.units;var c={data:r[t.service_id+":"+t.statkey],name:o,description:t.statkey,yAxis:0};if(t.color){c.color="rgba("+a.hexToRGB(t.color).join(",")+",0.8)"}h.series.push(c)});$(e.content).html("");y.plotChart(h)}})}})}}};i.create();return i};y.helpIndex=function(e){var t=a.extend({appendTo:"#content",doc:false},e);t.create=function(){this.createHeader();this.createBoxes();this.getIndex();this.createIndex()};t.createHeader=function(){this.header=new x({title:c.get("site.help.title"),border:true}).create()};t.createBoxes=function(){this.boxes=y.createSideBySideBoxes({container:this.appendTo,width:"350px",marginLeft:"360px"});this.indexContainer=this.boxes.left;this.documentContainer=a.create("div").addClass("help").appendTo(this.boxes.right);this.loading=a.create("div").addClass("loading").hide().appendTo(this.boxes.right)};t.getIndex=function(){this.index=y.get("/help")};t.createIndex=function(){var e=this,t=[];if(!this.doc){this.doc=this.index[0]}$.each(this.index,function(a,i){t.push({name:c.get("site.help.doc."+i),value:i,"default":i==e.doc?true:false})});this.iconList=y.createIconList({items:t,appendTo:this.indexContainer,button:false,callback:function(t){e.showDocument(t)}});this.showDocument(this.doc)};t.showDocument=function(e){this.documentContainer.hide();this.loading.show();var t=y.get("/help/"+e);this.documentContainer.html(t);this.loading.hide();$("#content-outer").scrollTop(0);this.documentContainer.fadeIn(300);this.addClickEventToLinks();location.hash="#help/"+e};t.addClickEventToLinks=function(){var e=this;this.documentContainer.find("a").each(function(){var t=$(this).data("id");$(this).click(function(){e.iconList.switchTo(t)})})};t.create();return t};y.listHosts=function(e){var i=a.extend({postdata:{offset:0,limit:y.requestSize},appendTo:"#content",hideItems:{}},e);if(i.query){i.postdata.query=i.query}i.action=function(e){var t=this,i=this.table.getSelectedIds();if(i.length==0){y.createNoteBox({text:c.get("schema.host.text.multiple_selection_help")});return}var s=this.overlay=new b;s.content=a.create("div");if(e===0){s.title=c.get("schema.host.text.multiple_downtimes");s.visible=true;var n=y.createScheduledDowntime({url:"/hosts/create-downtime/",data:{host_id:i},callback:function(){t.table.getData();s.close()}});n.container.appendTo(s.content)}else if(e===1){s.title=c.get("schema.host.text.multiple_notification");a.create("div").addClass("btn btn-white btn-medium").html(c.get("schema.host.action.disable_notifications_multiple")).appendTo(s.content).click(function(){y.hostServiceAction("/hosts/disable-notification/",{host_id:i});t.table.getData();s.close()});a.create("div").addClass("btn btn-white btn-medium").html(c.get("schema.host.action.enable_notifications_multiple")).appendTo(s.content).click(function(){y.hostServiceAction("/hosts/enable-notification/",{host_id:i});t.table.getData();s.close()})}else if(e===2){s.title=c.get("schema.host.text.multiple_activate");a.create("div").addClass("btn btn-white btn-medium").html(c.get("schema.host.action.deactivate_multiple")).appendTo(s.content).click(function(){y.hostServiceAction("/hosts/deactivate/",{host_id:i});t.table.getData();s.close()});a.create("div").addClass("btn btn-white btn-medium").html(c.get("schema.host.action.activate_multiple")).appendTo(s.content).click(function(){y.hostServiceAction("/hosts/activate/",{host_id:i});t.table.getData();s.close()})}else if(e===3){var r=a.create("div").css({padding:"0 20px"}),o=[];a.create("div").addClass("text-warn").css({"text-align":"center","padding-bottom":"20px"}).html(c.get("schema.host.text.multiple_edit_info")).appendTo(r);$.each(y.getHostFormElements(),function(e,t){if(t.name==="description"||t.name==="comment"||t.name==="sysinfo"||t.name==="sysgroup"||t.name==="device_class"||t.name==="hw_manufacturer"||t.name==="hw_product"||t.name==="os_manufacturer"||t.name==="os_product"||t.name==="virt_manufacturer"||t.name==="virt_product"||t.name==="location"||t.name==="allow_from"){o.push(t);t.required=false}});var n=new l({format:"medium",url:{submit:"/hosts/update-multiple"},onSuccess:function(){s.close()},action:"update",elements:o,autocomplete:y.get("/hosts/cats"),appendTo:r,showButton:false,overwriteDataCallback:function(e){var t={host_id:i};$.each(e,function(e,a){if(a!==undefined&&a.length){t[e]=a}});return t}}).create();s.content=r;s.title=c.get("schema.host.text.multiple_edit");s.buttons=[{content:c.get("action.update"),callback:function(){n.submit()},close:false}]}s.create()};i.create=function(){this.createBoxes();this.listDeviceClasses();this.listHosts()};i.createBoxes=function(){this.headerContainer=a.create("div").appendTo(this.appendTo);this.contentContainer=a.create("div").appendTo(this.appendTo);this.boxes=y.createSideBySideBoxes({container:this.contentContainer,width:"250px",marginLeft:"260px"})};i.listDeviceClasses=function(){var e=this;y.replaceWithLoading(this.boxes.left);t.post({url:"/hosts/devices",success:function(t){e.deviceClasses=t.data;y.removeLoading(e.boxes.left);var i=a.create("ul").addClass("device-class-listing").appendTo(e.boxes.left);e.listDeviceStructure(i,e.deviceClasses,"",false)}})};i.listDeviceStructure=function(e,t,i,s){var n=this;$.each(y.sortObject(t),function(r,o){var l=t[o],h,d=parseInt(l.total),m="OK",u=0;if(s===false&&o==="All"){h=""}else{h=i+"/"+o}if(n.hideItems[h]===undefined){n.hideItems[h]=s}else{s=n.hideItems[h]}$.each(["UNKNOWN","CRITICAL","WARNING","INFO"],function(e,t){u+=parseInt(l.status[t])});$.each(["UNKNOWN","CRITICAL","WARNING","INFO","OK"],function(e,t){if(l.status[t]>0){m=t;return false}});var p=a.create("li").appendTo(e);y.createInfoIcon({type:m,size:"small"}).appendTo(p);var f=m==="OK"?d:u+"/"+d;var v=a.create("span").attr("data-path",h).addClass("device-class-listing-hover").addClass("device-class-path").text(o+" ("+f+")").appendTo(p);v.click(function(){var e=h===""?{search:h}:{search:"d:"+h};n.table.getData(e)});if(h===""){a.create("a").attr("href","#help/device-classes").attr("target","_blank").attr("title",c.get("schema.host.text.device_class_help_link")).addClass("hicons-btn").css({"margin-left":"15px"}).html(a.create("span").addClass("hicons info-sign")).appendTo(p).tooltip()}if(a.objectSize(l.classes)){var g=a.create("ul").addClass("device-class-listing").appendTo(p);if(s===true){g.hide()}v.click(function(){if(n.hideItems[h]===true){n.hideItems[h]=false;g.show(200)}else{n.hideItems[h]=true;g.find("ul").hide();g.find(".device-class-path").each(function(){n.hideItems[$(this).data("path")]=true});g.hide(200)}});n.listDeviceStructure(g,l.classes,h,true)}})};i.listHosts=function(){var e=this;y.setTitle("schema.host.text.list");a.create("span").attr("title",c.get("schema.host.text.multiple_downtimes")).tooltip().addClass("footer-button").html(a.create("div").addClass("hicons-white hicons time")).appendTo("#footer-left").click(function(){e.action(0)});a.create("span").attr("title",c.get("schema.host.text.multiple_notification")).tooltip().addClass("footer-button").html(a.create("div").addClass("hicons-white hicons envelope")).appendTo("#footer-left").click(function(){e.action(1)});a.create("span").attr("title",c.get("schema.host.text.multiple_activate")).tooltip().addClass("footer-button").html(a.create("div").addClass("hicons-white hicons remove-sign")).appendTo("#footer-left").click(function(){e.action(2)});if(y.user.role!=="user"){a.create("span").attr("title",c.get("schema.host.text.multiple_edit")).tooltip().addClass("footer-button").html(a.create("div").addClass("hicons-white hicons wrench")).appendTo("#footer-left").click(function(){e.action(3)})}var t=a.create("span").attr("title",c.get("text.selected_objects")).tooltip().addClass("footer-button").text("0").hide().appendTo("#footer-left");var i;if(y.user.role!="user"){i=[{type:"help",callback:function(){a.open("/#help/add-new-host")},title:c.get("site.help.doc.add-new-host")},{type:"create",callback:function(){y.route.to("monitoring/hosts/create")},title:c.get("schema.host.text.create")}]}this.table=new h({url:"/hosts",postdata:this.postdata,appendTo:this.boxes.right,sortable:true,header:{title:c.get("schema.host.text.list"),pager:true,search:true,icons:i,appendTo:this.headerContainer,replace:true},selectable:{result:["id","hostname","ipaddr","description"],counter:{update:t}},searchable:{url:"/hosts/search/",result:["id","hostname","ipaddr","description","status","sysgroup","location","coordinates"],value:this.postdata.query},reloadable:{before:function(){e.listDeviceClasses()}},deletable:{title:c.get("schema.host.text.delete"),url:"/administration/hosts/:id/delete",result:["id","hostname","ipaddr"]},tooltip:function(e){var t="";$.each(e.services,function(e,i){if(i.status!=="OK"){t+="<p>"+a.escape(i.service_name)+': <b style="color:'+y.defaultStatusColor[i.status]+';">'+i.status+"</b></p>"}});return t},columnSwitcher:true,columns:[{name:"id",text:c.get("schema.host.attr.id"),hide:true},{name:"hostname",text:c.get("schema.host.attr.hostname"),call:function(e){return y.call("monitoring/hosts/"+e.id,e.hostname)}},{icons:[{check:function(e){return e.notification=="0"?true:false},icon:"cicons mute",title:c.get("schema.host.info.notification_disabled")},{check:function(e){return e.active=="0"?true:false},icon:"cicons disabled",title:c.get("schema.host.info.inactive")},{check:function(e){return e.sysinfo?true:false},icon:"cicons arrow-right-orange",link:":sysinfo",blank:true,title:c.get("schema.host.info.sysinfo")}]},{name:"ipaddr",text:c.get("schema.host.attr.ipaddr")},{name:"company",text:c.get("schema.company.attr.company"),hide:y.user.role=="admin"?false:true},{name:"description",text:c.get("schema.host.attr.description")},{name:"comment",text:c.get("schema.host.attr.comment"),hide:true},{name:"status",text:c.get("schema.host.attr.status"),wrapValueClass:true},{name:"last_check",text:c.get("schema.host.attr.last_check"),convertFromUnixTime:true},{name:"sysgroup",text:c.get("schema.host.attr.sysgroup")},{name:"sysinfo",text:c.get("schema.host.attr.sysinfo"),hide:true},{name:"device_class",text:c.get("schema.host.attr.device_class")},{name:"hw_manufacturer",text:c.get("schema.host.attr.hw_manufacturer"),hide:true},{name:"hw_product",text:c.get("schema.host.attr.hw_product"),hide:true},{name:"os_manufacturer",text:c.get("schema.host.attr.os_manufacturer"),hide:true},{name:"os_product",text:c.get("schema.host.attr.os_product")},{name:"virt_manufacturer",text:c.get("schema.host.attr.virt_manufacturer"),hide:true},{name:"virt_product",text:c.get("schema.host.attr.virt_product"),hide:true},{name:"location",text:c.get("schema.host.attr.location")},{name:"coordinates",text:c.get("schema.host.attr.coordinates"),hide:true},{name:"interval",text:c.get("schema.host.attr.interval"),hide:true},{name:"data_retention",text:c.get("schema.host.attr.data_retention"),hide:true}]}).create()};i.create();return i};y.editHost=function(e){var t=y.get("/administration/hosts/"+e.id+"/options/");y.setTitle("schema.host.text.settings");new x({title:c.get("schema.host.text.settings"),icons:y.getHostAddEditIcons()}).create();new l({url:{submit:"/administration/hosts/"+e.id+"/update/"},title:"Host-Key: "+e.id+"."+t.values.password,action:"update",options:t.options,values:t.values,elements:y.getHostFormElements(),autocomplete:y.get("/hosts/cats")}).create()};y.createHost=function(){var e=y.get("/administration/hosts/options");y.setTitle("schema.host.text.create");new x({title:c.get("schema.host.text.create"),icons:y.getHostAddEditIcons()}).create();var t=y.getHostFormElements(),i=y.get("/administration/groups"),s=y.get("/contactgroups");t.splice(1,0,{element:"multiselect",name:"group_id",text:c.get("schema.host.text.add_host_to_group"),desc:c.get("schema.host.desc.add_host_to_group"),required:true});t.splice(2,0,{element:"multiselect",name:"contactgroup_id",text:c.get("schema.host.text.add_host_to_contactgroup"),desc:c.get("schema.host.desc.add_host_to_contactgroup")});t.splice(3,0,{element:"multiselect",name:"host_template_id",text:c.get("schema.host.text.add_host_to_host_template"),desc:c.get("schema.host.desc.add_host_to_host_template")});e.values.password=a.genRandStr(30);var n=new l({url:{submit:"/administration/hosts/create/"},onSuccess:function(e){y.route.to("monitoring/hosts/"+e.id)},action:"create",options:e.options,values:e.values,elements:t,autocomplete:y.get("/hosts/cats")}).create()};y.getHostFormElements=function(){return[{element:"select",name:"company_id",text:c.get("schema.company.attr.company"),desc:c.get("schema.host.desc.company_id"),required:true},{element:"input",type:"text",name:"hostname",text:c.get("schema.host.attr.hostname"),desc:c.get("schema.host.desc.hostname"),maxlength:64,required:true},{element:"input",type:"text",name:"ipaddr",text:c.get("schema.host.attr.ipaddr"),desc:c.get("schema.host.desc.ipaddr"),maxlength:39,required:true},{element:"input",type:"text",name:"description",text:c.get("schema.host.attr.description"),desc:c.get("schema.host.desc.description"),maxlength:100,required:true},{element:"input",type:"text",name:"comment",text:c.get("schema.host.attr.comment"),desc:c.get("schema.host.desc.comment"),maxlength:100},{element:"input",type:"text",name:"password",text:c.get("schema.host.attr.password"),desc:c.get("schema.host.desc.password"),minlength:30,maxlength:128,genString:30,required:true},{element:"input",type:"text",name:"sysinfo",text:c.get("schema.host.attr.sysinfo"),desc:c.get("schema.host.desc.sysinfo"),maxlength:200},{element:"input",type:"text",name:"sysgroup",text:c.get("schema.host.attr.sysgroup"),desc:c.get("schema.host.desc.sysgroup"),maxlength:50},{element:"input",type:"text",name:"device_class",text:c.get("schema.host.attr.device_class"),desc:c.get("schema.host.desc.device_class"),maxlength:100},{element:"input",type:"text",name:"hw_manufacturer",text:c.get("schema.host.attr.hw_manufacturer"),desc:c.get("schema.host.desc.hw_manufacturer"),maxlength:50},{element:"input",type:"text",name:"hw_product",text:c.get("schema.host.attr.hw_product"),desc:c.get("schema.host.desc.hw_product"),maxlength:50},{element:"input",type:"text",name:"os_manufacturer",text:c.get("schema.host.attr.os_manufacturer"),desc:c.get("schema.host.desc.os_manufacturer"),maxlength:50},{element:"input",type:"text",name:"os_product",text:c.get("schema.host.attr.os_product"),desc:c.get("schema.host.desc.os_product"),maxlength:50},{element:"input",type:"text",name:"virt_manufacturer",text:c.get("schema.host.attr.virt_manufacturer"),desc:c.get("schema.host.desc.virt_manufacturer"),maxlength:50},{element:"input",type:"text",name:"virt_product",text:c.get("schema.host.attr.virt_product"),desc:c.get("schema.host.desc.virt_product"),maxlength:50},{element:"input",type:"text",name:"location",text:c.get("schema.host.attr.location"),desc:c.get("schema.host.desc.location"),maxlength:100},{element:"select",name:"coordinates",text:c.get("schema.host.attr.coordinates"),desc:c.get("schema.host.desc.coordinates"),required:true},{element:"radio-yes-no",name:"active",text:c.get("schema.host.attr.active"),desc:c.get("schema.host.desc.active"),required:true},{element:"radio-yes-no",name:"notification",text:c.get("schema.host.attr.notification"),desc:c.get("schema.host.desc.notification"),required:true},{element:"input",type:"text",name:"allow_from",text:c.get("schema.host.attr.allow_from"),desc:c.get("schema.host.desc.allow_from"),maxlength:100,required:true},{element:"slider",name:"interval",text:c.get("schema.host.attr.interval"),desc:c.get("schema.host.desc.interval"),secondsToFormValues:true,nullString:c.get("text.inherited_from_host")},{element:"slider",name:"timeout",text:c.get("schema.host.attr.timeout"),desc:c.get("schema.host.desc.timeout"),secondsToFormValues:true,nullString:c.get("text.inherited_from_host")},{element:"input",type:"text",name:"data_retention",text:c.get("schema.host.attr.data_retention"),desc:c.get("schema.host.desc.data_retention"),minValue:0,maxValue:32767,required:true},{element:"input",type:"text",name:"max_services",text:c.get("schema.host.attr.max_services"),desc:c.get("schema.host.desc.max_services"),minValue:0,maxValue:9999,required:true},{element:"input",type:"text",name:"max_sms",text:c.get("schema.host.attr.max_sms"),desc:c.get("schema.host.desc.max_sms"),minValue:0,maxValue:99999,required:true},{element:"textarea",name:"variables",text:c.get("schema.host.attr.variables"),desc:c.get("schema.host.desc.variables")}]};y.searchHosts=function(e){y.route.to("monitoring/hosts",{query:e})};y.getHost=function(e){return y.get("/hosts/"+e)};y.getHostAddEditIcons=function(){return[{type:"help",callback:function(){a.open("/#help/host-parameter")},title:c.get("site.help.doc.host-parameter")}]};y.viewHostDependencies=function(i){var s=a.extend({},i);s.init=function(){this.cache={selected:{}};this.container=$("#content");this.host=y.getHost(this.id);y.showHostSubNavigation("dependencies",this.host.id,this.host.hostname);y.setTitle("schema.dependency.text.list",this.host.hostname);new x({title:c.get("schema.dependency.text.list",this.host.hostname,true),icons:[{type:"help",callback:function(){a.open("/#help/host-and-service-dependencies")},title:c.get("site.help.doc.host-and-service-dependencies")}]}).create();this.boxes=y.createSideBySideBoxes({container:this.container,width:"350px",marginLeft:"360px"});this.optionBox=this.boxes.left;this.dependencyBox=this.boxes.right;this.infovisBox=a.create("div").attr("id","infovis").appendTo(this.dependencyBox);this.dependencyBox=a.create("div").attr("id","dependencies").appendTo(this.dependencyBox);this.listOptions();this.getDependencies()};s.listOptions=function(){var e=this;y.createIconList({items:[{icon:"hicons radial",value:"radialGraph",title:"Radial graph","default":true},{icon:"hicons asterisk",value:"hyperTree",title:"Hypertree"}],store:{to:this.cache.selected,as:"graphType"},callback:function(t){e.createDependencyGraph(t)},appendTo:this.boxes.left});a.create("h3").addClass("h3").html(c.get("schema.dependency.text.create_from")).appendTo(this.optionBox);var t=a.create("ul").addClass("form-link-list").appendTo(this.optionBox);$.each(["host_to_host","host_to_service","service_to_host","service_to_service"],function(i,s){a.create("li").html(c.get("schema.dependency.text."+s)).click(function(){e.createDependencyForm(s);
e.cache.selected.type=s}).appendTo(t)})};s.getDependencies=function(){var e=this;t.post({url:"/hosts/"+this.host.id+"/dependencies/",success:function(t){e.dependencies=t.data;e.generateDependenices()}})};s.generateDependenices=function(){var e={host_id:this.host.id,hostname:this.host.hostname,ipaddr:this.host.ipaddr,dependencies:this.dependencies,$color:y.defaultStatusColor[this.host.status]};this.graphData={id:0,name:this.host.hostname,data:e,children:[]};this.processChildren(this.dependencies,this.graphData.children);this.createDependencyGraph("radialGraph")};s.processChildren=function(e,t){var a=this;$.each(e,function(e,i){i["$color"]=i.service_status?y.defaultStatusColor[i.service_status]:y.defaultStatusColor[i.host_status];var s={id:i.id,name:i.on_hostname,data:i,children:[]};t.push(s);a.processChildren(i.dependencies,s.children)})};s.createDependencyGraph=function(e){var t=this;y.createInfovisGraph({data:this.graphData,type:e,container:"infovis",onClick:this.createDependencyDescription});this.createDependencyDescription(this.graphData.data)};s.createDependencyDescription=function(e){var t=this,i=$("#dependencies").html("");a.create("h2").addClass("h2").html(c.get("schema.dependency.text.for_node",a.escape(e.hostname),true)).appendTo(i);if(e.dependencies.length==0){a.create("div").addClass("info-simple").html(c.get("schema.dependency.text.no_dependencies")).appendTo(i);return false}var s=new h({appendTo:i,selectable:false,searchable:false});s.init();s.table.css({width:"800px"});$.each(["schema.dependency.text.dependencies","schema.dependency.attr.status","schema.dependency.attr.on_status","schema.dependency.attr.inherit","schema.dependency.text.active_time","action.action"],function(e,t){s.addHeadColumn(c.get(t))});$.each(e.dependencies,function(e,i){var n=s.createRow();var r=a.create("td").appendTo(n);var o=a.create("b").appendTo(r);var l=a.create("span").appendTo(r);a.create("br").appendTo(r);var h=a.create("b").appendTo(r);var d=a.create("span").appendTo(r);if(i.service_id==undefined){o.html(c.get("schema.dependency.text.host"));l.text(" "+i.hostname)}else{o.html(c.get("schema.dependency.text.service"));l.text(" "+i.hostname+" - "+i.service_name)}if(i.on_service_id==undefined){h.html(c.get("schema.dependency.text.depends_on_host"));d.text(" "+i.on_hostname)}else{h.html(c.get("schema.dependency.text.depends_on_service"));d.text(" "+i.on_hostname+" - "+i.on_service_name)}$.each([i.status,i.on_status],function(e,t){var i=a.create("td").appendTo(n);$.each(t.split(","),function(e,t){y.createInfoIcon({type:t}).css({"margin-right":"1px"}).attr("title",t).tooltip({track:true}).appendTo(i)})});a.create("td").html(c.get("bool.yesno."+i.inherit)).appendTo(n);a.create("td").css({"white-space":"nowrap"}).html(i.timeslice+"<br/>"+i.timezone).appendTo(n);var m=a.create("td").appendTo(n);y.createIcon("remove").click(function(){t.deleteDependency(i)}).appendTo(m)})};s.deleteDependency=function(i,s){var n=this;if(s==true){t.post({url:"/hosts/"+i.host_id+"/dependencies/"+i.id+"/delete/",success:function(t){e.debug(t);y.route.to("monitoring/hosts/"+i.host_id+"/dependencies")}})}else{new b({title:"Delete a dependency",closeText:c.get("action.abort"),content:a.create("div").html(c.get("schema.dependency.text.really_delete",i.id,true)),buttons:[{content:c.get("action.yes_delete"),callback:function(){n.deleteDependency(i,true)}}]}).create()}};s.clearSelectedCache=function(){delete this.cache.selected.on_host_id;delete this.cache.selected.on_hostname;delete this.cache.selected.on_service_id};s.showOrHideTableRows=function(e){e=e==0?"fadeOut":"fadeIn";var t=e==0?0:200;this.tr.fromStatus[e](t);this.tr.toStatus[e](t);this.tr.inherit[e](t);this.tr.timezone[e](t);this.tr.timeslice[e](t);this.buttonContainer[e](t)};s.createDependencyForm=function(e){var t=this;this.type=e;this.container.html("");this.header=new x({title:c.get("schema.dependency.text.create",this.host.hostname,true),icons:[{type:"go-back",callback:function(){y.route.to("monitoring/hosts/"+t.host.id+"/dependencies")}}]}).create();this.form=new l({format:"default",appendTo:this.container}).init();this.table=a.create("table").addClass("dependency-table").appendTo(this.form.getContainer());this.buttonContainer=a.create("div").hide().appendTo(this.form.getContainer());this.tr={};this.th={};this.td={};$.each(["fromHost","fromService","toHost","toService","fromStatus","toStatus","inherit","timezone","timeslice"],function(e,i){t.tr[i]=a.create("tr").appendTo(t.table).hide();t.th[i]=a.create("th").appendTo(t.tr[i]);t.td[i]=a.create("td").appendTo(t.tr[i])});this.tr.fromHost.show();a.create("th").html(c.get("schema.dependency.text.workflow_from_host")).appendTo(this.th.fromHost);a.create("th").html(c.get("schema.dependency.text.workflow_from_service")).appendTo(this.th.fromService);this.tr.toHost.show();a.create("th").html("to host").appendTo(this.th.toHost);a.create("th").html(c.get("schema.dependency.text.workflow_to_service")).appendTo(this.th.toService);a.create("th").html(this.type=="service_to_host"||this.type=="service_to_service"?c.get("schema.dependency.text.workflow_from_service_status"):c.get("schema.dependency.text.workflow_from_host_status")).appendTo(this.th.fromStatus);a.create("th").html(this.type=="host_to_service"||this.type=="service_to_service"?c.get("schema.dependency.text.workflow_to_service_status"):c.get("schema.dependency.text.workflow_to_host_status")).appendTo(this.th.toStatus);a.create("th").html(c.get("schema.dependency.text.workflow_inherit")).appendTo(this.th.inherit);a.create("th").html(c.get("schema.dependency.text.workflow_timezone")).appendTo(this.th.timezone);a.create("th").html(c.get("schema.dependency.text.workflow_timeslice")).appendTo(this.th.timeslice);this.td.fromHost.text(this.host.hostname);if(this.type=="service_to_host"||this.type=="service_to_service"){this.tr.fromService.show();this.fromServiceSearchInput=this.form.select({placeholder:"From service",options:y.getServicesForSelection(this.host.id),appendTo:this.td.fromService,required:true,callback:function(e){t.cache.selected.service_id=e}})}var i=new m({url:"/hosts/search/",postdata:{simple:1},format:"default",placeholder:"Enter the hostname",appendTo:this.td.toHost,required:true,callback:function(e){return a.create("li").attr("data-name",e.hostname).attr("data-value",e.id).text(e.hostname)},onClick:function(e,a){t.cache.selected.on_host_id=a;t.cache.selected.on_hostname=e;if(t.type=="host_to_service"||t.type=="service_to_service"){t.tr.toService.show();if(t.toServiceSearchInput!=undefined){t.toServiceSearchInput.destroy()}t.toServiceSearchInput=t.form.select({selectClass:"select-default rwb",optionClass:"list-default",placeholder:"To service",required:true,options:y.getServicesForSelection(a),appendTo:t.td.toService,callback:function(e){t.cache.selected.on_service_id=e;t.showOrHideTableRows(1)}})}else{t.showOrHideTableRows(1)}},onKeyUp:function(e){if(e!=t.cache.selected.on_hostname){t.showOrHideTableRows(0);t.tr.toService.hide();t.clearSelectedCache();if(t.type=="host_to_service"||t.type=="service_to_service"){if(t.toServiceSearchInput!=undefined){t.toServiceSearchInput.destroy()}}}}});i.create();this.form.checkbox({options:[{label:"OK",value:"OK"},{label:"INFO",value:"INFO"},{label:"WARNING",value:"WARNING",checked:true},{label:"CRITICAL",value:"CRITICAL",checked:true},{label:"UNKNOWN",value:"UNKNOWN",checked:true}],name:"status",store:{to:this.cache.selected,as:"status"},appendTo:this.td.fromStatus});this.form.checkbox({options:[{label:"OK",value:"OK"},{label:"INFO",value:"INFO"},{label:"WARNING",value:"WARNING",checked:true},{label:"CRITICAL",value:"CRITICAL",checked:true},{label:"UNKNOWN",value:"UNKNOWN",checked:true}],name:"on_status",store:{to:this.cache.selected,as:"on_status"},appendTo:this.td.toStatus});this.form.radio({name:"inherit",check:0,bool:true,callback:function(e){t.cache.selected.inherit=e},appendTo:this.td.inherit});this.form.select({id:"int-timezone",name:"timezone",options:o(),selected:y.user.timezone,appendTo:this.td.timezone,store:{to:this.cache.selected,as:"timezone"}});this.form.input({id:"int-timeslice",name:"timeslice",value:"Monday - Sunday 00:00 - 23:59",bubbleAlignment:"center right",bubbleWidth:"650px",description:c.get("schema.timeperiod.examples"),appendTo:this.td.timeslice});a.create("div").addClass("btn btn-white btn-default").html(c.get("action.cancel")).click(function(){y.route.to("monitoring/hosts/"+t.host.id+"/dependencies")}).appendTo(this.buttonContainer);a.create("div").addClass("btn btn-white btn-default").html(c.get("action.create")).appendTo(this.buttonContainer).click(function(){t.createDependency()})};s.createDependency=function(){var a=this;var i={type:this.cache.selected.type,host_id:this.host.id,on_host_id:this.cache.selected.on_host_id,service_id:this.cache.selected.service_id,on_service_id:this.cache.selected.on_service_id,status:this.cache.selected.status.join(","),on_status:this.cache.selected.on_status.join(","),inherit:this.cache.selected.inherit,timezone:this.cache.selected.timezone,timeslice:$("#int-timeslice").val()};t.post({url:"/hosts/"+this.host.id+"/dependencies/create",data:i,success:function(t){e.debug(t);if(t.status=="err-610"){a.form.markErrors(t.data.failed)}else{y.route.to("monitoring/hosts/"+a.host.id+"/dependencies")}}})};s.init();return s};y.listHostEvents=function(e){e.url="/hosts/"+e.id+"/events";e.host=y.getHost(e.id);e.services=y.getServicesByHostId(e.id);y.showHostSubNavigation("events",e.id,e.host.hostname);e.cache={selected:{}};e.postdata={offset:0,limit:y.requestSize};y.initEventList(e)};y.initEventList=function(e){y.setTitle("schema.event.text.list",e.host.hostname);var t=a.create("div").appendTo("#content"),i=new l({format:"small"});var s=a.create("div").attr("id","data-container").appendTo("#content");var n=a.create("div").attr("id","data-options").appendTo(s);var r=a.create("div").attr("id","data-list").appendTo(s);var o=a.create("div").attr("id","data-select-time").appendTo(n);var d=a.create("div").attr("id","data-select-time-type").appendTo(o);var m=a.create("div").attr("id","data-relative").appendTo(o);var p=a.create("div").attr("id","data-absolute").hide().appendTo(o);var f=a.create("span").attr("id","data-relative-box").css({"font-weight":"bold",cursor:"pointer"}).html(c.get("word.Relative")).hover(function(){$(this).css({"text-decoration":"underline"})},function(){$(this).css({"text-decoration":"none"})}).appendTo(d);$(d).append(" | ");var v=a.create("span").attr("id","data-absolute-box").css({cursor:"pointer"}).html(c.get("word.Absolute")).hover(function(){$(this).css({"text-decoration":"underline"})},function(){$(this).css({"text-decoration":"none"})}).appendTo(d);f.click(function(){p.hide(200);v.css({"font-weight":"normal"});m.show(200);f.css({"font-weight":"bold"});e.cache.selected.type="relative"});v.click(function(){m.hide(200);f.css({"font-weight":"normal"});p.show(200);v.css({"font-weight":"bold"});e.cache.selected.type="absolute"});var g=a.create("div").addClass("btn btn-white btn-default").html(c.get("action.search"));var b=g.clone();g.click(function(){e.table.getData({resetOffset:true})});b.click(function(){e.table.getData({resetOffset:true})});e.cache.selected.type="relative";y.createIconList({items:[{name:"30d",value:"30d",title:c.get("text.last_30d"),"default":true},{name:"60d",value:"60d",title:c.get("text.last_60d")},{name:"90d",value:"90d",title:c.get("text.last_90d")},{name:"180d",value:"180d",title:c.get("text.last_180d")}],store:{to:e.cache.selected,as:"preset"},callback:function(){e.table.getData({resetOffset:true})},appendTo:m});var x=a.create("div").attr("id","data-search-box").appendTo(n);var _=a.create("div").attr("id","date").addClass("date").appendTo(p);var w=a.create("input").attr("type","text").attr("id","date1-input").attr("placeholder",c.get("word.From")).attr("value","").addClass("input input-small").css({"z-index":3}).appendTo(_);var C=a.create("input").attr("type","text").attr("id","date2-input").attr("placeholder",c.get("word.To")).attr("value","").addClass("input input-small").css({"z-index":3}).appendTo(_);g.appendTo(p);$.each([w,C],function(e,t){t.datetimepicker({ampm:false,timeFormat:"hh:mm:ss",dateFormat:"yy-mm-dd",stepMinute:15})});var T=y.createIconList({items:[{name:"OK",value:"OK",title:"OK"},{name:"INFO",value:"INFO",title:"INFO"},{name:"WARNING",value:"WARNING",title:"WARNING"},{name:"CRITICAL",value:"CRITICAL",title:"CRITICAL"},{name:"UNKNOWN",value:"UNKNOWN",title:"UNKNOWN"}],store:{to:e.cache.selected,as:"status"},callback:function(){e.table.getData({resetOffset:true})},multiple:true,format:"default"});new u({title:"Filter by status",content:T.getContainer(),hide:true,appendTo:x}).create();var k=y.createIconList({items:[{name:"LT-15",value:"lt15m",title:c.get("text.report.availability.LT15")},{name:"LT-30",value:"lt30m",title:c.get("text.report.availability.LT30")},{name:"LT-60",value:"lt60m",title:c.get("text.report.availability.LT60")},{name:"LT-180",value:"lt3h",title:c.get("text.report.availability.LT180")},{name:"LT-300",value:"lt5h",title:c.get("text.report.availability.LT300")},{name:"GE-300",value:"ge5h",title:c.get("text.report.availability.GE300")}],store:{to:e.cache.selected,as:"duration"},callback:function(){e.table.getData({resetOffset:true})}});new u({title:"Filter by duration",content:k.getContainer(),hide:true,appendTo:x}).create();var S=a.create("div");var i=new l({format:"small"});i.input({id:"event-search-message-input",placeholder:c.get("schema.event.text.filter_message"),description:c.get("info.search_syntax"),bubbleAlignment:"center right",appendTo:S});new u({title:"Filter messages by query",content:[S,b],hide:true,appendTo:x}).create();var A=[];$.each(e.services,function(e,t){A.push({name:t.service_name,value:t.id})});var I=y.createIconList({items:A,store:{to:e.cache.selected,as:"services"},callback:function(){e.table.getData({resetOffset:true})},button:false,multiple:true});new u({title:"Filter by services",content:I.getContainer(),hide:true,appendTo:x}).create();var N=a.create("div").addClass("btn btn-white btn-default").html(c.get("action.clear")).css({"margin-top":"20px"}).click(function(){y.route.to("monitoring/hosts/"+e.host.id+"/events")}).appendTo(n);var B=function(t){t.query={message:$("#event-search-message-input").val(),status:e.cache.selected.status,duration:e.cache.selected.duration,services:e.cache.selected.services};if(e.cache.selected.type=="relative"){e.postdata.preset=e.cache.selected.preset;delete e.postdata.from;delete e.postdata.to}else{t.from=w.val();t.to=C.val();delete t.preset}return t};e.table=new h({url:"/hosts/"+e.id+"/events",appendTo:r,postdata:e.postdata,postdataCallback:B,searchable:false,selectable:false,header:{title:c.get("schema.event.text.list",e.host.hostname,true),pager:true,appendTo:t},columns:[{name:"time",text:c.get("schema.event.attr.time")},{name:"hostname",text:c.get("schema.host.attr.hostname"),hide:true},{name:"service_name",text:c.get("schema.service.attr.service_name")},{icons:[{check:function(e){if(e.plugin_id=="58"){return false}return typeof e.result==="object"?true:false},icon:"cicons robot",title:c.get("schema.service.info.has_result"),onClick:function(e){y.showServiceResultData(e.plugin,e.result)}},{check:function(e){return typeof e.debug==="object"?true:false},icon:"cicons light-on",title:c.get("schema.service.info.has_result"),onClick:function(e){y.showServiceDebugData(e.debug)}}]},{name:"last_status",text:c.get("schema.event.attr.last_status"),wrapValueClass:true},{name:"status",text:c.get("schema.event.attr.status"),wrapValueClass:true},{name:"attempts",text:c.get("schema.event.attr.attempts"),notNull:"n/a"},{name:"duration",text:c.get("schema.event.attr.duration"),convertToTimeString:true},{name:"tags",text:c.get("schema.event.attr.tags"),empty:"none"},{name:"message",text:c.get("schema.service.attr.message")}]}).create();a.create("div").addClass("clear").appendTo(s)};y.viewMtrResult=function(e){var i=a.extend({appendTo:"#content",columns:[{key:"step",text:"Step"},{key:"ipaddr",text:"IPaddr"},{key:"snt",text:"Snt"},{key:"loss",text:"Loss"},{key:"last",text:"Last"},{key:"avg",text:"Avg"},{key:"best",text:"Best"},{key:"wrst",text:"Wrst"},{key:"stdev",text:"StDev"}],colors:{Loss:["#cc0000","#20c020"],Last:"#2f7ed8",Avg:"#67116a",Best:"#8bbc21",Wrst:"#910000",StDev:"#1aadce"}},e);i.create=function(){var e=this;this.createStruct();if(this.data){this.showMtrData();if(this.showChart!==false){setTimeout(function(){e.createMtrChart()},200)}}else{this.requestHostData()}};i.createStruct=function(){this.mtrTableContainer=a.create("div").attr("id","int-mtr-table").appendTo(this.appendTo);if(this.showChart!==false){this.mtrTableContainer.css({width:"48%",padding:"0 1%","float":"left"});this.mtrChartContainer=a.create("div").attr("id","int-mtr-chart").css({width:"48%",padding:"0 1%","float":"left"}).appendTo(this.appendTo)}if(this.data){this.createMtrChartContainer();this.createMtrTable()}a.create("div").addClass("clear").appendTo(this.appendTo)};i.requestHostData=function(){var e=this;this.host=y.getHost(this.id);y.showHostSubNavigation("mtr",this.id,this.host.hostname);y.setTitle("schema.host.text.mtr_output",this.host.hostname);new x({title:c.get("schema.host.text.mtr_output",this.host.hostname,true),appendTo:this.mtrTableContainer,rbox:false}).create();new x({title:c.get("schema.host.text.mtr_chart"),appendTo:this.mtrChartContainer,rbox:false}).create();this.createMtrChartContainer();this.createMtrTable();t.post({url:"/hosts/"+this.id+"/mtr",success:function(t){e.data=t.data.output;e.showMtrData();e.createMtrChart()}})};i.createMtrChartContainer=function(){var e=a.create("div").attr("id","int-mtr-chart-content").css({"padding-top":"20px"}).appendTo(this.mtrChartContainer);var t=function(){var t=parseInt(e.width()/1.5);if(t>400){t=400}e.css({height:t+"px"})};t();$(window).resize(t)};i.createMtrTable=function(){var e=this;this.table=new h({appendTo:this.mtrTableContainer,columns:this.columns});this.table.init();this.loading=a.create("div").addClass("loading").appendTo(this.mtrTableContainer);$.each(this.columns,function(t,i){var s=a.create("th").text(i.text).appendTo(e.table.thRow);if(i.key!="step"&&i.key!="ipaddr"&&i.key!="snt"){s.addClass("a-right")}if(i.key=="snt"){s.addClass("center")}})};i.showMtrData=function(){var e=this;this.loading.hide();$.each(this.data,function(t,i){var s=a.create("tr");$.each(e.columns,function(e,t){var n=i[t.key];var r=a.create("span").text(n);if(t.key=="loss"){if(n>60){r.addClass("c-critical bold")}else if(n>30){r.addClass("c-warning bold")}else{r.addClass("c-ok bold")}}if(t.key!="step"&&t.key!="ipaddr"&&t.key!="loss"&&t.key!="snt"){if(n>500){r.addClass("c-critical bold")}else if(n>200){r.addClass("c-warning bold")}else{r.addClass("c-ok bold")}}var o=a.create("td");o.html(r).appendTo(s);if(t.key!="step"&&t.key!="ipaddr"&&t.key!="snt"){o.addClass("a-right")}if(t.key=="snt"){o.addClass("center")}});s.appendTo(e.table.tbody)})};i.createMtrChart=function(){var e=this,t=[],a=[],i={},s={};$.each(this.data,function(a,n){t.push(n.step);s[n.step]=n.ipaddr;$.each(e.columns,function(e,t){if(i[t.text]==undefined){i[t.text]=[]}i[t.text].push(parseFloat(n[t.key]));if(t.text=="Loss"){if(i.noLoss==undefined){i.noLoss=[]}i.noLoss.push(100-parseFloat(n[t.key]))}})});a.push({name:"Loss",type:"column",color:"rgba(255,0,0,.5)",yAxis:1,data:i.Loss});a.push({name:"noLoss",type:"column",color:"rgba(177,227,177,.6)",yAxis:1,data:i.noLoss});$.each(["Last","Avg","Best","Wrst","StDev"],function(t,s){a.push({name:s,type:"line",color:e.colors[s],data:i[s]})});y.createChartForMTR({chart:{container:"int-mtr-chart-content"},series:a,categories:t,ipaddrByStep:s})};i.create()};y.viewHostNotifications=function(e){var t=a.extend({},e);t.create=function(){this.host=y.getHost(this.id);y.showHostSubNavigation("notifications",this.id,this.host.hostname);this.header=new x({title:y.setTitle("schema.sms_send.text.list",this.host.hostname,true),pager:true}).create();this.boxes=y.createSideBySideBoxes({container:$("#content"),width:"300px",marginLeft:"310px"});this.createForm();this.getNotifications()};t.createForm=function(){var e=this;this.form=new l({format:"medium",showButton:false,appendTo:this.boxes.left,title:c.get("schema.sms_send.text.search"),onSuccess:function(){e.table.getData()}}).create();var t=this.form.datetime({name:"from",placeholder:c.get("word.From"),appendTo:this.form.form});var a=this.form.datetime({name:"to",placeholder:c.get("word.To"),appendTo:this.form.form});var i=this.form.input({name:"query",placeholder:c.get("word.Filter"),appendTo:this.form.form});this.form.button({text:c.get("action.search"),appendTo:this.form.form,callback:function(){e.table.getData({resetOffset:true})}});this.form.button({text:c.get("action.clear"),appendTo:this.form.form,callback:function(){t.clear();a.clear();i.clear();e.table.getData({resetOffset:true})}})};t.getNotifications=function(){var e=this;this.table=new h({url:"/hosts/"+this.id+"/sms-notifications",bindForm:this.form,appendTo:this.boxes.right,headerObject:this.header,columns:[{name:"time",text:c.get("schema.sms_send.attr.time"),convertFromUnixTime:true},{name:"send_to",text:c.get("schema.sms_send.attr.send_to")},{name:"message",text:c.get("schema.sms_send.attr.message")}]}).create()};t.create()};y.viewHostReport=function(e){e.host=y.getHost(e.id);y.setTitle("schema.host.text.report_title",e.host.hostname);y.showHostSubNavigation("reports",e.id,e.host.hostname);e.intServiceList=a.create("div").attr("id","int-service-list").appendTo("#content");e.intDetailedServiceReport=a.create("div").attr("id","int-detailed-service-report").css({width:"1200px"}).hide().appendTo("#content");e.loading=a.create("div").addClass("loading").appendTo("#content");y.getHostReportData(e)};y.getHostReportData=function(e,a,i){e.intServiceList.html("");e.loading.show();t.post({url:"/hosts/"+e.host.id+"/report",data:{from:a,to:i},success:function(t){e.loading.hide();e.from=t.data.from;e.to=t.data.to;y.generateHostReportView(e,t.data)}})};y.generateHostReportView=function(e,t){$("#int-service-list").html("");var i=new x({appendTo:"#int-service-list",title:c.get("text.report.title.host_from_to",[e.host.hostname,e.from,e.to],true),notice:c.get("text.report.availability.detailed_report_onclick")}).create();var s=a.create("form").appendTo(i.rbox);var n=a.create("input").attr("placeholder",c.get("word.From")).attr("id","report-from").attr("type","text").attr("name","from").attr("value",e.from).attr("title",c.get("word.From")).tooltip().addClass("input input-tiny").css({"margin-right":"10px"}).appendTo(s).datepicker({dateFormat:"yy-mm",changeMonth:true,changeYear:true,showButtonPanel:true,onClose:function(e,t){var a=$("#ui-datepicker-div .ui-datepicker-month :selected").val();var i=$("#ui-datepicker-div .ui-datepicker-year :selected").val();$(this).val($.datepicker.formatDate("yy-mm",new Date(i,a,1)))}});n.focus(function(){$(".ui-datepicker-calendar").hide();$("#ui-datepicker-div").position({my:"center top",at:"center bottom",of:$(this)})});var r=a.create("input").attr("placeholder",c.get("word.To")).attr("id","report-to").attr("type","text").attr("name","to").attr("value",e.to).attr("title",c.get("word.To")).tooltip().addClass("input input-tiny").css({"margin-right":"10px"}).appendTo(s).datepicker({dateFormat:"yy-mm",changeMonth:true,changeYear:true,showButtonPanel:true,onClose:function(e,t){var a=$("#ui-datepicker-div .ui-datepicker-month :selected").val();var i=$("#ui-datepicker-div .ui-datepicker-year :selected").val();$(this).val($.datepicker.formatDate("yy-mm",new Date(i,a,1)))}});r.focus(function(){$(".ui-datepicker-calendar").hide();$("#ui-datepicker-div").position({my:"center top",at:"center bottom",of:$(this)})});var o=(new Date).getFullYear();var l=o-1;a.create("div").addClass("btn btn-small btn-white btn-icon-even").html(c.get("action.search")).appendTo(s).click(function(){y.getHostReportData(e,n.val(),r.val())});a.create("div").addClass("btn btn-small btn-white btn-icon-even").html(c.get("info.this-year")).appendTo(s).click(function(){y.getHostReportData(e,o,o)});a.create("div").addClass("btn btn-small btn-white btn-icon-even").html(c.get("info.last-year")).appendTo(s).click(function(){y.getHostReportData(e,l,l)});var d=new h({appendTo:"#int-service-list"});d.init();var m=["Service","Availability","AV-O","AV-I","AV-W","AV-C","AV-U","Events","EV-O","EV-I","EV-W","EV-C","EV-U","EV-LT15","EV-LT30","EV-LT60","EV-LT180","EV-LT300","EV-GE300"];$.each(m,function(e,t){var a=d.addHeadColumn(t).attr("title",c.get("text.report.availability."+t)).tooltip();if(t!="Service"&&t!="Availability"){a.css({"text-align":"right"})}});$.each(t.services,function(t,i){var s=a.create("tr").appendTo(d.tbody);var n=a.create("td").appendTo(s);a.create("a").text(i.service_name).appendTo(n).click(function(){y.showDetailedServiceReport(e,i)});var r=a.create("td").appendTo(s);var o=a.create("span").text(i.availability.total+"%").appendTo(r);o.css({width:"60px",display:"inline-block","text-align":"right","font-weight":"bold"});if(i.availability.total<99.5){o.addClass("av-crit")}else if(i.availability.total<99.9){o.addClass("av-warn")}a.create("div").attr("id","int-service-"+i.id).css({width:"130px",height:"16px",display:"inline-block"}).appendTo(r);y.createReportBarChart("int-service-"+i.id,{label:["OK","INFO","WARNING","CRITICAL","UNKNOWN"],color:["#22ff22","#7aacdb","#ffff00","#ff2222","#ffaa22"],values:[{label:"Availability",values:[i.availability.OK,i.availability.INFO,i.availability.WARNING,i.availability.CRITICAL,i.availability.UNKNOWN]}]});$.each(["OK","INFO","WARNING","CRITICAL","UNKNOWN"],function(e,t){a.create("td").text(i.availability[t]+"%").css({"text-align":"right"}).addClass("status-text-"+t).appendTo(s)});$.each(["total","OK","INFO","WARNING","CRITICAL","UNKNOWN"],function(e,t){a.create("td").css({"text-align":"right"}).text(i.number_of_events[t]).addClass("status-text-"+t).appendTo(s)});$.each(["lt15","lt30","lt60","lt180","lt300","ge300"],function(e,t){var n=a.create("td").css({"text-align":"right",position:"relative"}).text(i.number_of_events[t].total).appendTo(s);var r=a.create("div").css({position:"absolute","z-index":"5",width:"130px"}).addClass("info-help").hide().appendTo(n);n.hover(function(){r.fadeIn(200)},function(){r.hide()});$.each(["OK","WARNING","CRITICAL","UNKNOWN","INFO"],function(e,s){a.create("div").css({"float":"left",width:"80px",margin:"2px 0"}).text(s).appendTo(r);a.create("div").css({"float":"left",width:"50px",margin:"2px 0"}).text(i.number_of_events[t][s]).appendTo(r)});a.create("clear").appendTo(r)})});if(t.no_data){var u=a.create("div").addClass("info-err").appendTo("#int-service-list");a.create("h4").html(c.get("text.report.title.no_data")).appendTo(u);$.each(t.no_data,function(e,t){a.create("p").text(t.service_name).appendTo(u)})}};y.showDetailedServiceReport=function(e,t){$("#int-service-list").hide();$("#int-detailed-service-report").show();new x({appendTo:"#int-detailed-service-report",title:c.get("text.report.title.host_from_to",[e.host.hostname,e.from,e.to],true),icons:[{type:"go-back",callback:y.showReportServiceList}]}).create();y.createReportServiceBox(e,t)};y.showReportServiceList=function(){$("#int-service-list").show(600);$("#int-detailed-service-report").hide();$("#int-detailed-service-report").html("");y.destroyChartObjects()};y.createReportServiceBox=function(e,t){var i=a.create("div").appendTo("#int-detailed-service-report");var s=a.create("h3").addClass("h3").html(c.get("text.report.service_has_a_availabilty_of",a.escape(t.service_name),true)).appendTo(i);var n=a.create("span").addClass("cit").text(" "+t.availability.total+"%").appendTo(s);if(t.availability.total<99.5){n.addClass("av-crit")}else if(t.availability.total<99.9){n.addClass("av-warn")}y.createServiceAvailabilityPercentBox(t,i);y.createServiceTotalDurationOfEventsBox(t,i);y.createServiceNumerOfEventsBox(t,i);y.createServiceNumberOfEventsByDurationBox(t,i);y.createServiceNumberOfEventsByTags(t,i);y.createServiceDurationOfEventsByHourBox(t,i)};y.createServiceAvailabilityPercentBox=function(e,t){var i=a.create("div").addClass("av-service-2c-box").appendTo(t);var s=a.create("div").addClass("av-service-2c-table-box").appendTo(i);var n=a.create("div").attr("id","int-service-availability-percent-box").addClass("av-service-2c-graph-box").appendTo(i);y.pieChart({chart:{title:null,container:"int-service-availability-percent-box"},legend:false,colors:y.areaStatusColors,data:[{name:"OK",y:parseFloat(e.availability.OK)},{name:"INFO",y:parseFloat(e.availability.INFO)},{name:"WARNING",y:parseFloat(e.availability.WARNING)},{name:"CRITICAL",y:parseFloat(e.availability.CRITICAL)},{name:"UNKNOWN",y:parseFloat(e.availability.UNKNOWN)}]});a.create("h3").addClass("h3").html(c.get("text.report.title.total_availability")).appendTo(s);var r=a.create("table").addClass("av-table").appendTo(s);$.each(["total","OK","INFO","WARNING","CRITICAL","UNKNOWN"],function(t,i){var s=a.create("tr").appendTo(r);a.create("th").text(i).appendTo(s);a.create("td").addClass("status-text-"+i).text(e.availability[i]+"%").appendTo(s)});a.create("div").addClass("clear").appendTo(i);return i};y.createServiceTotalDurationOfEventsBox=function(e,t){var i=a.create("div").addClass("av-service-box").appendTo(t);a.create("h3").addClass("h3").html(c.get("text.report.title.total_status_duration")).appendTo(i);var s=a.create("table").addClass("av-table").appendTo(i);var n=a.create("tr").appendTo(s);a.create("td").html("").appendTo(n);a.create("td").html(c.get("word.Days")).appendTo(n);a.create("td").html(c.get("word.Hours")).appendTo(n);a.create("td").html(c.get("word.Minutes")).appendTo(n);a.create("td").html(c.get("word.Seconds")).appendTo(n);$.each(["OK","INFO","WARNING","CRITICAL","UNKNOWN"],function(t,i){var n=a.create("tr").appendTo(s);a.create("th").text(i).appendTo(n);$.each(a.secondsToStringList(e.duration_of_events[i]),function(e,t){a.create("td").addClass("status-text-"+i).text(t).appendTo(n)})});return i};y.createServiceNumerOfEventsBox=function(e,t){var i=a.create("div").addClass("av-service-2c-box").appendTo(t);var s=a.create("div").addClass("av-service-2c-table-box").appendTo(i);var n=a.create("div").attr("id","int-service-number-of-events-box").addClass("av-service-2c-graph-box").appendTo(i);y.pieChart({chart:{title:null,container:"int-service-number-of-events-box"},legend:false,colors:y.areaStatusColors,data:[{name:"OK",y:parseFloat(e.number_of_events.OK)},{name:"INFO",y:parseFloat(e.number_of_events.INFO)},{name:"WARNING",y:parseFloat(e.number_of_events.WARNING)},{name:"CRITICAL",y:parseFloat(e.number_of_events.CRITICAL)},{name:"UNKNOWN",y:parseFloat(e.number_of_events.UNKNOWN)}]});a.create("h3").addClass("h3").html(c.get("text.report.title.number_of_events")).appendTo(s);var r=a.create("table").addClass("av-table").appendTo(s);$.each(["total","OK","INFO","WARNING","CRITICAL","UNKNOWN"],function(t,i){var s=a.create("tr").appendTo(r);a.create("th").text(i).appendTo(s);a.create("td").addClass("status-text-"+i).text(e.number_of_events[i]).appendTo(s)});return i};y.createServiceNumberOfEventsByDurationBox=function(e,t){var i=a.create("div").addClass("av-service-box").appendTo(t);a.create("h3").addClass("h3").html(c.get("text.report.title.number_of_events_by_duration")).appendTo(i);var s=a.create("table").addClass("av-table").appendTo(i);$.each(["lt15","lt30","lt60","lt180","lt300","ge300"],function(t,i){var n=a.create("tr").appendTo(s);a.create("th").html(c.get("text.report.availability."+i)).appendTo(n);$.each(["OK","INFO","WARNING","CRITICAL","UNKNOWN"],function(t,s){a.create("td").addClass("status-text-"+s).text(e.number_of_events[i][s]).appendTo(n)})});return i};y.createServiceNumberOfEventsByTags=function(e,t){var i=a.create("div").addClass("av-service-box").appendTo(t);a.create("h3").addClass("h3").html(c.get("text.report.title.number_of_events_by_tags")).appendTo(i);var s=a.create("table").addClass("av-table").appendTo(i);$.each(["flapping","volatile","timeout","agent_dead","security","fatal"],function(t,i){var n=a.create("tr").appendTo(s);
a.create("th").html(c.get("text.report.availability."+i)).appendTo(n);var r=a.create("td").text(e.number_of_events[i]).appendTo(n);if(e.number_of_events[i]!="0"){r.css({"font-weight":"bold"})}});return i};y.createServiceDurationOfEventsByHourBox=function(e,t){var i=a.create("div").addClass("av-service-status-duration-box").appendTo(t);a.create("h3").addClass("h3").html(c.get("text.report.title.status_duration_by_hour")).appendTo(i);var s=a.create("table").addClass("av-table").appendTo(i);var n=["d","h","m","s"];$.each(["h00","h01","h02","h03","h04","h05","h06","h07","h08","h09","h10","h11","h12","h13","h14","h15","h16","h17","h18","h19","h20","h21","h22","h23"],function(t,i){var r=a.create("tr").appendTo(s);a.create("th").html(c.get("text.report.availability."+i)).appendTo(r);$.each(["OK","INFO","WARNING","CRITICAL","UNKNOWN"],function(t,s){$.each(a.secondsToStringList(e.duration_of_events[i][s]),function(e,t){var i=a.create("td").text(t+n[e]).addClass("status-text-"+s).appendTo(r);if(t=="0"){i.css({"font-weight":"normal",opacity:.3})}})})});return i};y.createServiceAvailabilityDonut=function(e,t){var i=a.create("div").attr("id","int-donut-"+e.id).addClass("av-service-graph-box").appendTo(t);y.createReportDonutChart({container:"int-donut-"+e.id,data:{total:e.availability.total,OK:e.availability.OK,INFO:e.availability.INFO,WARNING:e.availability.WARNING,CRITICAL:e.availability.CRITICAL,UNKNOWN:e.availability.UNKNOWN}});return i};y.createReportBarChart=function(e,t){var a=new $jit.BarChart({injectInto:e,animate:true,orientation:"horizontal",barsOffset:0,Margin:{top:0,left:0,right:0,bottom:0},labelOffset:0,type:"stacked:gradient",showAggregates:false,showLabels:false,Label:{type:"Native",size:12,family:"Arial",color:"#222222"},Tips:{enable:true,onShow:function(e,t){e.innerHTML="<b>"+t.name+"</b>: "+t.value}}});a.loadJSON(t)};y.createReportDonutChart=function(e){var t={chart:{renderTo:e.container,type:"pie",plotBackgroundColor:null,plotBorderWidth:null,plotShadow:false},title:{text:null},subTitle:{text:null},plotOptions:{pie:{shadow:false}},tooltip:{formatter:function(){return"<b>"+this.point.name+"</b>: "+this.y+" %"}},colors:y.areaStatusColors,series:[{name:"Browsers",data:[["OK",parseFloat(e.data.OK)],["INFO",parseFloat(e.data.INFO)],["WARNING",parseFloat(e.data.WARNING)],["CRITICAL",parseFloat(e.data.CRITICAL)],["UNKNOWN",parseFloat(e.data.UNKNOWN)]],size:"100%",innerSize:"65%",dataLabels:{enabled:false}}]};var a=function(t){var a="50%";var i="50%";var s=40;t.renderer.circle(a,i,s).attr({fill:"#ffffff"}).add();var n=103,r=e.data.total<10?74:e.data.total<100?70:64;t.renderer.text(e.data.total+"%",r,n).css({width:s*2,color:"#444444",fontSize:"19px",fontWeight:"bold",textAlign:"center"}).attr({zIndex:0}).add()};y.createOrReplaceChart({container:e.container,chartOpts:t,chartFunction:a,type:"Chart"})};y.createService=function(e){var t=a.extend({orderBy:"plugin",filter:false,filterByCategory:{}},e);if(t.template===true){t.template=y.getTemplateById(t.id)}else{t.host=y.getHost(t.id);y.showHostSubNavigation("host",t.host.id,t.host.hostname)}t.create=function(){t.createHeader();t.createBoxes();t.getPlugins();t.createForm();t.listPlugins()};t.createHeader=function(){new x({title:c.get("schema.service.text.choose_plugin")}).create()};t.createBoxes=function(){this.boxes=y.createSideBySideBoxes({container:"#content",width:"300px",marginLeft:"310px"})};t.updateOrder=function(e){this.orderBy=e;this.listPlugins()};t.filterCategories=function(e){var t=this;if(e.length){this.filter=true}else{this.filter=false}this.filterByCategory=e;this.listPlugins()};t.createForm=function(){var e=this;a.create("h2").addClass("h2").html(c.get("text.sort_by_dots")).appendTo(this.boxes.left);var t=a.create("div").css({"margin-left":"20px"}).appendTo(this.boxes.left);y.createIconList({format:"large",items:[{name:"• plugin name",value:"plugin","default":true},{name:"• check name",value:"command"}],callback:function(t){e.updateOrder(t)},appendTo:t,button:false});a.create("h2").addClass("h2").html(c.get("text.filter_by_category_dots")).appendTo(this.boxes.left);var i=a.create("div").css({"margin-left":"20px"}).appendTo(this.boxes.left);var s=[];$.each(this.categories.sort(),function(e,t){s.push({name:"• "+t,value:t})});y.createIconList({format:"large",items:s,callback:function(t){e.filterCategories(t)},appendTo:i,button:false,multiple:true});this.form=new l({format:"medium"})};t.getPlugins=function(){var e=this;this.plugins=y.get("/plugins",{limit:1e3});this.categories=[];this.pluginsByCategory={};this.order={plugin:{keys:[],objects:{}},command:{keys:[],objects:{}}};$.each(this.plugins,function(t,a){$.each(a.category.split(","),function(t,i){i=i.replace(/^\s+/,"").replace(/\s+$/,"");if(!a.hasCategory){a.hasCategory={}}if(!e.pluginsByCategory[i]){e.pluginsByCategory[i]=[];e.categories.push(i)}e.pluginsByCategory[i].push(a);a.hasCategory[i]=1});e.order.plugin.objects[a.plugin]=a;e.order.plugin.keys.push(a.plugin);e.order.command.objects[a.command]=a;e.order.command.keys.push(a.command)});a.create("div").addClass("clear").appendTo(this.boxes.right)};t.listPlugins=function(){var e=this;$(this.boxes.right).html("");var t=new h({appendTo:this.boxes.right}).init();$.each(["plugin","categories","command","description"],function(e,a){t.addHeadColumn(c.get("schema.plugin.attr."+a))});$.each(this.order[this.orderBy].keys.sort(),function(a,i){var s=e.order[e.orderBy].objects[i];if(e.filter==true){var n=false;$.each(e.filterByCategory,function(e,t){if(s.hasCategory[t]==1){n=true;return false}});if(n==false){return true}}var r=function(){y.createServiceByCommand({id:e.id,host:e.host,plugin:s,template:e.template})};var o=t.createRow();t.createColumn(o,s,{name:"plugin",aTag:true,onClick:r});t.createColumn(o,s,{name:"category"});t.createColumn(o,s,{name:"command"});t.createColumn(o,s,{name:"description"})})};t.create()};y.createServiceByCommand=function(e){$("#content").html("");$("#content-outer").scrollTop(0);var t,a,i;if(e.template){t="/templates/hosts/"+e.id+"/services/options/"+e.plugin.id;a="/templates/hosts/"+e.id+"/services/create"}else{t="/hosts/"+e.id+"/services/options/"+e.plugin.id;a="/hosts/"+e.id+"/services/create"}var s=y.get(t);y.createServiceForm({url:{submit:a},host:e.host,template:e.template,values:s.values,options:s.options,plugin:e.plugin,action:"create"})};y.editService=function(e){var t=this,a,i,s,n;if(e.template){i=y.getTemplateById(e.id);s="/templates/hosts/"+e.id+"/services/"+e.refId+"/options/";n="/templates/hosts/"+e.id+"/services/"+e.refId+"/update"}else{a=y.getHost(e.id);s="/hosts/"+e.id+"/services/"+e.service_id+"/options/";n="/hosts/"+e.id+"/services/"+e.service_id+"/update";y.showHostSubNavigation("host",a.id,a.hostname)}var r=y.get(s),o=y.get("/plugins/"+r.values.plugin_id);y.createServiceForm({url:{submit:n},host:a,template:i,values:r.values,options:r.options,plugin:o,action:"update"})};y.cloneService=function(e){var t=y.getHost(e.clone_to),a=y.get("/hosts/"+e.id+"/services/"+e.service_id+"/options"),i=y.get("/plugins/"+a.values.plugin_id),s="/hosts/"+e.clone_to+"/services/create";y.showHostSubNavigation("host",t.id,t.hostname);y.createServiceForm({url:{submit:s},host:t,values:a.values,options:a.options,plugin:i,action:"clone"})};y.createServiceForm=function(t){var i=a.extend({},t);i.create=function(){this.preparePluginOptions();this.getLocations();this.initForm();this.createBaseSettingsElements();this.createWebTransactionWorkflow();this.createCommandFormElements();this.createNotificationFormElements();this.createSubmitButton()};i.preparePluginOptions=function(){var e=this;this.pluginOptionsByOption={};this.commandOptionsByOption={};this.thresholdElements=[];if(this.plugin&&this.plugin.info){$.each(this.plugin.info.options,function(t,a){e.pluginOptionsByOption[a.option]=a})}if(this.action=="update"||this.action=="clone"){$.each(this.values.command_options,function(t,a){if(a.option=="nagios-command"&&e.pluginOptionsByOption["simple-command"]){a.option="simple-command"}if(e.pluginOptionsByOption[a.option].multiple){if(!e.commandOptionsByOption[a.option]){e.commandOptionsByOption[a.option]=[]}e.commandOptionsByOption[a.option].push(a.value)}else{e.commandOptionsByOption[a.option]=a.value}})}};i.getLocations=function(){var e=this;this.locations=y.get("/locations");this.hasLocations=this.locations.length>0?true:false;this.locationsById={};$.each(this.locations,function(t,a){e.locationsById[a.id]=a;if(a.is_default=="1"){e.defaultLocation=a}})};i.initForm=function(){var e=this,t,i,s;if(this.action=="create"||this.action=="clone"){s=this.template?"/templates/hosts/"+this.template.id+"/services/create":"/hosts/"+this.host.id+"/services/create";i=function(t){if(e.template){y.route.to("monitoring/templates/"+t.host_template_id+"/services/"+t.ref_id+"/edit")}else{y.route.to("monitoring/hosts/"+t.host_id)}};t=new x({title:c.get("schema.service.text.create"),border:true,icons:[{type:"help",callback:function(){a.open("/#help/service-parameter")},title:c.get("site.help.doc.service-parameter")},{type:"go-back",callback:function(){if(e.template){y.route.to("monitoring/templates/"+e.template.id+"/services/create")}else{y.route.to("monitoring/hosts/"+e.host.id+"/services/create")}},title:c.get("info.go-back")}]})}else{s=this.template?"/templates/hosts/"+this.template.id+"/services/"+this.values.ref_id+"/update":"/hosts/"+this.host.id+"/services/"+this.values.id+"/update";t=new x({title:c.get("schema.service.text.settings",e.values.service_name,true),subtitle:e.template?c.get("schema.service.attr.ref_id")+": "+e.values.ref_id:c.get("schema.service.attr.id")+": "+e.values.id,border:true,icons:[{type:"help",callback:function(){a.open("/#help/service-parameter")},title:c.get("site.help.doc.service-parameter")},{type:"go-back",callback:function(){if(e.template){y.route.to("monitoring/templates/"+e.template.id+"/services")}else{y.route.to("monitoring/hosts/"+e.host.id)}},title:c.get("info.go-back")}]})}t.create();this.form=new l({url:{submit:s},onSuccess:i,format:"default",appendTo:"#content",splice:["command_options","agent_options"],formClass:"service-form",postpareDataCallback:function(t){e.addThresholdValues(t);if(e.plugin.id=="58"&&e.wtrm){e.addWebTransactionSteps(t)}}});this.form.init();this.form.msgbox({appendTo:this.form.form});a.create("input").attr("type","hidden").attr("name","plugin_id").attr("value",this.plugin.id).appendTo(this.form.form)};i.addThresholdValues=function(e){$.each(this.thresholdElements,function(t,a){if(a.destroyed==true){return true}var i="command_options:"+a.name;if(!e[i]){e[i]=[]}var s=a.selectKey.getSelectedValue(),n=a.selectOperator.getSelectedValue(),r=a.thresholdInput.getValue();if(s!=undefined&&n!=undefined&&r!=undefined){if(s.length&&n.length&&r.length){e[i].push(s+":"+n+":"+r)}}})};i.addWebTransactionSteps=function(e){var t=this.wtrm.validateSteps();if(t){e["command_options:workflow"]=t}};i.createSettingsBox=function(e){var t={};if(e){t.header=new x({title:e,border:true,appendTo:this.form.form}).create()}t.outer=a.create("div").addClass("service-form-outer-box").appendTo(this.form.form);t.topBox=a.create("div").addClass("service-form-top-box").appendTo(t.outer);t.leftBox=a.create("div").addClass("service-form-left-box").appendTo(t.outer);t.rightBox=a.create("div").addClass("service-form-right-box").appendTo(t.outer);a.create("div").addClass("clear").appendTo(t.outer);t.bottomBox=a.create("div").addClass("service-form-bottom-box").appendTo(t.outer);t.table=new h({type:"form",appendTo:t.leftBox}).init();return t};i.createOption=function(e){var t=a.create("div"),i="input",s=this.commandOptionsByOption,n,r;if(this.action=="create"){n=e.default}else if(s[e.option]!=undefined){n=s[e.option]}a.create("p").text(e.description).appendTo(t);if(e["default"]!=undefined){a.create("p").html("<br/>Default: "+e["default"]).appendTo(t)}if(this.plugin.info.flags&&/simple/.test(this.plugin.info.flags)){i="textarea";r=true}this.form.createElement({element:i,type:"text",name:"command_options:"+e.option,text:e.name,desc:t,placeholder:e.example==undefined?"":e.example,value:n,css:{width:"450px"}})};i.createWebTransactionWorkflow=function(){var e=this.commandOptionsByOption;if(this.plugin.id=="58"){this.wtrm=y.WTRM({appendTo:this.form.form,preload:e.workflow})}};i.addDestroyButton=function(e,t,i){a.create("span").addClass("hicons remove column-remove-button").attr("title",c.get("action.remove")).tooltip().appendTo(i).click(function(){t.remove();e.destroyed=true})};i.createMultipleOption=function(e,t){var i=a.create("tr").appendTo(this.form.table),s=a.create("th").text(e.name).appendTo(i),n=a.create("td").appendTo(i),r=[],o=this.plugin.info;new w({title:e.name,desc:e.description}).appendTo(s);if(!o.thresholds){var c=this.form.input({name:"command_options:"+e.option,type:"text",appendTo:n});if(t!=undefined){c.setValue(t)}this.addDestroyButton({},i,n);return}var l=undefined,h=undefined,d=undefined;if(t){var m=t.split(":");l=m[0];h=m[1];d=m[2]}$.each(o.thresholds.options,function(e,t){r.push(t.key)});var u=this.form.select({options:r,selected:l,appendTo:n,width:"210px"});var p=this.form.select({options:[{value:"lt",name:"<"},{value:"le",name:"<="},{value:"gt",name:">"},{value:"ge",name:">="},{value:"eq",name:"=="},{value:"ne",name:"!="}],selected:h,appendTo:n,width:"80px"});var f=this.form.input({type:"text",appendTo:n,width:"140px",value:d});var v={name:e.option,selectKey:u,selectOperator:p,thresholdInput:f,destroyed:false};this.thresholdElements.push(v);this.addDestroyButton(v,i,n)};i.getOperator=function(e){if(e=="lt"){return"<"}if(e=="le"){return"<="}if(e=="gt"){return">"}if(e=="ge"){return">="}if(e=="eq"){return"=="}if(e=="ne"){return"!="}};i.showThresholdOptions=function(t){var i=y.get("/plugin-stats/"+t.id),s=a.create("div"),n=t.info.thresholds,r={},o={},c=[];$.each(i,function(e,t){r[t.statkey]=t});var l=new h({appendTo:s}).init();l.addHeadColumn("Key");l.addHeadColumn("Unit");l.addHeadColumn("Description");$.each(a.sort(n.options,"key"),function(t,a){if(r[a.key]==undefined){e.error("no data for plugin key "+a.key)}else{l.createRow([a.key,a.unit,r[a.key].description])}});var d=new b({title:"Threshold options",content:s}).create()};i.createBaseSettingsElements=function(){var e=this,t=this.createSettingsBox();this.createPluginInfoBox(t);this.form.table=t.table.getTable();this.createBaseFormElements();this.createLocationFormElements()};i.createLocationFormElements=function(){var e=this.plugin;this.createLocationBoxes();this.createLocationContainer();this.createAgentIdElement();if(this.hasLocations===true){this.createWorldwideLocationElements();this.createLocationMap()}};i.createLocationBoxes=function(){this.locationBoxes=this.createSettingsBox()};i.createLocationContainer=function(){this.locationContainer=a.create("div").addClass("location-selection").css({"margin-top":"30px"}).hide().appendTo(this.locationBoxes.leftBox)};i.createAgentIdElement=function(){var e=this,t=this.plugin;var a=t.netaccess!="1"?["localhost"]:this.options.agent_id;this.locationDefault=this.values.agent_id||t.prefer;if(this.locationDefault=="localhost"){this.agentTooltip.show()}this.form.createElement({element:"select",text:c.get("schema.service.attr.agent_id"),desc:c.get("schema.service.desc.agent_id_tooltip"),descBoxCss:{width:"400px",padding:"20px"},name:"agent_id",options:a,selected:this.locationDefault,required:true,callback:function(a){if(a=="localhost"){e.agentTooltip.show()}else{e.agentTooltip.hide()}if(t.worldwide==1){if(a=="remote"){e.locationContainer.show()}else{e.locationContainer.hide()}}}})};i.createWorldwideLocationElements=function(){var e=this,t=this.plugin;if(t.worldwide!="1"){return}this.getLocationOptions();this.createLocationTypeContainer();this.createLocationTypeSelectionElements()};i.getLocationOptions=function(){this.locationOptions=this.values.location_options;if(!this.locationOptions||this.locationOptions=="0"){this.locationOptions={locations:[]}}else if(!this.locationOptions.locations){this.locationOptions.locations=[]}if(this.locationOptions.check_type){this.selectedLocationType=this.locationOptions.check_type}else{this.selectedLocationType="default"}};i.createLocationTypeContainer=function(){if(this.locationDefault=="remote"){this.locationContainer.show()}this.locationSelectionLeftBox=a.create("div").addClass("location-selection-type-box").appendTo(this.locationContainer);this.typeSelection=a.create("div").appendTo(this.locationSelectionLeftBox);this.locationTypeDefaultContainer=a.create("div").appendTo(this.locationSelectionLeftBox).hide();this.locationTypeFailoverContainer=a.create("div").appendTo(this.locationSelectionLeftBox).hide();this.locationTypeRotateContainer=a.create("div").appendTo(this.locationSelectionLeftBox).hide();this.locationTypeMultipleContainer=a.create("div").appendTo(this.locationSelectionLeftBox).hide();this.locationTypeContainerByValue={"default":this.locationTypeDefaultContainer,failover:this.locationTypeFailoverContainer,rotate:this.locationTypeRotateContainer,multiple:this.locationTypeMultipleContainer};this.locationTypeContainerByValue[this.selectedLocationType].show()};i.createLocationTypeSelectionElements=function(){var e=this;var t=a.create("h2").html(c.get("schema.service.text.select_location_check_type")).appendTo(this.typeSelection);a.create("small").css({"font-weight":"normal","font-size":"13px"}).html("<br/>"+c.get("schema.service.text.select_location_check_type_info")).appendTo(t);this.form.iconList({name:"command_options:check_type",options:[{name:c.get("schema.service.text.default_location_check_button"),value:"default"},{name:c.get("schema.service.text.failover_location_check_button"),value:"failover"},{name:c.get("schema.service.text.rotate_location_check_button"),value:"rotate"},{name:c.get("schema.service.text.multiple_location_check_button"),value:"multiple"}],checked:e.selectedLocationType,css:{padding:"15px"},callback:function(t){if(e.selectedLocationType!=t){e.locationTypeContainerByValue[e.selectedLocationType].hide();e.locationTypeContainerByValue[t].show();e.selectedLocationType=t}e.createLocationMap();if(y.user.sla<3&&y.user.role!="admin"){if(t=="default"){$("#sla-note").hide()}else{$("#sla-note").fadeIn(300)}}},appendTo:this.typeSelection});a.create("div").attr("id","sla-note").addClass("sla-note").html(c.get("schema.service.text.sla_requirements")).hide().appendTo(this.typeSelection);$.each(["failover_locations","rotate_locations","multiple_locations"],function(t,a){if(!e.locationOptions[a]){e.locationOptions[a]=[]}});this.createDefaultLocationTypeElements();this.createFailoverLocationTypeElements();this.createRotateLocationTypeElements();this.createMultipleLocationTypeElements()};i.createDefaultLocationTypeElements=function(){a.create("h2").css({"margin-top":"20px"}).html(c.get("schema.service.desc.default_check_type_title")).appendTo(this.locationTypeDefaultContainer);a.create("p").html(c.get("schema.service.desc.default_check_type")).appendTo(this.locationTypeDefaultContainer);a.create("h3").html(c.get("schema.service.desc.default_check_type_location")).appendTo(this.locationTypeDefaultContainer);var e=y.flag(this.defaultLocation.country_code,this.defaultLocation.continent+" - "+this.defaultLocation.city+" - "+this.defaultLocation.ipaddr);a.create("div").addClass("list-rotate-locations-box").html(e).appendTo(this.locationTypeDefaultContainer)};i.createFailoverLocationTypeElements=function(){var e=this,t=[];a.create("h2").css({"margin-top":"20px"}).html(c.get("schema.service.desc.failover_check_type_title")).appendTo(this.locationTypeFailoverContainer);a.create("p").html(c.get("schema.service.desc.failover_check_type")).appendTo(this.locationTypeFailoverContainer);a.create("h3").html(c.get("schema.service.desc.failover_check_type_locations")).appendTo(this.locationTypeFailoverContainer);$.each(this.locations,function(e,a){t.push({name:a.continent+" - "+a.city+" - "+a.ipaddr,value:a.id})});var i=new h({type:"form",appendTo:this.locationTypeFailoverContainer}).init();i.createRow([c.get("text.fixed_checkpoint"),this.form.select({name:"command_options:fixed_checkpoint",options:t,selected:this.locationOptions.failover_locations[0],callback:function(){e.createLocationMap()}}).getContainer()]);i.createRow([c.get("text.first_failover_checkpoint"),this.form.select({name:"command_options:first_failover_checkpoint",options:t,selected:this.locationOptions.failover_locations[1],callback:function(){e.createLocationMap()}}).getContainer()]);i.createRow([c.get("text.second_failover_checkpoint"),this.form.select({name:"command_options:second_failover_checkpoint",options:t,selected:this.locationOptions.failover_locations[2],callback:function(){e.createLocationMap()}}).getContainer()])};i.createRotateLocationTypeElements=function(){var e=this;a.create("h2").css({"margin-top":"30px"}).html(c.get("schema.service.desc.rotate_check_type_title")).appendTo(this.locationTypeRotateContainer);a.create("p").html(c.get("schema.service.desc.rotate_check_type")).appendTo(this.locationTypeRotateContainer);this.addLocationOptionsToForm(this.locationTypeRotateContainer,"rotate")};i.createMultipleLocationTypeElements=function(){var e=this;a.create("h2").css({"margin-top":"30px"}).html(c.get("schema.service.desc.multiple_check_type_title")).appendTo(this.locationTypeMultipleContainer);a.create("p").html(c.get("schema.service.desc.multiple_check_type")).appendTo(this.locationTypeMultipleContainer);a.create("h3").html(c.get("schema.service.desc.multiple_check_concurrency_title")).appendTo(this.locationTypeMultipleContainer);a.create("p").html(c.get("schema.service.desc.multiple_check_concurrency")).appendTo(this.locationTypeMultipleContainer);a.create("h3").html(c.get("schema.service.desc.multiple_check_select_concurrency")).appendTo(this.locationTypeMultipleContainer);this.form.slider({name:"command_options:concurrency",options:[1,2,3,4,5,6,7,8,9,10],checked:this.locationOptions.concurrency||3,appendTo:this.locationTypeMultipleContainer});this.addLocationOptionsToForm(this.locationTypeMultipleContainer,"multiple")};i.addLocationOptionsToForm=function(e,t){var i="command_options:"+t+"_locations",s="int-options-"+t+"locations-";a.create("h3").html(c.get("schema.service.desc.multiple_check_type_locations")).appendTo(e);a.create("input").attr("type","hidden").attr("name",i).attr("value","").appendTo(e);var n=a.create("table").attr("data-name",i).addClass("location-checkbox-table").appendTo(e);var r=a.create("div").addClass("locations-selected").appendTo(e);if(t!=="multiple"){r.hide()}this.form.setOption(i,"forceArray",true);var o={};if(this.locationOptions[t+"_locations"]){$.each(this.locationOptions[t+"_locations"],function(e,t){o[t]=true})}var l,h=1;$.each(this.locations,function(e,t){if(h==1){l=a.create("tr").appendTo(n);h=0}else{h+=1}var d=a.create("th").appendTo(l);var m=a.create("div").addClass("checkbox-ng").appendTo(d);var u=a.create("input").attr("id",s+e).attr("type","checkbox").attr("name",i).attr("value",t.id).appendTo(m);if(o[t.id]){u.attr("checked","checked")}var p=function(){var e=n.find("input:checked").length;r.html(c.get("text.locations_selected_costs",e,true,true))};p();u.click(function(){p();self.createLocationMap()});a.create("label").attr("for",s+e).appendTo(m);a.create("td").html(y.flag(t.country_code,a.escape(t.continent+" - "+t.city+" - "+t.ipaddr))).click(function(){u.click()}).appendTo(l)})};i.createPluginInfoBox=function(e){var t=this.plugin;var i=a.create("div").addClass("command-examples").appendTo(e.rightBox);a.create("h3").html(c.get("text.plugin_info")).appendTo(i);var s=new h({type:"simple",appendTo:i}).init();s.createFormRow(c.get("schema.plugin.attr.plugin"),t.plugin);s.createFormRow(c.get("schema.plugin.attr.categories"),t.category);s.createFormRow(c.get("schema.plugin.attr.description"),t.description);s.createFormRow(c.get("schema.plugin.attr.command"),t.command);if(t.info.info){a.create("h3").css({"margin-top":"20px"}).html(c.get("schema.plugin.attr.info")).appendTo(i);a.create("p").html(t.info.info.join("<br/>")).appendTo(i)}this.agentTooltip=a.create("div").css({"margin-top":"20px"}).html(c.get("schema.service.desc.agent_tooltip")).hide().appendTo(i);if(t.netaccess==0){this.agentTooltip.show()}if(t.info){a.create("h5").html(t.info).appendTo(i)}if(/sudo/.test(t.info.flags)){a.create("h3").text("Root privileges (sudo)").appendTo(i);a.create("p").text("Root privileged are necessary to execute this check on your server.").appendTo(i);a.create("a").attr("href","#help/bloonix-agent-configuration").attr("target","_blank").text("⇒ Read more").appendTo(i)}};i.createBaseFormElements=function(){var e=this.plugin;this.form.createElement({element:"input",type:"text",name:"service_name",text:c.get("schema.service.attr.service_name"),desc:c.get("schema.service.desc.service_name"),value:this.values.service_name||e["abstract"],maxlength:100,required:true});this.form.createElement({element:"input",type:"text",name:"description",text:c.get("schema.service.attr.description"),desc:c.get("schema.service.desc.description"),value:this.values.description||e.description,maxlength:100});this.form.createElement({element:"input",type:"text",name:"comment",text:c.get("schema.service.attr.comment"),desc:c.get("schema.service.desc.comment"),value:this.values.comment,maxlength:100});if(this.template===undefined){this.form.createElement({element:"radio-yes-no",name:"active",text:c.get("schema.service.attr.active"),desc:c.get("schema.service.desc.active"),checked:this.values.active})}this.form.createElement({element:"radio-yes-no",name:"host_alive_check",text:c.get("schema.service.attr.host_alive_check"),desc:c.get("schema.service.desc.host_alive_check"),checked:this.values.host_alive_check});this.form.createElement({element:"radio-yes-no",name:"passive_check",text:c.get("schema.service.attr.passive_check"),desc:c.get("schema.service.desc.passive_check"),checked:this.values.passive_check});this.form.createElement({text:c.get("schema.service.attr.interval"),desc:c.get("schema.service.desc.interval"),element:"slider",name:"interval",options:this.options.interval,checked:this.values.interval,secondsToFormValues:true,nullString:c.get("text.inherited_from_host")});this.form.createElement({text:c.get("schema.service.attr.timeout"),desc:c.get("schema.service.desc.timeout"),element:"slider",name:"timeout",options:this.options.timeout,checked:this.values.timeout,secondsToFormValues:true,nullString:c.get("text.inherited_from_host")})};i.createLocationMap=function(){};i.createCommandFormElements=function(){var e=this,t=this.createSettingsBox(c.get("schema.service.text.command_options")),i=t.table,s=t.topBox,n=t.bottomBox,r=t.rightBox,o=this.plugin,l=this.plugin.info,d=[],m=[];if(l.options.length==0){a.create("div").addClass("info-simple").html(c.get("schema.service.text.no_command_options")).appendTo(s)}this.form.table=i.getTable();$.each(l.options,function(t,a){if(a.value||a.value_type){if(o.id=="58"&&a.option==="workflow"){return true}else if(a.multiple){m.push(a);if(e.action=="create"||!e.commandOptionsByOption[a.option]){e.createMultipleOption(a)}else if(e.commandOptionsByOption[a.option]){$.each(e.commandOptionsByOption[a.option],function(t,i){e.createMultipleOption(a,i)})}}else{e.createOption(a)}}else{d.push(a)}});if(m.length){a.create("p").css({"font-size":"14px","font-weight":"bold","margin-top":"20px"}).text(c.get("info.add-further-options")).appendTo(n);$.each(m,function(t,s){var r=a.create("div").addClass("btn btn-white").text("+ "+s.name).appendTo(n);r.click(function(){e.form.table=i.getTable();e.createMultipleOption(s)})})}if(d.length){$.each(d,function(t,a){var i=e.action=="create"?a.default:e.commandOptionsByOption[a.option];if(i==undefined){i=0}e.form.createElement({element:"radio-yes-no",name:"command_options:"+a.option,text:a.name,desc:a.description,checked:i})})}var u=a.create("div").addClass("command-examples").hide().appendTo(r);if(l.examples){a.create("h4").html(c.get("text.option_examples")).appendTo(u);$.each(l.examples,function(t,i){var s=i.description.join("<br/>");s=s.replace(/  /g,"&nbsp;&nbsp;");a.create("h5").html(s).appendTo(u);var n=new h({type:"none",appendTo:u}).init();while(i.arguments.length>0){var r=i.arguments.shift(),o=i.arguments.shift();r=e.pluginOptionsByOption[r];if(r.multiple&&l.thresholds){var d,m,p,f=o.split(":");if(f.length==3){d=f[0];m=e.getOperator(f[1]);p=f[2]}else{d=f[0];m=">=";p=f[1]}o=[d,m,p].join(" ")}if(!r.value&&!r.value_type){o=c.get("word.yes")}n.createRow([r.name+":",o])}});u.show();this.form.createElement({text:c.get("schema.service.attr.agent_options.timeout"),desc:c.get("schema.service.desc.agent_options.timeout"),element:"slider",name:"agent_options:timeout",options:[0,10,15,30,60,90,120],checked:this.values.agent_options.timeout||0,secondsToFormValues:true,nullString:c.get("text.default")})}if(l.thresholds){a.create("h4").css({"margin-top":"20px"}).html(c.get("text.thresholds")).appendTo(u);a.create("h5").css({cursor:"pointer","text-decoration":"underline"}).text("View a full list of all possible threshold options").click(function(){e.showThresholdOptions(o)}).appendTo(u);u.show()}};i.createNotificationFormElements=function(){var e=this.createSettingsBox(c.get("schema.service.text.notification_settings"));this.form.table=e.table.getTable();if(this.template===undefined){this.form.createElement({text:c.get("schema.service.attr.acknowledged"),desc:c.get("schema.service.desc.acknowledged"),element:"radio-yes-no",name:"acknowledged",checked:this.values.acknowledged});this.form.createElement({text:c.get("schema.service.attr.notification"),desc:c.get("schema.service.desc.notification"),element:"radio-yes-no",name:"notification",checked:this.values.notification})}this.form.createElement({text:c.get("schema.service.attr.attempt_max"),desc:c.get("schema.service.desc.attempt_max"),element:"slider",name:"attempt_max",options:this.options.attempt_max,checked:this.values.attempt_max});this.form.createElement({text:c.get("schema.service.attr.attempt_warn2crit"),desc:c.get("schema.service.desc.attempt_warn2crit"),element:"radio-yes-no",name:"attempt_warn2crit",checked:this.values.attempt_warn2crit});this.form.createElement({text:c.get("schema.service.attr.fd_enabled"),desc:c.get("schema.service.desc.fd_enabled"),element:"radio-yes-no",name:"fd_enabled",checked:this.values.fd_enabled});this.form.createElement({text:c.get("schema.service.attr.fd_time_range"),desc:c.get("schema.service.desc.fd_time_range"),element:"slider",name:"fd_time_range",options:this.options.fd_time_range,checked:this.values.fd_time_range,secondsToFormValues:true});this.form.createElement({text:c.get("schema.service.attr.fd_flap_count"),desc:c.get("schema.service.desc.fd_flap_count"),element:"slider",name:"fd_flap_count",options:this.options.fd_flap_count,checked:this.values.fd_flap_count});this.form.createElement({text:c.get("schema.service.attr.is_volatile"),desc:c.get("schema.service.desc.is_volatile"),element:"radio-yes-no",name:"is_volatile",checked:this.values.is_volatile});this.form.createElement({text:c.get("schema.service.attr.volatile_retain"),desc:c.get("schema.service.desc.volatile_retain"),element:"slider",name:"volatile_retain",options:this.options.volatile_retain,checked:this.values.volatile_retain,secondsToFormValues:true,nullString:c.get("text.never")});this.form.createElement({text:c.get("schema.service.attr.mail_soft_interval"),desc:c.get("schema.service.desc.mail_soft_interval"),element:"slider",name:"mail_soft_interval",options:this.options.mail_soft_interval,checked:this.values.mail_soft_interval,secondsToFormValues:true,nullString:c.get("text.undefined")});this.form.createElement({text:c.get("schema.service.attr.mail_hard_interval"),desc:c.get("schema.service.desc.mail_hard_interval"),element:"slider",name:"mail_hard_interval",options:this.options.mail_hard_interval,checked:this.values.mail_hard_interval,secondsToFormValues:true,nullString:c.get("text.undefined")});this.form.createElement({text:c.get("schema.service.attr.mail_warnings"),desc:c.get("schema.service.desc.mail_warnings"),element:"radio-yes-no",name:"mail_warnings",checked:this.values.mail_warnings});
this.form.createElement({text:c.get("schema.service.attr.mail_ok"),desc:c.get("schema.service.desc.mail_ok"),element:"radio-yes-no",name:"mail_ok",checked:this.values.mail_ok});this.form.createElement({text:c.get("schema.service.attr.send_sms"),desc:c.get("schema.service.desc.send_sms"),element:"radio-yes-no",name:"send_sms",checked:this.values.send_sms});this.form.createElement({text:c.get("schema.service.attr.sms_soft_interval"),desc:c.get("schema.service.desc.sms_soft_interval"),element:"slider",name:"sms_soft_interval",options:this.options.sms_soft_interval,checked:this.values.sms_soft_interval,secondsToFormValues:true,nullString:c.get("text.undefined")});this.form.createElement({text:c.get("schema.service.attr.sms_hard_interval"),desc:c.get("schema.service.desc.sms_hard_interval"),element:"slider",name:"sms_hard_interval",options:this.options.sms_hard_interval,checked:this.values.sms_hard_interval,secondsToFormValues:true,nullString:c.get("text.undefined")});this.form.createElement({text:c.get("schema.service.attr.sms_warnings"),desc:c.get("schema.service.desc.sms_warnings"),element:"radio-yes-no",name:"sms_warnings",checked:this.values.sms_warnings});this.form.createElement({text:c.get("schema.service.attr.sms_ok"),desc:c.get("schema.service.desc.sms_ok"),element:"radio-yes-no",name:"sms_ok",checked:this.values.sms_ok})};i.createSubmitButton=function(){var e=this;this.form.button({name:"submit",text:this.action=="create"||this.action=="clone"?c.get("action.create"):c.get("action.update"),appendTo:this.form.form})};i.create()};y.viewServiceLocationReport=function(e){var t=a.extend({avgTimeChartContainer:"avg-time-chart-container",mmTimeChartContainer:"mm-time-chart-container",minTimeChartContainer:"min-time-chart-container",maxTimeChartContainer:"max-time-chart-container",eventChartContainer:"event-chart-container",eventTableContainer:"event-table-container",boxMargin:5},e);t.create=function(){this.createContainer();this.getHost();this.getService();this.getPlugin();this.getStats();this.getLocations();this.generateTimeCharts();this.generateEventTable()};t.getHost=function(){this.host=y.getHost(this.id)};t.getService=function(){this.service=y.getService(this.service_id);y.showHostSubNavigation("host",this.service.host_id,this.service.hostname)};t.getPlugin=function(){this.plugin=y.get("/plugins/"+this.service.plugin)};t.getStats=function(){this.stats=y.get("/services/"+this.service_id+"/location-stats")};t.getLocations=function(){var e=this,t=y.get("/locations");this.locations={};$.each(t,function(t,a){e.locations[a.hostname]=a})};t.createContainer=function(){this.container=a.create("div").appendTo("#content");var e=this.getContentSize(),t=Math.floor(e.width/3*2),i=Math.floor(e.width-t);this.timeChartBox=this.createBox(this.avgTimeChartContainer);this.eventBox=this.createBox(this.eventTableContainer);this.minMaxTimeBox=this.createBox(this.mmTimeChartContainer);this.eventChartBox=this.createBox(this.eventChartContainer);this.resizeContainer();this.enableAutoResize()};t.enableAutoResize=function(){var e=this;$(window).resize(function(){e.resizeContainer()})};t.resizeContainer=function(){var e=this.getContentSize(),t=Math.floor(e.width/3),a=t*2-this.boxMargin*2,i=t-this.boxMargin*2;a+="px";i+="px";this.timeChartBox.css({width:a,height:"500px","float":"left"});this.eventBox.css({width:i,"min-height":"800px","float":"right"})};t.getContentSize=function(){var e=$("#content").width()-20,t=$(window).height()-$("#content").offset().top;if($("#footer").length){t-=$("#footer").outerHeight()}return{width:e,height:t}};t.createBox=function(e){return a.create("div").attr("id",e).css({"vertical-align":"top",margin:this.boxMargin+"px"}).appendTo(this.container)};t.generateTimeCharts=function(){y.plotChart({chart:{container:this.avgTimeChartContainer,title:this.host.hostname+" :: "+this.service.service_name,subtitle:"HTTP location AVG statistics",ylabel:"time",type:"area"},series:[{data:this.stats.avgstats.time,name:"time",yAxis:0,color:"rgba("+a.hexToRGB("#005467").join(",")+",0.8)"}],colors:{time:"#005467"},hasNegativeValues:false})};t.generateEventTable=function(){var e=this,t=new h({appendTo:this.eventBox}).init();t.addHeadColumn("Status");t.addHeadColumn("Time");t.addHeadColumn("Respone time");t.addHeadColumn("");$.each(this.stats.events,function(i,s){$.each(s.data,function(i,n){var r=y.createInfoIcon({type:n.status}),o=e.locations[n.hostname],c=g(s.time*1,g.masks.bloonix),l;var h=y.flag(o.country_code).attr("title",o.continent+" - "+o.city+" - "+o.ipaddr).tooltip({track:true});if(n.stats&&n.stats.time){l=Math.floor(n.stats.time)+" ms"}else{l=a.create("div").attr("title",n.message).css({color:"#12a0be",cursor:"default"}).tooltip({track:true}).text(n.message.substr(0,20)+"...")}t.createRow([r,c,l,h])})})};t.create();return t};y.viewServiceWtrmReport=function(e){var t=a.extend({appendTo:"#content",postdata:{offset:0,limit:25}},e);t.create=function(){this.getService();this.createStruct();this.createHeader();this.getWtrmResultData()};t.getService=function(){this.service=y.getService(this.service_id);y.showHostSubNavigation("host",this.service.host_id,this.service.hostname)};t.createStruct=function(){this.headerBox=a.create("div").appendTo(this.appendTo);this.resultBox=a.create("div").addClass("w40 left").appendTo(this.appendTo);this.stepBoxOuter=a.create("div").addClass("w60 left").appendTo(this.appendTo);this.stepBoxInner=a.create("div").css({"padding-left":"10px"}).appendTo(this.stepBoxOuter);this.chartBoxId="chart-box-wtrm";this.chartBox=a.create("div").attr("id",this.chartBoxId).css({height:"250px"}).appendTo(this.stepBoxInner);a.create("span").addClass("info-simple").css({margin:"40px 20px"}).html(c.get("site.wtrm.text.click_for_details")).appendTo(this.chartBox);this.stepBox=a.create("div").appendTo(this.stepBoxInner)};t.createHeader=function(){this.header=new x({appendTo:this.headerBox,title:c.get("site.wtrm.text.service_report",this.service.service_name,true),pager:true}).create()};t.getWtrmResultData=function(){var e=this;this.table=new h({url:"/wtrm/report/"+this.service.id,appendTo:this.resultBox,postdata:this.postdata,searchable:false,selectable:false,pager:{appendTo:this.header.pager},onClick:function(t){e.showResultSteps(t)},columns:[{name:"time",text:c.get("schema.event.attr.time")},{name:"status",text:c.get("schema.event.attr.status"),wrapIconClass:true},{name:"message",text:c.get("schema.service.attr.message")}]}).create()};t.showResultSteps=function(e){this.stepBox.hide();this.stepBox.html("");if(this.chart){this.chart.destroy();this.chartBox.html("")}var t=new h({appendTo:this.stepBox}).init(),i=[],s=[];t.addHeadColumn("Step");t.addHeadColumn("Action");t.addHeadColumn("Status");t.addHeadColumn("Took");$.each(e.data,function(e,n){var r=t.createRow();var o=n.data,c=o.step,l=e+1,h=o.success===true?"ok":"error";var d=/^do/.test(c.action)?"wtrm-step-command wtrm-action":"wtrm-step-command wtrm-check";t.addColumn({html:l+"."});var m=t.addColumn({addClass:d,html:y.WtrmAction[c.action](c)});if(h=="error"){if(o.message){a.create("div").text(o.message).appendTo(m)}if(o.debug){$.each(o.debug,function(e){o.debug[e]=a.escape(o.debug[e])});a.create("div").html(o.debug.join("<br/>")).appendTo(m)}}t.addColumn({addClass:"wtrm-step-result",html:a.create("span").addClass("wtrm-step-result-"+h).text(h)});t.addColumn({addClass:"wtrm-step-result",html:a.create("span").addClass("wtrm-step-result-took").text(o.took+"ms")});s.push(l+".");i.push(o.took)});this.stepBox.fadeIn(400);this.createChart({title:e.time+" - "+e.message,categories:s,seriesData:i})};t.createChart=function(e){this.chart=y.createChartForWTRM({chart:{container:this.chartBoxId,title:c.get("schema.service.text.wtrm_result_steps"),subtitle:e.title},categories:e.categories,seriesData:e.seriesData})};t.create();return t};y.editHostTemplates=function(e){var t=$("#content"),a=y.getHost(e.id),i=y.get("/hosts/"+e.id+"/templates");y.showHostSubNavigation("templates",a.id,a.hostname);var s=y.createSideBySideBoxes({container:t,width:"500px",marginLeft:"520px"});new x({title:c.get("schema.host.text.list_templates",a.hostname,true),appendTo:s.left,rbox:false}).create();new h({appendTo:s.left,deletable:{title:c.get("schema.host.action.remove_template"),url:"/hosts/"+e.id+"/templates/remove/:id",result:["id","name","description"],warning:c.get("schema.host.text.remove_template_warning"),successCallback:function(){y.route.to("monitoring/hosts/"+e.id+"/templates")}},values:i.is_member_in,columns:[{name:"id",text:c.get("schema.host_template.attr.id"),hide:true},{name:"name",text:c.get("schema.host_template.attr.name"),call:function(e){return y.call("monitoring/templates/"+e.id+"/services",e.name)}},{name:"description",text:c.get("schema.host_template.attr.description")}]}).create();new x({title:c.get("schema.host.text.templates_not_assigned"),appendTo:s.right}).create();var n=[];$.each(i.is_not_member_in,function(e,t){n.push({name:t.name,value:t.id})});var r=new l({appendTo:s.right,url:{submit:"/hosts/"+e.id+"/templates/add"},onSuccess:function(){y.route.to("monitoring/hosts/"+e.id+"/templates")}}).init();r.multiselect({name:"host_template_id",size:10,options:n,appendTo:r.getContainer()});r.button({appendTo:r.getContainer(),text:c.get("action.add")})};y.viewHostDashboard=function(e){y.initHostView();y.loadHost(e.id)};y.initHostView=function(){a.create("div").attr("id","b2x-left").addClass("b2x-left").appendTo("#content");a.create("div").attr("id","b2x-right").addClass("b2x-right").appendTo("#content");a.create("div").addClass("loading").appendTo("#b2x-right");a.create("div").addClass("clear").appendTo("#content")};y.loadHost=function(t){e.debug("load host "+t);var a=y.getHost(t);var i=y.getServicesByHostId(t);y.viewHost(a);y.viewServices(a,i);y.showHostSubNavigation("host",t,a.hostname);$("#b2x-right").find(".loading").remove()};y.viewHost=function(e){y.setTitle("schema.host.text.view",e.hostname);new x({title:c.get("schema.host.text.view",e.hostname,true),appendTo:"#b2x-left"}).create();y.createHoverBoxIcons({container:"#b2x-left",icons:[{type:"remove",title:c.get("action.delete"),callback:function(){y.deleteHost(e)}},{type:"edit",title:c.get("action.edit"),route:"monitoring/hosts/"+e.id+"/edit"}]});var t=a.create("table").addClass("vtable").appendTo("#b2x-left");$.each(["id","company","hostname","ipaddr","description","comment","status","last_check","active","notification","interval","timeout","max_sms","max_services","allow_from","location","sysgroup","sysinfo","device_class","hw_manufacturer","hw_product","os_manufacturer","os_product","virt_manufacturer","virt_product"],function(i,s){if(e[s]==""){return true}var n=a.create("tr");var r=s=="company"?"schema.company.attr."+s:"schema.host.attr."+s;a.create("th").html(c.get(r)).appendTo(n);if(s=="last_check"){var o=new Date(e[s]*1e3);a.create("td").html(g(o,g.masks.bloonix)).appendTo(n)}else if(s=="active"||s=="notification"){var l=e[s]=="0"?"word.no":"word.yes";a.create("td").html(c.get(l)).appendTo(n)}else if(s=="status"){a.create("td").html(a.create("div").addClass("status-base status-"+e.status+" inline").text(e.status)).appendTo(n)}else{a.create("td").text(e[s]).appendTo(n)}n.appendTo(t)})};y.deleteHost=function(e){var a=new h({type:"vtable"}).init();a.createFormRow(c.get("schema.host.attr.id"),e.id);a.createFormRow(c.get("schema.host.attr.hostname"),e.hostname);a.createFormRow(c.get("schema.host.attr.ipaddr"),e.ipaddr);new b({title:c.get("schema.host.text.delete"),content:a.getContainer(),buttons:[{content:c.get("action.delete"),callback:function(){t.post({url:"/administration/hosts/"+e.id+"/delete",async:false,token:true,success:function(e){if(e.status=="ok"){y.route.to("monitoring/hosts")}}})}}]}).create()};y.viewServices=function(e,t){y.listServices({host:e,services:t,appendTo:"#b2x-right",forHostView:true});a.create("div").addClass("clear").appendTo("#b2x-right")};y.viewExtServiceData=function(e){var t=a.create("div").addClass("a-divbox");var i=["id","agent_id","description","acknowledged","notification","flapping","scheduled"];$.each(i,function(i,s){var n="schema.service.attr."+s,r;a.create("span").addClass("a-th").html(c.get(n)+":&nbsp;").appendTo(t);if(s=="acknowledged"||s=="notification"||s=="flapping"||s=="scheduled"){var o=e[s]==0?"word.no":"word.yes";r=c.get(o)}else{r=e[s]}a.create("span").addClass("a-td").text(r).appendTo(t);a.create("br").appendTo(t)});return t};y.viewHostDowntimes=function(e){var t=e;t.host=y.getHost(e.id);t.init=function(){var e=this;this.container=$("#content");this.container.html("");y.showHostSubNavigation("downtimes",this.host.id,this.host.hostname);this.boxes=y.createSideBySideBoxes({container:this.container,width:"350px",marginLeft:"360px"});new x({title:c.get("schema.hs_downtime.text.create"),appendTo:this.boxes.left,rbox:false}).create();this.form=y.createScheduledDowntime({url:"/hosts/"+this.host.id+"/downtimes/create",services:y.getServicesByHostId(this.host.id),callback:function(){y.viewHostDowntimes({id:e.host.id})}});this.form.container.appendTo(this.boxes.left);this.hostTable=new h({url:"/hosts/"+this.host.id+"/downtimes",appendTo:this.boxes.right,header:{appendTo:this.boxes.right,title:c.get("schema.host_downtime.text.title",this.host.hostname,true),icons:[{type:"help",callback:function(){a.open("/#help/scheduled-downtimes")},title:c.get("site.help.doc.scheduled-downtimes")}]},deletable:{title:c.get("schema.hs_downtime.text.delete"),url:"/hosts/"+this.host.id+"/downtimes/:id/delete",result:["id","description"]},columns:[{name:"id",text:c.get("schema.hs_downtime.attr.id")},{name:"begin",text:c.get("schema.hs_downtime.attr.begin_time")},{name:"end",text:c.get("schema.hs_downtime.attr.end_time")},{name:"timeslice",text:c.get("schema.hs_downtime.attr.timeslice")},{name:"description",text:c.get("schema.hs_downtime.attr.description")},{name:"active",text:"",activeFlag:true}]}).create();this.serviceTable=new h({url:"/hosts/"+this.host.id+"/services/downtimes",appendTo:this.boxes.right,header:{appendTo:this.boxes.right,title:c.get("schema.service_downtime.text.title",this.host.hostname,true),css:{"margin-top":"30px"}},deletable:{title:c.get("schema.hs_downtime.text.delete"),url:"/hosts/"+this.host.id+"/services/:service_id/downtimes/:id/delete",result:["id","service_name","description"]},columns:[{name:"id",text:c.get("schema.hs_downtime.attr.id")},{name:"service_name",text:c.get("schema.service.attr.service_name")},{name:"begin",text:c.get("schema.hs_downtime.attr.begin_time")},{name:"end",text:c.get("schema.hs_downtime.attr.end_time")},{name:"timeslice",text:c.get("schema.hs_downtime.attr.timeslice")},{name:"description",text:c.get("schema.hs_downtime.attr.description")},{name:"active",text:"",activeFlag:true}]}).create()};t.init()};y.createScheduledDowntime=function(e){var i=a.extend({url:false,callback:false},e);i.create=function(){var e=this;this.cache={};var t=a.create("div").addClass("form-options");var i=new p({appendTo:t,store:{to:this.cache,as:"timetype"}}).create();var s=a.create("form").appendTo(t);var n=new l({format:"medium"});var r=a.create("div").addClass("form-row").appendTo(s);a.create("p").addClass("form-row-desc").html(c.get("schema.hs_downtime.attr.begin_time")).appendTo(r);n.datetime({name:"begin",appendTo:r,placeholder:c.get("schema.hs_downtime.attr.begin_time")});a.create("p").addClass("form-row-desc").html(c.get("schema.hs_downtime.attr.end_time")).appendTo(r);n.datetime({name:"end",appendTo:r,placeholder:c.get("schema.hs_downtime.attr.end_time")});i.add({text:c.get("word.Absolute"),value:"absolute",container:r,show:true});var h=a.create("div").addClass("form-row").appendTo(s);a.create("p").addClass("form-row-desc").html(c.get("schema.hs_downtime.attr.timeslice")).appendTo(h);n.input({name:"timeslice",placeholder:c.get("schema.hs_downtime.attr.timeslice"),bubbleAlignment:"center right",bubbleWidth:"650px",description:c.get("schema.timeperiod.examples"),maxlength:200,appendTo:h});i.add({text:c.get("word.Timeslice"),value:"timeslice",container:h});var d=a.create("div").addClass("form-row").appendTo(s);a.create("p").addClass("form-row-desc").html(c.get("word.Preset")).appendTo(d);n.iconList({name:"preset",checked:"1h",appendTo:d,even:true,buttonsPerRow:4,options:[{value:"1h",title:c.get("text.from_now_to_1h"),checked:true},{value:"2h",title:c.get("text.from_now_to_2h")},{value:"4h",title:c.get("text.from_now_to_4h")},{value:"8h",title:c.get("text.from_now_to_8h")},{value:"1d",title:c.get("text.from_now_to_1d")},{value:"2d",title:c.get("text.from_now_to_2d")},{value:"4d",title:c.get("text.from_now_to_4d")},{value:"7d",title:c.get("text.from_now_to_7d")}]});i.add({text:"Preset",value:"preset",container:d});var m=a.create("div").addClass("form-row").appendTo(s);a.create("p").addClass("form-row-desc").html(c.get("schema.hs_downtime.attr.timezone")).appendTo(m);n.select({name:"timezone",selected:y.user.timezone,options:o(),maxHeight:"126px",appendTo:m});var u=a.create("div").addClass("form-row").appendTo(s);a.create("p").addClass("form-row-desc").html(c.get("schema.hs_downtime.attr.description")).appendTo(u);n.input({name:"description",maxlength:300,appendTo:u,placeholder:c.get("schema.hs_downtime.attr.description")});if(this.services){var f=a.create("div").addClass("form-row").appendTo(s);a.create("p").addClass("form-row-desc").html(c.get("schema.hs_downtime.text.select_services")).appendTo(f);var v=[];$.each(this.services,function(e,t){v.push({name:t.service_name,value:t.id})});n.multiselect({name:"service_id",options:v,appendTo:f})}var g=a.create("div").addClass("form-row").appendTo(s);n.button({text:c.get("action.create"),appendTo:g,callback:function(){e.submit()}});n.form=s;this.container=t;this.form=n;this.menu=i};i.submit=function(){var e=this,i=this.form.getData();var s=a.extend({description:i.description,timezone:i.timezone,type:this.cache.timetype},this.data);if(i.service_id){s.service_id=i.service_id}if(this.cache.timetype=="absolute"){s.begin=i.begin;s.end=i.end}else if(this.cache.timetype=="timeslice"){s.timeslice=i.timeslice}else if(this.cache.timetype=="preset"){s.preset=i.preset}if(this.url){t.post({url:this.url,data:s,token:true,success:function(t){if(t.status=="err-610"){e.form.markErrors(t.data.failed)}else if(t.status=="ok"){if(e.callback){e.callback(t,s)}}}})}else if(this.callback){this.callback(s)}};i.create();return i};y.listServices=function(e){var t=a.extend({postdata:{offset:0,limit:y.requestSize},appendTo:"#content"},e);if(t.query){t.postdata.query=t.query}t.action=function(e){var t=this,i=this.table.getSelectedIds();if(i.length==0){y.createNoteBox({text:c.get("schema.service.text.multiple_help")});return}var s=new b;s.content=a.create("div");if(e==0){s.title=c.get("schema.service.text.multiple_downtimes");s.visible=true;var n=y.createScheduledDowntime({url:"/services/create-downtime/",data:{service_id:i},callback:function(){t.table.getData();s.close()}});n.container.appendTo(s.content)}else if(e==1){s.title=c.get("schema.service.text.multiple_notification");a.create("div").addClass("btn btn-white btn-medium").html(c.get("schema.service.action.disable_notifications_multiple")).appendTo(s.content).click(function(){y.hostServiceAction("/services/disable-notification/",{service_id:i});t.table.getData();s.close()});a.create("div").addClass("btn btn-white btn-medium").html(c.get("schema.service.action.enable_notifications_multiple")).appendTo(s.content).click(function(){y.hostServiceAction("/services/enable-notification/",{service_id:i});t.table.getData();s.close()})}else if(e==2){s.title=c.get("schema.service.text.multiple_activate");a.create("div").addClass("btn btn-white btn-medium").html(c.get("schema.service.action.deactivate_multiple")).appendTo(s.content).click(function(){y.hostServiceAction("/services/deactivate/",{service_id:i});t.table.getData();s.close()});a.create("div").addClass("btn btn-white btn-medium").html(c.get("schema.service.action.activate_multiple")).appendTo(s.content).click(function(){y.hostServiceAction("/services/activate/",{service_id:i});t.table.getData();s.close()})}else if(e==3){s.title=c.get("schema.service.text.multiple_acknowledge");a.create("div").addClass("btn btn-white btn-medium").html(c.get("schema.service.action.acknowledge_multiple")).appendTo(s.content).click(function(){y.hostServiceAction("/services/acknowledge",{service_id:i});t.table.getData();s.close()});a.create("div").addClass("btn btn-white btn-medium").html(c.get("schema.service.action.clear_acknowledgement_multiple")).appendTo(s.content).click(function(){y.hostServiceAction("/services/clear-acknowledgement",{service_id:i});t.table.getData();s.close()})}else if(e==4){s.title=c.get("schema.service.text.multiple_volatile");a.create("div").addClass("btn btn-white btn-medium").html(c.get("schema.service.action.clear_volatile_multiple")).appendTo(s.content).click(function(){y.hostServiceAction("/services/clear-volatile-status/",{service_id:i});t.table.getData();s.close()})}else if(e==5){s.title=c.get("schema.service.text.multiple_force_next_check");a.create("div").addClass("btn btn-white btn-medium").html(c.get("schema.service.action.multiple_force_next_check")).appendTo(s.content).click(function(){y.hostServiceAction("/services/force-next-check/",{service_id:i});t.table.getData();s.close()})}s.create()};t.create=function(){this.createFooterIcons();if(this.forHostView===true){this.createHostServiceTable()}else{this.createServiceTable()}};t.createFooterIcons=function(){var e=this;a.create("span").attr("title",c.get("schema.service.text.multiple_downtimes")).tooltip().addClass("footer-button").html(a.create("div").addClass("hicons-white hicons time")).appendTo("#footer-left").click(function(){e.action(0)});a.create("span").attr("title",c.get("schema.service.text.multiple_notification")).tooltip().addClass("footer-button").html(a.create("div").addClass("hicons-white hicons envelope")).appendTo("#footer-left").click(function(){e.action(1)});a.create("span").attr("title",c.get("schema.service.text.multiple_activate")).tooltip().addClass("footer-button").html(a.create("div").addClass("hicons-white hicons remove-sign")).appendTo("#footer-left").click(function(){e.action(2)});a.create("span").attr("title",c.get("schema.service.text.multiple_acknowledge")).tooltip().addClass("footer-button").html(a.create("div").addClass("hicons-white hicons ok-sign")).appendTo("#footer-left").click(function(){e.action(3)});a.create("span").attr("title",c.get("schema.service.text.multiple_volatile")).tooltip().addClass("footer-button").html(a.create("div").addClass("hicons-white hicons exclamation-sign")).appendTo("#footer-left").click(function(){e.action(4)});a.create("span").attr("title",c.get("schema.service.text.multiple_force_next_check")).tooltip().addClass("footer-button").html(a.create("div").addClass("hicons-white hicons refresh")).appendTo("#footer-left").click(function(){e.action(5)});this.counterButton=a.create("span").attr("title",c.get("text.selected_objects")).tooltip().addClass("footer-button").text("0").hide().appendTo("#footer-left")};t.createServiceTable=function(){y.setTitle("schema.service.text.list");this.table=new h({url:"/services/list/",postdata:this.postdata,appendTo:this.appendTo,header:{title:c.get("schema.service.text.list"),pager:true,search:true},selectable:{result:["id","hostname","service_name"],counter:{update:this.counterButton}},searchable:{url:"/services/search/",result:["id","hostname","service_name","status","message"],value:this.postdata.query},reloadable:true,sortable:true,columnSwitcher:true,rowHoverIcons:[{title:c.get("schema.service.text.clone"),icon:"share",onClick:this.cloneService}],columns:[{name:"id",text:c.get("schema.service.attr.id"),hide:true},{name:"hostname",text:c.get("schema.host.attr.hostname"),call:function(e){return y.call("monitoring/hosts/"+e.host_id,e.hostname)}},{name:"service_name",text:c.get("schema.service.attr.service_name")},{icons:this.getStatusIcons()},{name:"command",text:c.get("schema.service.attr.command"),hide:true},{name:"plugin",text:c.get("schema.service.attr.plugin")},{name:"agent_id",text:c.get("schema.service.attr.agent_id"),hide:true},{name:"description",text:c.get("schema.service.attr.description"),hide:true},{name:"active",text:c.get("schema.service.attr.active"),hide:true,bool:"yn"},{name:"acknowledged",text:c.get("schema.service.attr.acknowledged"),hide:true,bool:"yn"},{name:"notification",text:c.get("schema.service.attr.notification"),hide:true,bool:"yn"},{name:"flapping",text:c.get("schema.service.attr.flapping"),hide:true,bool:"yn"},{name:"scheduled",text:c.get("schema.service.attr.scheduled"),hide:true,bool:"yn"},{name:"status",text:c.get("schema.service.attr.status"),wrapValueClass:true},{name:"last_check",text:c.get("schema.service.attr.last_check"),convertFromUnixTime:true},{text:c.get("schema.service.text.attempt"),call:function(e){return[e.attempt_counter,e.attempt_max].join("/")}},{name:"message",text:c.get("schema.service.attr.message")}]}).create()};t.createHostServiceTable=function(){var e=this,t=this.host,i=this.services,s=this.appendTo,n=this.getStatusIcons();n.push({check:function(e){return false;if(e.location_options!="0"){if(e.location_options.check_type=="rotate"){return true}}return false},icon:"cicons report2",title:c.get("schema.service.text.view_location_report"),onClick:function(e){y.route.to("monitoring/hosts/"+e.host_id+"/services/"+e.id+"/report")}});n.push({check:function(e){return e.plugin_id=="58"?true:false},icon:"cicons atom",title:c.get("schema.service.text.view_wtrm_report"),onClick:function(e){y.route.to("monitoring/hosts/"+e.host_id+"/services/"+e.id+"/wtrm-report")}});n.push({check:function(e){return e.host_template_name?true:false},icon:"cicons template2",title:function(e){return c.get("schema.service.info.inherits_from_host_template",a.escape(e.host_template_name))}});this.table=new h({url:"/hosts/"+t.id+"/services",header:{appendTo:s,title:c.get("schema.service.text.title"),icons:[{type:"help",callback:function(){a.open("/#help/add-new-service")},title:c.get("site.help.doc.add-new-service")},{type:"create",callback:function(){y.route.to("monitoring/hosts/"+t.id+"/services/create")},title:c.get("schema.service.text.create")}]},selectable:{result:["id","service_name"],counter:{update:this.counterButton}},searchable:false,appendTo:s,values:i,reloadable:{callback:function(){y.route.to("monitoring/hosts/"+t.id)}},deletable:{title:c.get("schema.service.text.delete"),url:"/hosts/:host_id/services/:id/delete",result:["id","service_name","plugin"],check:function(e){return e.host_template_name?false:true}},columnSwitcher:true,rowHoverIcons:[{title:c.get("schema.service.text.clone"),icon:"share",onClick:e.cloneService}],columns:[{name:"id",text:c.get("schema.service.attr.id"),hide:true},{name:"service_name",text:c.get("schema.service.attr.service_name"),call:function(e){if(e.host_template_name){return e.service_name}return y.call("monitoring/hosts/"+e.host_id+"/services/"+e.id+"/edit",e.service_name)}},{icons:n},{name:"plugin",text:c.get("schema.service.attr.plugin"),hide:true},{name:"agent_id",text:c.get("schema.service.attr.agent_id"),hide:true},{name:"status",text:c.get("schema.service.attr.status"),wrapValueClass:true},{name:"attempt_max",text:c.get("schema.service.text.attempt"),value:function(e){return e.attempt_counter+"/"+e.attempt_max},centered:true},{name:"last_check",text:c.get("schema.service.attr.last_check"),convertFromUnixTime:true},{name:"host_template_name",text:c.get("schema.service.text.host_template"),hide:true,call:function(e){if(e.host_template_name){return y.call("monitoring/templates/"+e.host_template_id+"/services",e.host_template_name)}return"─"}},{name:"message",text:c.get("schema.service.attr.message")}]}).create()};t.cloneService=function(e){var t=a.create("div");var i=new b({title:c.get("schema.service.text.clone_service",e.service_name,true),content:t});var s=a.create("div").appendTo(t);var n=a.create("div").appendTo(t).hide();a.create("div").addClass("btn btn-white btn-medium").html(c.get("schema.service.text.clone_to_the_same_host")).appendTo(s).click(function(){i.close();y.route.to("monitoring/hosts/"+e.host_id+"/services/"+e.id+"/clone-to/"+e.host_id)});a.create("div").addClass("btn btn-white btn-medium").html(c.get("schema.service.text.clone_select_host")).appendTo(s).click(function(){s.hide();n.html("").show();i.setWidth("1000px");new h({url:"/hosts",postdata:{offset:0,limit:20},appendTo:n,sortable:true,header:{title:c.get("schema.service.text.clone_select_host"),pager:true,search:true,appendTo:n},searchable:{url:"/hosts/search/",result:["id","hostname","ipaddr"]},onClick:function(t){i.close();y.route.to("monitoring/hosts/"+e.host_id+"/services/"+e.id+"/clone-to/"+t.id)},columns:[{name:"id",text:c.get("schema.host.attr.id")},{name:"hostname",text:c.get("schema.host.attr.hostname")},{name:"ipaddr",text:c.get("schema.host.attr.ipaddr")}]}).create()});i.create()};t.getStatusIcons=function(){var e=this;return[{check:function(e){return e.notification=="0"?true:false},icon:"cicons mute",title:c.get("schema.service.info.notification")},{check:function(e){return e.active=="0"?true:false},icon:"cicons disabled",title:c.get("schema.service.info.active")},{check:function(e){return e.acknowledged=="1"?true:false},icon:"cicons noalarm",title:c.get("schema.service.info.acknowledged")},{check:function(e){return e.flapping=="1"?true:false},icon:"cicons attention",title:c.get("schema.service.info.flapping")},{check:function(e){return e.volatile_status=="1"?true:false},icon:"cicons lightning",title:c.get("schema.service.info.is_volatile")},{check:function(e){return e.host_alive_check=="1"?true:false},icon:"cicons host",title:c.get("schema.service.info.host_alive_check")},{check:function(e){if(e.plugin_id=="58"){return false}return y.checkIfObject(e.result)},icon:"cicons robot",title:c.get("schema.service.info.has_result"),onClick:function(e){y.showServiceResultData(e.plugin,e.result)}},{check:function(e){return y.checkIfObject(e.debug)},icon:"cicons light-on",title:c.get("schema.service.info.has_result"),onClick:function(e){y.showServiceDebugData(e.debug)}}]};t.create();return t};y.formatNiceJsonOutput=function(e){e=a.escapeAndSyntaxHightlightJSON(e);var t=a.create("pre").addClass("service-result").html(e);return t};y.searchServices=function(e){y.route.to("monitoring/services",{query:e})};y.getServicesByHostId=function(e){return y.get("/hosts/"+e+"/services")};y.getService=function(e){return y.get("/services/"+e)};y.getServicesForSelection=function(e){var t=y.getServicesByHostId(e);var a=[];$.each(t,function(e,t){a.push({name:t.service_name,value:t.id})});return a};y.showServiceResultData=function(e,t){var i=a.create("div");var s=new h({appendTo:i}).init();s.addHeadColumn(c.get("schema.host.attr.hostname"));s.addHeadColumn(c.get("schema.service.attr.status"));s.addHeadColumn(c.get("schema.service.attr.message"));$.each(t,function(e,t){s.createRow([t.hostname,a.create("span").addClass("status-base status-"+t.status).text(t.status),a.escape(t.message)])});new b({title:c.get("schema.service.attr.result"),content:i}).create()};y.showServiceDebugData=function(e){var t=a.create("div");if(e.ipaddr){a.create("p").css({"font-size":"14px","font-weight":"bold","margin-bottom":"10px"}).text("Target IP-Address: "+e.ipaddr).appendTo(t)}$.each(["mtr","http-header","html-content"],function(i,s){var n=e[s];if(n===undefined||n.length===0){return true}var r=a.create("div").css({padding:"0 20px 30px 0","float":"left"}).appendTo(t);var o=a.create("h4").css({padding:"0 0 10px 0"}).appendTo(r);if(s==="mtr"){r.width("470px");o.text("MTR-Result");y.viewMtrResult({appendTo:r,data:n.result,showChart:false})}if(s==="http-header"){r.width("470px");o.text("HTTP-Header");var c=new h({appendTo:r,type:"simple",addClass:"vtable small"}).init();$.each(n,function(e,t){c.createRow([e,t])})}if(s==="html-content"){r.width("970px");o.text("HTML-Content");a.create("pre").css({color:"green","font-size":"11px"}).text(n).appendTo(r)}});var i=c.get("schema.service.attr.result");
if(e.ipaddr){i+=", IP: "+e.ipaddr}new b({title:i,content:t}).create()};y.listCharts=function(i){y.showChartsSubNavigation("service-charts");var s=a.extend({container:$("#content"),defaultAlignment:3,cache:{},postdata:{offset:0,limit:y.requestSize}},i);s.create=function(){this.chartOptionBox=a.create("div").appendTo(this.container);this.chartChartBox=a.create("div").appendTo(this.container);this.chartViewAlias="";if(this.screenCharts){this.chartOptionBox.hide();this.createScreenCharts();return}this.chartChartBox.hide();this.createTitleAndNavigation();this.createBoxes();this.getChartOptions();this.createChartOptions();this.createChartSelectionInfoBox();this.createServiceChartList();this.createUserChartList()};s.createTitleAndNavigation=function(){if(this.id){this.host=y.getHost(this.id);y.showHostSubNavigation("charts",this.id,this.host.hostname);y.setTitle("schema.chart.text.select",this.host.hostname)}else{y.setTitle("schema.chart.text.multiselect")}};s.createBoxes=function(){this.boxes=y.createSideBySideBoxes({container:this.chartOptionBox,width:"300px",marginLeft:"310px"});if(this.id){this.serviceChartContainer=this.boxes.right}else{this.serviceChartContainer=a.create("div").appendTo(this.boxes.right);this.userChartContainer=a.create("div").appendTo(this.boxes.right).hide()}};s.getChartOptions=function(){this.chartOptions=y.get("/hosts/charts/options/")};s.createChartOptions=function(){this.createFormHeader();if(this.id===undefined){this.createChartTypeOptions()}this.createForm();this.createChartOptionsTimeMenu();this.createRefreshOptions();this.createPresetOptions();this.createFixedTimeOptions();this.createChartAlignmentOptions();this.createButtons();this.createChartLoaderOptions()};s.createFormHeader=function(){new x({title:c.get("schema.chart.attr.options"),appendTo:this.boxes.left,rbox:false}).create()};s.createForm=function(){this.form=new l({format:"default",appendTo:this.boxes.left});this.form.init();this.leftContainer=this.form.getContainer()};s.createChartTypeOptions=function(){var e=this;a.create("p").addClass("chart-options-title").html(c.get("schema.chart.text.chart_type")).appendTo(this.boxes.left);y.createIconList({items:[{name:c.get("schema.chart.text.service_charts"),value:"service-charts","default":true},{name:c.get("schema.chart.text.user_charts"),value:"user-charts"}],format:"small",appendTo:this.boxes.left,callback:function(t){if(t==="service-charts"){e.userChartContainer.hide();e.serviceChartContainer.show()}else{e.serviceChartContainer.hide();e.userChartContainer.show()}}})};s.createChartOptionsTimeMenu=function(){this.menu=new p({appendTo:this.leftContainer,store:{to:this.cache,as:"timetype"}}).create();this.absoluteTimeContainer=a.create("div").appendTo(this.leftContainer);this.relativeTimeContainer=a.create("div").appendTo(this.leftContainer);this.menu.add({text:c.get("word.Relative"),value:"relative",container:this.relativeTimeContainer,show:true});this.menu.add({text:c.get("word.Absolute"),value:"absolute",container:this.absoluteTimeContainer})};s.createRefreshOptions=function(){var e=[];$.each(this.chartOptions.options.refresh,function(t,a){e.push({name:a+"s",value:a})});a.create("p").addClass("chart-options-title").html(c.get("schema.chart.attr.refresh")).appendTo(this.relativeTimeContainer);this.refreshFormOptions=this.form.iconList({name:"refresh",options:e,appendTo:this.relativeTimeContainer,checked:this.chartOptions.defaults.refresh,even:true})};s.createPresetOptions=function(){a.create("p").addClass("chart-options-title").html(c.get("schema.chart.attr.preset")).appendTo(this.relativeTimeContainer);this.presetFormOptions=this.form.iconList({name:"preset",options:this.chartOptions.options.preset,appendTo:this.relativeTimeContainer,checked:this.chartOptions.defaults.preset,even:true})};s.createFixedTimeOptions=function(){this.fromFormOption=this.form.datetime({placeholder:c.get("schema.chart.attr.from"),name:"from",format:"small",timeFormat:"hh:mm",stepMinute:15,appendTo:this.absoluteTimeContainer});this.toFormOption=this.form.datetime({placeholder:c.get("schema.chart.attr.to"),name:"to",format:"small",timeFormat:"hh:mm",stepMinute:15,appendTo:this.absoluteTimeContainer})};s.createChartAlignmentOptions=function(){a.create("p").addClass("chart-options-title").html(c.get("schema.chart.text.alignment")).appendTo(this.leftContainer);this.alignmentFormOptions=this.form.iconList({name:"alignment",options:[{value:3,icon:"hicons-gray hicons th"},{value:2,icon:"hicons-gray hicons th-large"},{value:1,icon:"hicons-gray hicons align-justify"}],appendTo:this.leftContainer,even:true,checked:this.defaultAlignment})};s.createButtons=function(){var e=this;this.buttonBox=a.create("div").css({"margin-top":"20px"}).appendTo(this.leftContainer);this.submitButton=a.create("div").addClass("btn btn-white btn-default").click(function(){e.generateCharts()}).html(c.get("action.generate")).css({"margin-right":"6px"}).appendTo(this.buttonBox).attr("title",c.get("action.generate")).tooltip()};s.createChartLoaderOptions=function(){if(this.id){return}var e=this,t=[];$.each(this.chartOptions.views,function(e,a){t.push({name:a.alias,value:a.id})});this.saveChartBox=a.create("div").css({"margin-top":"20px"}).addClass("save-chart").appendTo(this.boxes.left);a.create("p").addClass("chart-options-title").html(c.get("schema.chart.text.chart_views")).appendTo(this.saveChartBox);this.cache.chartSelection=new l({format:"small"}).select({placeholder:c.get("schema.chart.text.load_view"),name:"chart_view",id:"chart-view-list",options:t,callback:function(t){e.loadChartView(t)},appendTo:this.saveChartBox,showValue:true});a.create("div").attr("title",c.get("schema.chart.text.delete_view")).addClass("btn btn-white btn-icon").click(function(){e.deleteChartView()}).html(a.create("span").addClass("hicons-gray hicons remove")).appendTo(this.saveChartBox).tooltip();a.create("div").addClass("clear").appendTo(this.saveChartBox)};s.saveChartView=function(){var e=this,a=$("#chart-view-alias").val();if(a==undefined||a==false){$("#chart-view-alias").addClass("rwb");return false}$("#chart-view-alias").removeClass("rwb");var i={alignment:this.chartFormOptions.alignment,alias:a,selected:[]};if(this.cache.timetype=="relative"){i.refresh=this.chartFormOptions.refresh;i.preset=this.chartFormOptions.preset}else if(this.validateChartOptions(this.chartFormOptions)==true){i.from=this.chartFormOptions.from;i.to=this.chartFormOptions.to}else{return false}$.each(this.chartColumnIDs,function(e,t){e+=1;$(t).find(".chart-outer").each(function(t,a){var s=$(a).data("chart");s.position=e;i.selected.push(s)})});t.post({url:"/hosts/charts/view/save/",data:i,async:false,success:function(t){if(t.status==="ok"){e.reloadChartViews(a);y.createNoteBox({infoClass:"info-ok",text:c.get("info.update_success"),autoClose:true})}else{y.createNoteBox({infoClass:"info-err",text:c.get("info.update_failed"),autoClose:true})}}})};s.reloadChartViews=function(e){var a=this;$("#chart-view-list ul").html("");t.post({url:"/hosts/charts/options/",success:function(t){var i=[];$.each(t.data.views,function(e,t){i.push({name:t.alias,value:t.id})});a.cache.chartSelection.replaceOptions({options:i,selected:e})}})};s.loadChartView=function(e){var a=this;$("#chart-view-alias").removeClass("rwb");$("#chart-view-list .select").removeClass("rwb");t.post({url:"/hosts/charts/view/"+e,async:false,success:function(e){var t=e.data.options;if(t.refresh){a.refreshFormOptions.switchTo(t.refresh)}if(t.preset){a.presetFormOptions.switchTo(t.preset)}if(t.alignment){a.alignmentFormOptions.switchTo(t.alignment)}if(t.from&&t.to){a.fromFormOption.setValue(t.from);a.toFormOption.setValue(t.to);a.menu.switchTo("absolute")}else{a.menu.switchTo("relative")}if(t.service_charts){a.serviceChartsTable.refreshSelectedRows(t.service_charts)}if(t.user_charts){a.userChartsTable.refreshSelectedRows(t.user_charts)}if(t.selected){a.chartPosition=t.selected}a.chartViewAlias=e.data.alias}})};s.deleteChartView=function(e,i){var s=this,n=this.cache.chartSelection.getSelected();if(!n.value){$("#chart-view-list .select").addClass("rwb");return false}if(i==undefined){new b({title:c.get("schema.chart.text.delete_view"),closeText:c.get("action.abort"),content:a.create("div").html(c.get("schema.chart.text.really_delete_view",a.escape(n.option))),buttons:[{content:c.get("action.yes_delete"),callback:function(){s.deleteChartView(n.value,true)}}]}).create();return false}$("#chart-view-list .select").removeClass("rwb");this.chartViewAlias="";this.serviceChartsTable.clearSelectedRows();if(this.id===undefined){this.userChartsTable.clearSelectedRows()}this.refreshFormOptions.switchTo(this.chartOptions.defaults.refresh);this.presetFormOptions.switchTo(this.chartOptions.defaults.preset);this.alignmentFormOptions.switchTo(this.defaultAlignment);this.fromFormOption.setValue("");this.toFormOption.setValue("");this.menu.switchTo("relative");t.post({url:"/hosts/charts/view/"+e+"/delete",async:false,success:function(){s.reloadChartViews()}})};s.createServiceChartList=function(){var e=this,t=this.id?"/hosts/"+i.id+"/charts":"/hosts/charts",s=this.id?"/hosts/"+i.id+"/charts/search":"/hosts/charts/search/";var n=new x({appendTo:this.serviceChartContainer,title:this.id?c.get("schema.chart.text.select",this.host.hostname,true):c.get("schema.chart.text.multiselect"),pager:true,search:true,counter:true,infoBox:false}).create();this.serviceChartsTable=new h({url:t,postdata:a.extend({},this.postdata),appendTo:this.serviceChartContainer,headerObject:n,selectable:{result:["hostname","service_name","plugin","title"],counter:{update:n.counterObject,hideIfNull:false,descriptive:true},getUniqueId:function(e){return e.service_id+":"+e.chart_id},max:100},searchable:{url:s,result:["hostname","ipaddr","service_name","plugin","title"]},columns:this.getChartTableColumns()});this.serviceChartsTable.create();this.serviceChartsTable.getContainer().hover(function(){e.chartSelectionInfoBox.fadeIn(300)},function(){e.chartSelectionInfoBox.hide()})};s.createUserChartList=function(){var e=this;var t=new x({title:c.get("schema.user_chart.text.title"),pager:true,search:true,counter:true,appendTo:this.userChartContainer}).create();this.userChartsTable=new h({url:"/user/charts",postdata:a.extend({},this.postdata),appendTo:this.userChartContainer,headerObject:t,searchable:{url:"/user/charts/search",result:["title"]},selectable:{result:["title","subtitle","description"],counter:{update:t.counterObject,hideIfNull:false,descriptive:true},max:100},columns:[{name:"id",text:c.get("schema.user_chart.attr.id"),hide:true},{name:"title",text:c.get("schema.user_chart.attr.title")},{name:"subtitle",text:c.get("schema.user_chart.attr.subtitle")},{name:"yaxis_label",text:c.get("schema.user_chart.attr.yaxis_label")},{name:"description",text:c.get("schema.user_chart.attr.description")}]}).create()};s.createChartSelectionInfoBox=function(){this.chartSelectionInfoBox=a.create("div").addClass("info-simple").html(c.get("schema.chart.desc.charts")).appendTo(this.boxes.left).hide()};s.getChartTableColumns=function(){return[{name:"id",hide:true,value:function(e){return e.service_id+":"+e.chart_id}},{name:"hostname",text:c.get("schema.host.attr.hostname")},{name:"ipaddr",text:c.get("schema.host.attr.ipaddr")},{name:"service_name",text:c.get("schema.service.attr.service_name")},{name:"plugin",text:c.get("schema.service.attr.plugin")},{name:"title",text:c.get("schema.chart.attr.title")}]};s.generateCharts=function(){this.chartFormOptions=this.form.getData();this.chartsSelected={};this.serviceChartsSelected=this.serviceChartsTable.getSelectedRows();this.userChartsSelected=this.userChartsTable.getSelectedRows();if(this.serviceChartsSelected){a.extend(this.chartsSelected,this.serviceChartsSelected)}if(this.userChartsSelected){a.extend(this.chartsSelected,this.userChartsSelected)}if(a.objectSize(this.chartsSelected)===0){return}if(this.validateChartOptions(this.chartFormOptions)===true){this.chartOptionBox.hide(200);this.chartChartBox.show(400);this.createChartBoxHeader();this.calculateChartSize();this.createChartBoxColumns();this.createChartBoxes();this.makeItSortable()}};s.createScreenCharts=function(){this.chartsSelected=this.screenCharts.options.selected;this.chartFormOptions=this.screenCharts.options;if(this.chartFormOptions.preset){this.cache.timetype="relative"}this.calculateChartSize();this.createChartBoxColumns();this.createChartBoxes();this.makeItSortable()};s.createChartBoxHeader=function(){var e=this;var t=new x({appendTo:this.chartChartBox,title:this.id?c.get("schema.chart.text.view",this.host.hostname):c.get("schema.chart.text.multiple_view"),pager:false,search:false,infoBox:false}).create();a.create("input").attr("placeholder",c.get("schema.chart.text.save_view")).attr("type","text").attr("id","chart-view-alias").attr("name","chart-view-alias").attr("value",a.escape(this.chartViewAlias)).addClass("input input-small").css({"margin-right":"6px","margin-top":"9px"}).appendTo(t.rbox);a.create("div").attr("title",c.get("schema.chart.text.save_view")).addClass("btn btn-white").click(function(){e.saveChartView()}).html(a.create("span").addClass("hicons-gray hicons check")).appendTo(t.rbox).tooltip();a.create("div").attr("title",c.get("schema.chart.text.back_to_selection")).click(function(){e.reviewChartOptions()}).addClass("btn btn-white").html(a.create("span").addClass("hicons-gray hicons cog")).appendTo(t.rbox).tooltip()};s.createChartBoxColumns=function(){this.chartColumnsCounter=0;this.chartColumnIDs=[];for(var e=1;e<=this.countChartColumns;e++){a.create("div").attr("id","chart-sortable-column-"+e).addClass("chart-sortable-column").css(this.sortableChartColumns).appendTo(this.chartChartBox);this.chartColumnIDs.push("#chart-sortable-column-"+e)}};s.getNextChartPosition=function(){if(this.chartColumnsCounter>=this.countChartColumns){this.chartColumnsCounter=1}else{this.chartColumnsCounter+=1}return this.chartColumnsCounter};s.createChartBoxes=function(){var t=this,i=[],s={},n=0;$.each(this.chartsSelected,function(e,t){if(t.subkeys&&t.subkeys.length){var a={};$.each(t.subkeys.split(","),function(e,t){a[t]=true});t.subkeys=a}});if(this.chartPosition){$.each(this.chartPosition,function(e,n){var r=n.service_id&&n.chart_id?n.service_id+":"+n.chart_id:n.chart_id;if(t.chartsSelected[r]){var o=a.extend({},t.chartsSelected[r]);o.position=n.position;if(o.subkeys){if(n.subkey&&n.subkey.length&&o.subkeys[n.subkey]){o.subkey=n.subkey;s[r+":"+n.subkey]=true}}else{s[r]=true}i.push(o)}})}$.each(this.chartsSelected,function(e,n){if(n.subkeys){$.each(n.subkeys,function(r,o){var c=a.extend({},n);if(s[e+":"+r]!==true){c.subkey=r;c.position=t.getNextChartPosition();s[e+":"+r]=true;i.push(c)}})}else if(s[e]!==true){var r=a.extend({},n);r.position=t.getNextChartPosition();s[e]=true;i.push(r)}});$.each(i,function(a,i){var s="chart"+n,r="#"+s+"-outer",o="#"+s;t.createChartBox(s,i);i.outerContainer=r;i.container=o;i.renderTo=s;i.avg=Math.floor(t.chartBoxCSS.width*1.2)+"p";if(t.cache.timetype=="relative"){i.refresh=t.chartFormOptions.refresh;i.preset=t.chartFormOptions.preset;y.intervalObjects.push(setInterval(function(){e.debug("load chart data for id "+i.service_id+":"+i.chart_id);t.loadChartData(i)},t.chartFormOptions.refresh*1e3))}else{i.from=t.chartFormOptions.from;i.to=t.chartFormOptions.to}n++;t.loadChartData(i)});$(window).resize(function(){t.calculateChartSize();$(t.container).find(".chart-sortable-column").css(t.sortableChartColumns);$(t.container).find(".chart").css(t.chartBoxCSS)})};s.loadChartData=function(e){var a=this,i=this.createChartQuery(e);if(this.screenCharts){i.username=this.screenOpts.username;i.authkey=this.screenOpts.authkey}t.post({url:this.screenCharts?"/screen/charts/data/":"/hosts/charts/data/",data:i,success:function(t){if(e.service_id&&e.chart_id){a.plotServiceChart(e,t)}else{a.plotUserChart(e,t)}}})};s.plotServiceChart=function(e,t){var i=t.data.service,s=t.data.stats,n=i.hostname+" :: "+i.title,r=i.service_name,o="line";if(i.subkey&&i.subkey!="0"){r+=" ("+i.subkey+")"}if(i.options["chart-type"]){o=i.options["chart-type"]}var c={chart:{container:e.renderTo,title:n,subtitle:r,ylabel:i.options.ylabel,xlabel:i.options.xlabel,units:i.options.units,type:o},series:[],colors:{},units:{},hasNegativeValues:i.options.negative==="true"?true:false};$.each(i.options.series,function(e,t){if(t.opposite=="true"){c.hasNegativeValues=true}if(s[t.name]){var i=t.alias?t.alias:t.name;c.colors[i]=t.color;c.series.push({data:s[t.name],name:i,description:t.description,yAxis:0,color:"rgba("+a.hexToRGB(t.color).join(",")+",0.8)"})}});$(e.container).css({"border-color":"transparent"}).removeClass("loading chart-load-info");y.plotChart(c)};s.plotUserChart=function(e,t){var i=this,s=t.data.service,n=t.data.stats;var r={chart:{container:e.renderTo,title:e.title,subtitle:e.subtitle,ylabel:e.yaxis_label,xlabel:e.xaxis_label,units:e.units,type:"area"},series:[],colors:{},units:{},hasNegativeValues:false};$.each(e.options,function(e,t){var i=s[t.service_id],o=t.statkey_options.alias||t.statkey,c="["+o+"] "+i.hostname+" - "+i.service_name;r.colors[c]=t.color;r.units[c]=t.statkey_options.units;var l={data:n[t.service_id+":"+t.statkey],name:c,description:t.statkey,yAxis:0};if(t.color){l.color="rgba("+a.hexToRGB(t.color).join(",")+",0.8)"}r.series.push(l)});$(e.container).css({"border-color":"transparent"}).removeClass("loading chart-load-info");y.plotChart(r)};s.createChartQuery=function(e){var t={avg:e.avg};if(e.service_id&&e.chart_id){t.chart_id=e.chart_id;t.service_id=e.service_id;t.subkey=e.subkey;t.avg=e.avg}else{t.chart_id=e.id}if(e.from&&e.to){t.from=e.from;t.to=e.to}else{t.preset=e.preset}return t};s.createChartBox=function(e,t){var i=this,s=[];var n=a.create("div").attr("id",e+"-outer").addClass("chart-outer").css({position:"relative",display:"inline-block"}).appendTo("#chart-sortable-column-"+t.position);if(t.service_id&&t.chart_id){n.data("chart",{service_id:t.service_id,chart_id:t.chart_id,subkey:t.subkey});s.push({type:"info-sign",title:c.get("text.chart_info"),callback:function(){i.createInfoBoxOverlay(t)}})}else{n.data("chart",{chart_id:t.id})}s.push({type:"move",title:c.get("action.move_box"),addClass:"chart-portlet"});y.createHoverBoxIcons({container:n,icons:s});var r=a.create("div").attr("id",e).addClass("chart").appendTo(n).css(this.chartBoxCSS).css({"border-color":"#d1d1d1"}).addClass("loading chart-load-info");var o=a.create("p").appendTo(r);var l=a.create("p").appendTo(r);if(t.service_id&&t.chart_id){a.create("i").text([t.hostname,t.title].join("::")).appendTo(o);a.create("i").text(t.service_name).appendTo(l)}else{a.create("i").text(t.title).appendTo(o);a.create("i").text(t.subtitle).appendTo(l)}return r};s.createInfoBoxOverlay=function(e){var t={};if(this.screenCharts){t.username=this.screenOpts.username;t.authkey=this.screenOpts.authkey}var i=y.get("/hosts/charts/info/"+e.plugin_id,t);var s=[],n=a.create("div"),r=new h({appendTo:n}).init();r.addHeadColumn("Statistic");r.addHeadColumn("Description");$.each(e.options.series,function(e,t){s.push(t.name)});$.each(s.sort(),function(e,t){if(i[t]){r.createRow([i[t]["alias"],i[t]["description"]])}});var o=e.subkey?e.service_id+":"+e.chart_id+":"+e.subkey:e.service_id+":"+e.chart_id;a.create("p").css({"font-size":"10px","margin-top":"20px"}).text(c.get("schema.chart.text.chart_id",o)).appendTo(n);new b({title:c.get("schema.chart.text.chart_information"),content:n}).create()};s.reviewChartOptions=function(){t.abortXHRs();y.clearIntervalObjects();y.destroyChartObjects();this.chartChartBox.html("");this.chartChartBox.hide(400);this.chartOptionBox.show(200)};s.validateChartOptions=function(e){if(this.cache.timetype=="absolute"){if(y.validateFromToDateHourMin(e.from,e.to)==false){this.form.markErrors(["from","to"]);return false}}this.form.removeErrors();return true};s.calculateChartSize=function(){var e=10,t,a;if(this.chartFormOptions.alignment==0){t=Math.floor($(this.container).width()/2);this.countChartColumns=2}else if(this.chartFormOptions.alignment==1){t=Math.floor($(this.container).width());this.countChartColumns=1}else if(this.chartFormOptions.alignment==2){t=Math.floor($(this.container).width()/2);this.countChartColumns=2}else if(this.chartFormOptions.alignment==3){t=Math.floor($(this.container).width()/3);this.countChartColumns=3}t-=20;t=Math.floor(t-e*2);if(t>1e3){a=450}else if(this.chartFormOptions.alignment==3){a=Math.floor(t/2.2-e*2)}else{a=Math.floor(t/3-e*2)}if(a<250){a=270}this.sortableChartColumns={width:t+e+e,"min-height":"200px",margin:0,padding:0,"float":"left",border:"1px solid transparent"};this.chartBoxCSS={width:t,height:a,margin:e,border:"1px solid transparent"}};s.makeItSortable=function(){$(".chart-sortable-column").sortable({start:function(){$(".chart-outer").css({border:"1px dashed #c1c1c1"})},stop:function(){$(".chart-outer").css({border:"1px solid transparent"})},connectWith:".chart-sortable-column",handle:".chart-portlet",forcePlaceholderSize:true,tolerance:"pointer"}).disableSelection()};s.create()};y.listUserCharts=function(e){y.showChartsSubNavigation("user-charts");var t=a.extend({appendTo:$("#content"),postdata:{offset:0,limit:y.requestSize}},e);t.create=function(){this.table=new h({url:"/user/charts",postdata:this.postdata,appendTo:this.appendTo,header:{title:c.get("schema.user_chart.text.title"),pager:true,search:true,icons:[{type:"help",callback:function(){a.open("/#help/user-charts")},title:c.get("site.help.doc.user-charts")},{type:"create",callback:function(){y.route.to("monitoring/charts/editor/create")},title:c.get("schema.user_chart.text.create")}]},searchable:{url:"/user/charts/search",result:["title"]},deletable:{title:c.get("schema.user_chart.text.delete"),url:"/user/charts/:id/delete",result:["id","title"]},columnSwitcher:true,columns:[{name:"id",text:c.get("schema.user_chart.attr.id"),hide:true},{name:"title",text:c.get("schema.user_chart.attr.title"),call:function(e){return y.call("monitoring/charts/editor/"+e.id+"/update",e.title)}},{name:"subtitle",text:c.get("schema.user_chart.attr.subtitle")},{name:"yaxis_label",text:c.get("schema.user_chart.attr.yaxis_label")},{name:"description",text:c.get("schema.user_chart.attr.description")}]}).create()};t.create()};y.createUserChart=function(e){y.showChartsSubNavigation("user-charts");var t=a.extend({appendTo:$("#content")},e);t.create=function(){this.getUserChart();this.createHeader();this.createForm();this.createSelectBoxes();this.createSubmitButton()};t.getUserChart=function(){if(this.id){this.values=y.get("/user/charts/"+this.id)}else{this.values={}}};t.createHeader=function(){new x({title:c.get("schema.user_chart.text.create"),icons:[{type:"go-back",callback:function(){y.route.to("monitoring/charts/editor")}}]}).create()};t.createForm=function(){var t=this;var a=e.id?"/user/charts/"+e.id+"/update":"/user/charts/create";this.form=new l({url:{submit:a},format:"default",appendTo:this.appendTo,createTable:true}).init();this.form.postpareDataCallback=function(e){e.options=t.getChartMetrics()};this.form.createElement({element:"input",type:"text",name:"title",text:c.get("schema.user_chart.attr.title"),desc:c.get("schema.user_chart.desc.title"),placeholder:c.get("schema.user_chart.attr.title"),maxlength:50,value:this.values.title});this.form.createElement({element:"input",type:"text",name:"subtitle",text:c.get("schema.user_chart.attr.subtitle"),desc:c.get("schema.user_chart.desc.subtitle"),placeholder:c.get("schema.user_chart.attr.subtitle"),maxlength:50,value:this.values.subtitle});this.form.createElement({element:"input",type:"text",name:"yaxis_label",text:c.get("schema.user_chart.attr.yaxis_label"),desc:c.get("schema.user_chart.desc.yaxis_label"),placeholder:c.get("schema.user_chart.attr.yaxis_label"),maxlength:30,value:this.values.yaxis_label});this.form.createElement({element:"input",type:"text",name:"description",text:c.get("schema.user_chart.attr.description"),desc:c.get("schema.user_chart.desc.description"),placeholder:c.get("schema.user_chart.attr.description"),maxlength:100,value:this.values.description})};t.createSelectBoxes=function(){var e=this;this.selectBoxes=a.create("div").addClass("chart-selection").appendTo(this.form.form);var t={};t.outer=a.create("div").addClass("chart-selection-outer").appendTo(e.selectBoxes);t.header=a.create("div").addClass("chart-selection-header").text(c.get("schema.user_chart.text.chart_metrics")).appendTo(t.outer);t.content=a.create("ul").attr("data-name","options").addClass("chart-selection-content").appendTo(t.outer);y.createHoverBoxIcons({container:t.header,addClass:"chart-selection-header-icons",icons:[{type:"plus-sign",title:c.get("schema.user_chart.text.add_metric"),callback:function(){e.addMetric(t)}}]});$(".chart-selection-content").sortable({connectWith:".chart-selection-content",handle:".chart-selection-portlet",forcePlaceholderSize:true,tolerance:"pointer"});if(this.values.options){$.each(this.values.options,function(a,i){e.addServiceToBox({appendTo:t.content,text:"["+i.statkey+"] "+i.hostname+" - "+i.service_name,color:i.color,data:{service_id:i.service_id,plugin_id:i.plugin_id,statkey:i.statkey}})})}};t.createSubmitButton=function(){var e=this;this.form.button({appendTo:this.form.form})};t.addMetric=function(e){this.selectedBox=e;this.createOverlay();this.listPlugins()};t.createOverlay=function(){this.overlayContent=a.create("div");this.pluginList=a.create("div").appendTo(this.overlayContent);this.pluginStatsList=a.create("div").appendTo(this.overlayContent).hide();this.serviceList=a.create("div").appendTo(this.overlayContent).hide();this.overlay=new b({title:c.get("schema.user_chart.text.add_metric"),content:this.overlayContent,width:"1000px"}).create()};t.listPlugins=function(){var e=this;this.table=new h({url:"/plugins",postdata:{offset:0,limit:15},appendTo:this.pluginList,sortable:true,header:{title:c.get("schema.plugin.text.list"),pager:true,search:true,appendTo:this.pluginList},searchable:{url:"/plugins/search",result:["plugin","command","category","description"],resultWidth:"900px"},columnSwitcher:true,onClick:function(t){e.listPluginStats(t)},columns:[{name:"id",text:c.get("schema.plugin.attr.id"),hide:true},{name:"plugin",text:c.get("schema.plugin.attr.plugin")},{name:"command",text:c.get("schema.plugin.attr.command"),hide:true},{name:"category",text:c.get("schema.plugin.attr.categories")},{name:"description",text:c.get("schema.plugin.attr.description")}]}).create()};t.listPluginStats=function(e){var t=this;this.pluginList.hide(300);this.pluginStatsList.html("");this.pluginStatsList.show();this.table=new h({url:"/plugin-stats/"+e.id,appendTo:this.pluginStatsList,header:{title:c.get("schema.plugin_stats.text.list",e.plugin),pager:true,search:true,appendTo:this.pluginStatsList,icons:[{type:"go-back",callback:function(){t.pluginStatsList.hide();t.pluginStatsList.html("");t.pluginList.show(300)}}]},columnSwitcher:true,onClick:function(e){t.listServices(e)},columns:[{name:"alias",text:c.get("schema.plugin_stats.attr.alias"),value:function(e){return e.alias&&e.alias.length?e.alias:e.statkey}},{name:"statkey",text:c.get("schema.plugin_stats.attr.statkey"),hide:true},{name:"datatype",text:c.get("schema.plugin_stats.attr.datatype"),hide:true},{name:"description",text:c.get("schema.plugin_stats.attr.description")}]}).create()};t.listServices=function(e){var t=this;this.pluginStatsList.hide("");this.serviceList.html("");this.serviceList.show();var i=new x({title:c.get("schema.service.text.list"),pager:true,search:true,appendTo:this.serviceList,icons:[{type:"go-back",callback:function(){t.serviceList.hide();t.serviceList.html("");t.pluginStatsList.show(300)}}]}).create();var s=a.create("div").addClass("chart-selection-service-table").appendTo(this.serviceList);var n=a.create("div").addClass("chart-selection-services-selected").appendTo(this.serviceList);var r=a.create("ul").appendTo(n);a.create("div").addClass("clear").appendTo(this.serviceList);this.table=new h({url:"/plugin-stats/"+e.plugin_id+"/"+e.statkey+"/services",appendTo:s,headerObject:i,searchable:{url:"/plugin-stats/"+e.plugin_id+"/"+e.statkey+"/services",result:["id","hostname","service_name"]},columnSwitcher:true,onClick:function(t){var i=a.create("li").data("service-id",t.id).data("statkey",e.statkey).text(t.hostname+" - "+t.service_name).attr("title",c.get("text.click_to_delete_seletion")).appendTo(r).tooltip({track:true});i.click(function(){i.remove()})},columns:[{name:"id",text:c.get("schema.service.attr.id"),hide:true},{name:"hostname",text:c.get("schema.host.attr.hostname")},{name:"ipaddr",text:c.get("schema.host.attr.ipaddr")},{name:"service_name",text:c.get("schema.service.attr.service_name")},{name:"description",text:c.get("schema.service.attr.description"),hide:true}]}).create();var o=a.create("div").addClass("btn btn-white btn-medium").css({"margin-top":"12px"}).text(c.get("action.submit")).appendTo(s);o.click(function(){r.find("li").each(function(){var a=$(this).data("service-id"),i=$(this).data("statkey"),s=$(this).text();t.addServiceToBox({appendTo:t.selectedBox.content,text:"["+i+"] "+s,data:{service_id:a,plugin_id:e.plugin_id,statkey:e.statkey}});t.overlay.close()})})};t.addServiceToBox=function(e){var t=a.create("li").data("item",e.data).addClass("chart-selection-item").text(e.text).appendTo(e.appendTo);y.createHoverBoxIcons({addClass:"chart-selection-content-icons",container:t,icons:[{type:"move",title:c.get("info.move_with_mouse"),addClass:"chart-selection-portlet"},{type:"remove",title:c.get("action.remove"),callback:function(){t.remove();$(".chart-selection-content").sortable("refresh")}},{type:"colorpicker",color:e.color}]});$(".chart-selection-content").sortable("refresh")};t.getChartMetrics=function(){var e=[];$(".chart-selection-item").each(function(){var t=$(this).data("item");t.color=$(this).find(".color-picker-icon").data("color");e.push(t)});return e};t.create()};y.listHostTemplates=function(e){y.setTitle("schema.host_template.text.list");var t=new h({url:"/templates/hosts/",header:{title:c.get("schema.host_template.text.list"),pager:true,search:true,icons:[{type:"help",callback:function(){a.open("/#help/host-templates")},title:c.get("site.help.doc.host-templates")},{type:"create",callback:function(){y.route.to("monitoring/templates/create")},title:c.get("schema.host_template.text.create")}]},searchable:{url:"/templates/hosts/search/",result:["name","description"]},deletable:{title:c.get("schema.host_template.text.delete"),url:"/templates/hosts/:id/delete",result:["id","name","description"]},reloadable:true,columnSwitcher:true,rowHoverIcons:[{title:c.get("schema.host_template.text.clone"),icon:"share",onClick:function(e){var t=a.create("div"),i=new b;var s=new l({format:"medium",url:{submit:"/templates/hosts/"+e.id+"/clone"},onSuccess:function(){i.close();y.route.to("monitoring/templates")},appendTo:t,showButton:false,elements:[{element:"input",type:"text",name:"name",text:c.get("schema.host_template.attr.name"),desc:c.get("schema.host_template.desc.name"),maxlength:100},{element:"input",type:"text",name:"description",text:c.get("schema.host_template.attr.description"),desc:c.get("schema.host_template.desc.description"),maxlength:100}]}).create();i.title=c.get("schema.host_template.text.clone_title",e.name,true),i.content=t,i.buttons=[{content:c.get("action.clone"),callback:function(){s.submit()},close:false}];i.create()}}],columns:[{name:"id",text:c.get("schema.host_template.attr.id"),hide:true},{name:"name",text:c.get("schema.host_template.attr.name"),call:function(e){return y.call("monitoring/templates/"+e.id,e.name)}},{name:"description",text:c.get("schema.host_template.attr.description")}]});t.create()};y.createHostTemplate=function(){var e=y.get("/templates/hosts/options");y.setTitle("schema.host_template.text.create");new x({title:c.get("schema.host_template.text.create")}).create();new l({url:{submit:"/templates/hosts/create"},action:"create",onSuccess:function(e){y.route.to("monitoring/templates/"+e.id)},values:e.values,options:e.options,elements:y.getHostTemplateFormElements()}).create()};y.editHostTemplate=function(e){y.showTemplateSubNavigation("settings",e.id);
var t=y.get("/templates/hosts/"+e.id+"/options");y.setTitle("schema.host_template.text.view",t.values.name);new x({title:c.get("schema.host_template.text.view",t.values.name,true)}).create();new l({url:{submit:"/templates/hosts/"+e.id+"/update"},title:c.get("schema.host_template.attr.id")+": "+e.id,action:"update",values:t.values,options:t.options,elements:y.getHostTemplateFormElements()}).create()};y.getHostTemplateFormElements=function(){return[{element:"input",type:"text",name:"name",text:c.get("schema.host_template.attr.name"),desc:c.get("schema.host_template.desc.name"),maxlength:100},{element:"input",type:"text",name:"description",text:c.get("schema.host_template.attr.description"),desc:c.get("schema.host_template.desc.description"),maxlength:100},{element:"textarea",name:"variables",text:c.get("schema.host.attr.variables"),desc:c.get("schema.host.desc.variables")}]};y.listHostTemplateServices=function(e){y.showTemplateSubNavigation("services",e.id);var t=y.get("/templates/hosts/"+e.id);y.setTitle("schema.host_template.text.view",t.name);new h({url:"/templates/hosts/"+e.id+"/services",header:{title:c.get("schema.host_template.text.view",t.name,true),icons:[{type:"create",callback:function(){y.route.to("monitoring/templates/"+e.id+"/services/create")},title:c.get("schema.service.text.create")}]},deletable:{title:c.get("schema.host_template.text.delete_service"),url:"/templates/hosts/:host_template_id/services/:ref_id/delete",result:["ref_id","service_name","description"],warning:c.get("schema.host_template.text.delete_service_warning")},columnSwitcher:true,columns:[{name:"ref_id",text:c.get("schema.service.attr.ref_id"),hide:true},{name:"service_name",text:c.get("schema.service.attr.service_name"),call:function(t){return y.call("monitoring/templates/"+e.id+"/services/"+t.ref_id+"/edit",t.service_name)}},{name:"command",text:c.get("schema.service.attr.command"),hide:true},{name:"plugin",text:c.get("schema.service.attr.plugin")},{name:"agent_id",text:c.get("schema.service.attr.agent_id")},{name:"description",text:c.get("schema.service.attr.description"),hide:true},{name:"attempt_max",text:c.get("schema.service.attr.attempt_max")},{name:"host_alive_check",text:c.get("schema.service.text.host_alive_check"),bool:"yn"}]}).create()};y.listHostTemplateMembers=function(e){y.showTemplateSubNavigation("members",e.id);var t=y.get("/templates/hosts/"+e.id);var a=new l;a.group({appendTo:"#content",title:c.get("schema.host_template.text.view",t.name),subtitle:c.get("schema.group.attr.id")+": "+t.id,left:{title:c.get("schema.group.text.host_members"),listURL:"/templates/hosts/"+e.id+"/members/list/",searchURL:"/templates/hosts/"+e.id+"/members/list/",updateMember:"/templates/hosts/"+e.id+"/members/remove/"},right:{title:c.get("schema.group.text.host_nonmembers"),listURL:"/templates/hosts/"+e.id+"/members/list-non/",searchURL:"/templates/hosts/"+e.id+"/members/list-non/",updateMember:"/templates/hosts/"+e.id+"/members/add/"},columns:[{name:"id",text:c.get("schema.host.attr.id")},{name:"hostname",text:c.get("schema.host.attr.hostname")},{name:"ipaddr",text:c.get("schema.host.attr.ipaddr")}],selectable:{key:"id",title:c.get("schema.host_template.text.selected_hosts"),result:["id","hostname","ipaddr"]},searchable:{result:["id","hostname","ipaddr"]}})};y.getTemplateById=function(e){return y.get("/templates/hosts/"+e)};y.listContactgroups=function(e){y.setTitle("schema.contactgroup.text.list");var t=new h({url:"/contactgroups",header:{title:c.get("schema.contactgroup.text.list"),pager:true,search:true,icons:[{type:"help",callback:function(){a.open("/#help/contacts-and-notifications")},title:c.get("site.help.doc.contacts-and-notifications")},{type:"create",callback:function(){y.route.to("notification/contactgroups/create")},title:c.get("schema.contactgroup.text.create")}]},searchable:{url:"/contactgroups/search",result:["name","description"]},deletable:{title:c.get("schema.contactgroup.text.delete"),url:"/contactgroups/:id/delete",result:["id","name","description"]},appendTo:"#content",reloadable:true,columnSwitcher:true,columns:[{name:"id",text:c.get("schema.contactgroup.attr.id"),hide:true},{name:"name",text:c.get("schema.contactgroup.attr.name"),call:function(e){return y.call("notification/contactgroups/"+e.id+"/edit",e.name)}},{name:"company",text:c.get("schema.company.attr.company"),call:function(e){return y.call("administration/companies/"+e.company_id+"/edit",e.company)},hide:true},{name:"description",text:c.get("schema.contactgroup.attr.description")}]});t.create()};y.createContactgroup=function(){y.setTitle("schema.contactgroup.text.create");new x({title:c.get("schema.contactgroup.text.create"),border:true}).create();new l({url:{submit:"/contactgroups/create"},onSuccess:function(e){y.route.to("notification/contactgroups/"+e.id+"/edit")},action:"create",elements:y.getContactgroupFormElements()}).create()};y.editContactgroup=function(e){y.setTitle("schema.contactgroup.text.settings");e.contactgroup=y.getContactgroup(e.id);y.showContactgroupSubNavigation();y.createContactgroupForm(e);y.createContactgroupContactMemberForm(e);y.createContactgroupHostMemeberForm(e);y.createContactgroupServiceMemberForm(e)};y.createContactgroupForm=function(e){new x({title:c.get("schema.contactgroup.text.settings"),border:true,appendTo:"#int-contactgroup-form"}).create();new l({url:{submit:"/contactgroups/"+e.id+"/update"},action:"update",values:e.contactgroup,elements:y.getContactgroupFormElements(),appendTo:"#int-contactgroup-form"}).create()};y.createContactgroupContactMemberForm=function(e){new x({title:c.get("schema.contactgroup.text.contact_members"),border:true,appendTo:"#int-contact-form"}).create();var t=new l;t.group({appendTo:"#int-contact-form",title:c.get("schema.contactgroup.text.group_members",e.contactgroup.name),subtitle:c.get("schema.contactgroup.attr.id")+": "+e.id,left:{title:c.get("schema.contactgroup.text.host_members"),listURL:"/contactgroups/"+e.id+"/contacts/in-group",searchURL:"/contactgroups/"+e.id+"/contacts/in-group",updateMember:"/contactgroups/"+e.id+"/contacts/remove"},right:{title:c.get("schema.contactgroup.text.host_nonmembers"),listURL:"/contactgroups/"+e.id+"/contacts/not-in-group",searchURL:"/contactgroups/"+e.id+"/contacts/not-in-group",updateMember:"/contactgroups/"+e.id+"/contacts/add"},columns:[{name:"id",text:c.get("schema.contact.attr.id")},{name:"name",text:c.get("schema.contact.attr.name")},{name:"mail_to",text:c.get("schema.contact.attr.mail_to")}],selectable:{key:"id",title:c.get("schema.contactgroup.text.selected_hosts"),result:["id","name","mail_to"]},searchable:{result:["id","name","mail_to"]}})};y.createContactgroupHostMemeberForm=function(e){new x({title:c.get("schema.contactgroup.text.host_members"),border:true,appendTo:"#int-host-form"}).create();var t=new l;t.group({appendTo:"#int-host-form",title:c.get("schema.contactgroup.text.group_members",e.contactgroup.name),subtitle:c.get("schema.group.attr.id")+": "+e.id,left:{title:c.get("schema.contactgroup.text.host_members"),listURL:"/contactgroups/"+e.id+"/hosts/in-group",searchURL:"/contactgroups/"+e.id+"/hosts/in-group",updateMember:"/contactgroups/"+e.id+"/hosts/remove"},right:{title:c.get("schema.contactgroup.text.host_nonmembers"),listURL:"/contactgroups/"+e.id+"/hosts/not-in-group",searchURL:"/contactgroups/"+e.id+"/hosts/not-in-group",updateMember:"/contactgroups/"+e.id+"/hosts/add"},columns:[{name:"id",text:c.get("schema.host.attr.id")},{name:"hostname",text:c.get("schema.host.attr.hostname")},{name:"ipaddr",text:c.get("schema.host.attr.ipaddr")}],selectable:{key:"id",title:c.get("schema.contactgroup.text.selected_hosts"),result:["id","hostname","ipaddr"]},searchable:{result:["id","hostname","ipaddr"]}})};y.createContactgroupServiceMemberForm=function(e){new x({title:c.get("schema.contactgroup.text.service_members"),border:true,appendTo:"#int-service-form"}).create();var t=new l;t.group({appendTo:"#int-service-form",title:c.get("schema.contactgroup.text.group_members",e.contactgroup.name),subtitle:c.get("schema.contactgroup.attr.id")+": "+e.id,left:{title:c.get("schema.contactgroup.text.service_members"),listURL:"/contactgroups/"+e.id+"/services/in-group",searchURL:"/contactgroups/"+e.id+"/services/in-group",updateMember:"/contactgroups/"+e.id+"/services/remove"},right:{title:c.get("schema.contactgroup.text.service_nonmembers"),listURL:"/contactgroups/"+e.id+"/services/not-in-group",searchURL:"/contactgroups/"+e.id+"/services/not-in-group",updateMember:"/contactgroups/"+e.id+"/services/add"},columns:[{name:"id",text:c.get("schema.service.attr.id")},{name:"hostname",text:c.get("schema.host.attr.hostname")},{name:"service_name",text:c.get("schema.service.attr.service_name")}],selectable:{key:"id",title:c.get("schema.contactgroup.text.selected_services"),result:["id","hostname","service_name"]},searchable:{result:["id","hostname","service_name"]}})};y.getContactgroupFormElements=function(){return[{element:"input",name:"name",maxlength:40,text:c.get("schema.contactgroup.attr.name"),desc:c.get("schema.contactgroup.desc.name"),required:true},{element:"input",name:"description",maxlength:100,text:c.get("schema.contactgroup.attr.description"),desc:c.get("schema.contactgroup.desc.description")}]};y.getContactgroup=function(e){return y.get("/contactgroups/"+e)};y.listContacts=function(e){y.setTitle("schema.contact.text.list");var t=new h({url:"/contacts",header:{title:c.get("schema.contact.text.list"),pager:true,search:true,icons:[{type:"help",callback:function(){a.open("/#help/contacts-and-notifications")},title:c.get("site.help.doc.contacts-and-notifications")},{type:"create",callback:function(){y.route.to("notification/contacts/create")},title:c.get("schema.contact.text.create")}]},searchable:{url:"/contacts/search",result:["id","name","mail_to","sms_to"]},deletable:{title:c.get("schema.contact.text.delete"),url:"/contacts/:id/delete",result:["id","name","mail_to"]},appendTo:"#content",reloadable:true,columnSwitcher:true,columns:[{name:"id",text:c.get("schema.contact.attr.id"),hide:true},{name:"name",text:c.get("schema.contact.attr.name"),call:function(e){return y.call("notification/contacts/"+e.id+"/edit",e.name)}},{name:"company",text:c.get("schema.company.attr.company"),call:function(e){return y.call("administration/companies/"+e.company_id+"/edit",e.company)},hide:true},{name:"mail_to",text:c.get("schema.contact.attr.mail_to")},{name:"sms_to",text:c.get("schema.contact.attr.sms_to")}]});t.create()};y.createContact=function(){var e=y.get("/contacts/options");y.setTitle("schema.contact.text.create");new x({title:c.get("schema.contact.text.create"),border:true}).create();new l({url:{submit:"/contacts/create"},onSuccess:function(e){y.route.to("notification/contacts/"+e.id+"/edit")},action:"create",values:e.values,options:e.options,elements:y.getContactFormElements()}).create()};y.editContact=function(e){var t=y.get("/contacts/"+e.id+"/options");y.setTitle("schema.contact.text.settings");new x({title:c.get("schema.contact.text.settings"),border:true}).create();new l({url:{submit:"/contacts/"+e.id+"/update"},title:c.get("schema.contact.attr.id")+": "+e.id,values:t.values,options:t.options,elements:y.getContactFormElements()}).create();new x({title:c.get("schema.contact.text.timeperiods"),border:true}).create();var i=y.createSideBySideBoxes({container:$("#content"),width:"300px",marginLeft:"310px"});var s=new h({url:"/contacts/"+e.id+"/timeperiods",width:"inline",appendTo:i.right,selectable:false,searchable:false,deletable:{url:"/contacts/"+e.id+"/timeperiods/:id/remove",title:c.get("schema.contact.text.remove_timeperiod"),result:["name","description","type","timezone"],buttonText:c.get("action.remove")},columns:[{name:"id",text:"ID",hide:true},{name:"name",text:c.get("schema.timeperiod.attr.name")},{name:"description",text:c.get("schema.timeperiod.attr.description")},{name:"type",text:c.get("schema.contact.text.timeperiod_type"),value:function(e){return c.get("schema.contact.text.timeperiod_type_"+e.type)}},{name:"timezone",text:c.get("word.Timezone")}]});var n=a.create("div").appendTo("#content");var r=new l({url:{submit:"/contacts/"+e.id+"/timeperiods/add"},format:"medium",appendTo:i.left,showButton:false,onSuccess:function(){s.getData()}});r.create();var o=y.get("/contacts/"+e.id+"/timeperiods/options/");r.select({name:"timeperiod_id",placeholder:c.get("schema.timeperiod.attr.name"),options:o.options.timeperiod_id,selected:o.values.timeperiod_id,appendTo:r.form});r.select({name:"type",placeholder:c.get("schema.contact.text.timeperiod_type"),options:o.options.type,selected:o.values.type,appendTo:r.form,getValueName:function(e){return c.get("schema.contact.text.timeperiod_type_"+e)}});r.select({name:"timezone",placeholder:c.get("word.Timezone"),options:o.options.timezone,selected:o.values.timezone,appendTo:r.form});r.button({css:{"margin-right":"10px"},text:c.get("action.add"),appendTo:r.form,onSuccess:function(){s.getData()}});s.create()};y.getContactFormElements=function(){return[{element:"input",type:"text",name:"name",text:c.get("schema.contact.attr.name"),desc:c.get("schema.contact.desc.name"),maxlength:100,required:true},{element:"input",type:"email",name:"mail_to",text:c.get("schema.contact.attr.mail_to"),desc:c.get("schema.contact.desc.mail_to"),maxlength:100,required:true},{element:"radio-yes-no",name:"mail_notifications_enabled",text:c.get("schema.contact.attr.mail_notifications_enabled"),desc:c.get("schema.contact.desc.mail_notifications_enabled"),required:true},{element:"checkbox",name:"mail_notification_level",text:c.get("schema.contact.attr.mail_notification_level"),desc:c.get("schema.contact.desc.mail_notification_level"),commaSeparatedList:true,required:true},{element:"input",type:"tel",name:"sms_to",text:c.get("schema.contact.attr.sms_to"),desc:c.get("schema.contact.desc.sms_to"),maxlength:100},{element:"radio-yes-no",name:"sms_notifications_enabled",text:c.get("schema.contact.attr.sms_notifications_enabled"),desc:c.get("schema.contact.desc.sms_notifications_enabled"),required:true},{element:"checkbox",name:"sms_notification_level",text:c.get("schema.contact.attr.sms_notification_level"),desc:c.get("schema.contact.desc.sms_notification_level"),commaSeparatedList:true,required:true},{element:"select",name:"escalation_level",text:c.get("schema.contact.attr.escalation_level"),desc:c.get("schema.contact.desc.escalation_level"),getValueName:function(e){if(e==0){return c.get("schema.contact.text.escalation_level_event.0")}if(e==1){return c.get("schema.contact.text.escalation_level_event.1")}return c.get("schema.contact.text.escalation_level_event.x",e)},required:true}]};y.listTimeperiods=function(){y.setTitle("schema.timeperiod.text.list");var e=new h({url:"/timeperiods",header:{title:c.get("schema.timeperiod.text.list"),pager:true,search:true,icons:[{type:"create",callback:function(){y.route.to("notification/timeperiods/create")},title:c.get("schema.timeperiod.text.create")}]},searchable:{url:"/timeperiods/search",result:["id","name","description"]},deletable:{title:c.get("schema.timeperiod.text.delete"),url:"/timeperiods/:id/delete",result:["name","description"]},appendTo:"#content",reloadable:true,columnSwitcher:true,columns:[{name:"id",text:c.get("schema.timeperiod.attr.id"),hide:true},{name:"name",text:c.get("schema.timeperiod.attr.name"),call:function(e){return y.call("notification/timeperiods/"+e.id+"/edit",e.name)}},{name:"company",text:c.get("schema.company.attr.company"),call:function(e){return y.call("administration/companies/settings/"+e.company_id,e.company)},hide:true},{name:"description",text:c.get("schema.timeperiod.attr.description")}]});e.create()};y.createTimeperiod=function(){y.setTitle("schema.timeperiod.text.create");new x({title:c.get("schema.timeperiod.text.create")}).create();new l({url:{submit:"/timeperiods/create"},onSuccess:function(e){y.route.to("notification/timeperiods/"+e.id+"/edit")},action:"create",elements:y.getTimeperiodFormElements()}).create()};y.editTimeperiod=function(e){y.setTitle("schema.timeperiod.text.settings");new x({title:c.get("schema.timeperiod.text.settings"),border:true}).create();new l({url:{submit:"/timeperiods/"+e.id+"/update"},action:"update",values:y.getTimeperiod(e.id),elements:y.getTimeperiodFormElements()}).create();new x({title:c.get("schema.timeslice.text.list"),border:true}).create();var t=new h({url:"/timeperiods/"+e.id+"/timeslices",width:"inline",selectable:false,searchable:false,deletable:{title:c.get("schema.timeslice.text.delete"),url:"/timeperiods/"+e.id+"/timeslices/:id/delete",result:["id","timeslice"]},columns:[{name:"id",text:c.get("schema.timeslice.attr.id"),hide:true},{name:"timeperiod_id",text:c.get("schema.timeperiod.attr.id"),hide:true},{name:"timeslice",text:c.get("schema.timeslice.attr.timeslice")}]});var i=a.create("div").appendTo("#content");var s=new l({url:{submit:"/timeperiods/"+e.id+"/timeslices/create"},format:"medium",appendTo:"#content",showButton:false,onSuccess:function(){t.getData()}});s.init();var n=a.create("div").css({position:"relative"}).appendTo(s.form);s.button({css:{"margin-right":"10px"},text:c.get("action.add"),appendTo:n});s.input({name:"timeslice",value:"",placeholder:"Monday - Sunday 00:00 - 23:59",appendTo:n});s.desc({title:c.get("schema.timeperiod.text.examples"),desc:c.get("schema.timeperiod.examples"),width:"600px",appendTo:n});t.create()};y.getTimeperiodFormElements=function(){return[{element:"input",name:"name",maxlength:40,text:c.get("schema.timeperiod.attr.name"),desc:c.get("schema.timeperiod.desc.name"),required:true},{element:"input",name:"description",maxlength:100,text:c.get("schema.timeperiod.attr.description"),desc:c.get("schema.timeperiod.desc.description")}]};y.getTimeperiod=function(e){return y.get("/timeperiods/"+e)};y.listUsers=function(){y.setTitle("schema.user.text.list");var e=new h({url:"/administration/users",header:{title:c.get("schema.user.text.list"),pager:true,search:true,icons:[{type:"help",callback:function(){a.open("/#help/users-and-groups")},title:c.get("site.help.doc.users-and-groups")},{type:"create",callback:function(){y.route.to("administration/users/create")},title:c.get("schema.user.text.create")}]},searchable:{url:"/administration/users/search/",result:["id","username","company","name","role"]},deletable:{title:c.get("schema.user.text.delete"),url:"/administration/users/:id/delete",result:["id","username"]},sortable:true,reloadable:true,columnSwitcher:true,columns:[{name:"id",text:c.get("schema.user.attr.id"),hide:true},{name:"username",text:c.get("schema.user.attr.username"),call:function(e){return y.call("administration/users/"+e.id+"/edit",e.username)}},{name:"company",text:c.get("schema.company.attr.company"),call:function(e){return y.call("administration/companies/"+e.company_id+"/edit",e.company)},hide:y.user.role=="admin"?false:true},{name:"name",text:c.get("schema.user.attr.name")},{name:"phone",text:c.get("schema.user.attr.phone")},{name:"manage_contacts",text:c.get("schema.user.attr.manage_contacts"),hide:true,bool:"yn"},{name:"manage_templates",text:c.get("schema.user.attr.manage_templates"),hide:true,bool:"yn"},{name:"last_login",text:c.get("schema.user.attr.last_login")},{name:"is_logged_in",text:c.get("schema.user.text.is_logged_in"),bool:"yn",sortable:false},{name:"session_expires",text:c.get("schema.user.text.session_expires"),hide:true,sortable:false},{name:"locked",text:c.get("schema.user.attr.locked"),hide:true,bool:"yn"},{name:"role",text:c.get("schema.user.attr.role")},{name:"comment",text:c.get("schema.user.attr.comment"),hide:true},{name:"allow_from",text:c.get("schema.user.attr.allow_from"),hide:true},{name:"timezone",text:c.get("schema.user.attr.timezone"),hide:true},{name:"operate_as",icons:[{check:function(){return y.user.role=="admin"?true:false},icon:"cicons arrow-right-orange",text:c.get("action.operate_as"),link:"operateas/:id"}]}]});e.create()};y.editUser=function(e){var t=y.get("/administration/users/"+e.id+"/options");y.setTitle("schema.user.text.view",t.values.username);new x({title:c.get("schema.user.text.view",t.values.username,true)}).create();new l({url:{submit:"/administration/users/"+e.id+"/update"},title:c.get("schema.user.attr.id")+": "+e.id,action:"update",values:t.values,options:t.options,elements:y.getUserFormElements()}).create()};y.createUser=function(){var e=y.get("/administration/users/options");y.setTitle("schema.user.text.create");new x({title:c.get("schema.user.text.create")}).create();new l({url:{submit:"/administration/users/create"},action:"create",values:e.values,options:e.options,elements:y.getUserFormElements()}).create()};y.getUserFormElements=function(){return[{element:"select",name:"company_id",text:c.get("schema.company.attr.company"),desc:c.get("schema.user.desc.company"),required:true},{element:"input",type:"email",name:"username",text:c.get("schema.user.attr.username"),desc:c.get("schema.user.desc.username"),minlength:6,maxlength:50,required:true},{element:"input",type:"text",name:"name",text:c.get("schema.user.attr.name"),desc:c.get("schema.user.desc.name"),maxlength:50,required:true},{element:"input",type:"text",name:"phone",text:c.get("schema.user.attr.phone"),desc:c.get("schema.user.desc.phone"),maxlength:100},{element:"select",name:"timezone",text:c.get("schema.user.attr.timezone"),desc:c.get("schema.user.desc.timezone")},{element:"select",name:"role",text:c.get("schema.user.attr.role"),desc:c.get("schema.user.desc.role"),required:true},{element:"radio-yes-no",name:"manage_contacts",text:c.get("schema.user.attr.manage_contacts"),desc:c.get("schema.user.desc.manage_contacts"),required:true},{element:"radio-yes-no",name:"manage_templates",text:c.get("schema.user.attr.manage_templates"),desc:c.get("schema.user.desc.manage_templates"),required:true},{element:"input",type:"text",name:"password",text:c.get("schema.user.attr.password"),desc:c.get("schema.user.desc.password"),minlength:8,maxlength:128,genString:30,required:true},{element:"input",type:"text",name:"authentication_key",text:c.get("schema.user.attr.authentication_key"),desc:c.get("schema.user.desc.authentication_key"),minlength:30,maxlength:128,genString:30},{element:"radio-yes-no",name:"password_changed",text:c.get("schema.user.attr.password_changed"),desc:c.get("schema.user.desc.password_changed"),required:true},{element:"radio-yes-no",name:"locked",text:c.get("schema.user.attr.locked"),desc:c.get("schema.user.desc.locked"),required:true},{element:"input",type:"text",name:"allow_from",text:c.get("schema.user.attr.allow_from"),desc:c.get("schema.user.desc.allow_from"),maxlength:300},{element:"input",type:"text",name:"comment",text:c.get("schema.user.attr.comment"),desc:c.get("schema.user.desc.comment"),maxlength:200}]};y.saveUserConfig=function(e,a){t.post({url:"/user/config/save",data:{key:e,data:a},async:false,success:function(t){if(a.status=="ok"){if(e==="dashboard"){y.user.stash[e][a.name]=a.data}else{y.user.stash[e]=t.data}y.createNoteBox({infoClass:"info-ok",text:c.get("info.update_success"),autoClose:true})}}})};y.changeUserPassword=function(e){var t=a.extend({force:false},e),i=a.create("div");var s=new b({title:c.get("schema.user.text.password_update"),content:i,visible:true});if(t.force){s.closeText=c.get("action.abort");s.closeCallback=function(){location.href="/logout"}}var n=new l({url:{submit:"/user/passwd"},onSuccess:function(){s.close();if(t.force){location.href="/"}else{y.createNoteBox({infoClass:"info-ok",text:c.get("update.success")})}},format:"medium",appendTo:i,showButton:false}).create();n.input({name:"current",type:"password",placeholder:c.get("schema.user.text.current_password"),appendTo:n.form});a.create("br").appendTo(n.form);n.input({name:"new",type:"password",placeholder:c.get("schema.user.text.new_password"),maxlength:128,minlength:8,appendTo:n.form});a.create("br").appendTo(n.form);n.input({name:"repeat",type:"password",placeholder:c.get("schema.user.text.repeat_password"),appendTo:n.form});a.create("br").appendTo(n.form);n.button({text:c.get("action.update"),appendTo:n.form});s.create();if(t.force){throw new Error}};y.changeUserSettings=function(){y.changeUserPassword()};y.changeUserLanguage=function(){var e=a.create("div");var i=new h({type:"vtable",appendTo:e}).init();$.each([{text:"English",flag:"gb",lang:"en"},{text:"Deutsch",flag:"de",lang:"de"}],function(e,s){var n=i.createFormRow(a.create("span").addClass("f32").html(a.create("span").addClass("flag "+s.flag)),s.text);n.tr.css({cursor:"pointer"});n.tr.click(function(){t.post({url:"/lang/"+s.lang,success:function(){location.href="/"}})})});a.create("p").css({width:"300px","font-size":"12px","margin-top":"15px"}).html(c.get("schema.user.desc.select_language")).appendTo(e);var s=new b({title:c.get("schema.user.text.select_language"),content:e}).create()};y.listGroups=function(){y.setTitle("schema.group.text.list");var e=new h({url:"/administration/groups",header:{title:c.get("schema.group.text.list"),pager:true,search:true,icons:[{type:"help",callback:function(){a.open("/#help/users-and-groups")},title:c.get("site.help.doc.users-and-groups")},{type:"create",callback:function(){y.route.to("administration/groups/create")},title:c.get("schema.group.text.create")}]},searchable:{url:"/administration/groups/search/",result:["id","groupname","company","description"]},deletable:{title:c.get("schema.group.text.delete"),url:"/administration/groups/:id/delete",result:["id","groupname"]},sortable:true,reloadable:true,columnSwitcher:true,columns:[{name:"id",text:c.get("schema.group.attr.id"),hide:true},{name:"groupname",text:c.get("schema.group.attr.groupname"),call:function(e){return y.call("administration/groups/"+e.id+"/edit",e.groupname)}},{name:"company",text:c.get("schema.company.attr.company"),call:function(e){return y.call("administration/companies/"+e.company_id+"/edit",e.company)},hide:y.user.role=="admin"?false:true},{name:"description",text:c.get("schema.group.attr.description")}]}).create()};y.editGroup=function(e){var t=y.get("/administration/groups/"+e.id+"/options");e.groupname=t.values.groupname;new x({title:c.get("schema.group.text.settings")}).create();y.setTitle("schema.group.text.settings");y.showGroupSubNavigation();new l({url:{submit:"/administration/groups/"+e.id+"/update"},title:c.get("schema.group.attr.id")+": "+e.id,appendTo:"#int-group-form",options:t.options,values:t.values,elements:y.getGroupFormElements()}).create();y.createHostGroupMemberForm(e);y.createUserGroupMember(e);y.createUserGroupMemberList(e);y.createUserGroupMemberForm(e)};y.createGroup=function(){var e=y.get("/administration/groups/options");new x({title:c.get("schema.group.text.create")}).create();y.setTitle("schema.group.text.create");new l({url:{submit:"/administration/groups/create"},action:"create",onSuccess:function(e){y.route.to("administration/groups/"+e.id+"/edit")},options:e.options,values:e.values,elements:y.getGroupFormElements()}).create()};y.getGroupFormElements=function(){return[{element:"select",name:"company_id",text:c.get("schema.company.attr.company"),desc:c.get("schema.group.desc.company"),required:true},{element:"input",type:"text",name:"groupname",text:c.get("schema.group.attr.groupname"),desc:c.get("schema.group.desc.groupname"),maxlength:64,required:true},{element:"input",type:"text",name:"description",text:c.get("schema.group.attr.description"),desc:c.get("schema.group.desc.description"),maxlength:100}]};y.createHostGroupMemberForm=function(e){var t=new l;t.group({appendTo:"#int-host-form",title:c.get("schema.group.text.group_members",e.groupname),subtitle:c.get("schema.group.attr.id")+": "+e.id,left:{title:c.get("schema.group.text.host_members"),listURL:"/administration/groups/"+e.id+"/members/hosts/list/",searchURL:"/administration/groups/"+e.id+"/members/hosts/search/",updateMember:"/administration/groups/"+e.id+"/members/hosts/remove/"},right:{title:c.get("schema.group.text.host_nonmembers"),listURL:"/administration/groups/"+e.id+"/members/hosts/list-non/",searchURL:"/administration/groups/"+e.id+"/members/hosts/search-non/",updateMember:"/administration/groups/"+e.id+"/members/hosts/add/"},columns:[{name:"id",text:c.get("schema.host.attr.id")},{name:"hostname",text:c.get("schema.host.attr.hostname")},{name:"ipaddr",text:c.get("schema.host.attr.ipaddr")}],selectable:{key:"id",title:c.get("schema.group.text.selected_hosts"),result:["id","hostname","ipaddr"]},searchable:{result:["id","hostname","ipaddr"]}});var i=a.create("div").attr("id","int-user-group").css({width:"600px"}).appendTo("#int-user-form");a.create("div").attr("id","int-user-group-header").appendTo(i);a.create("div").attr("id","int-user-group-list-non").css({"text-align":"right"}).appendTo(i);a.create("div").attr("id","int-user-group-list").appendTo(i);a.create("div").addClass("clear").appendTo(i)};y.createUserGroupMember=function(e){$("#int-user-group-header").html("");a.create("div").addClass("form-title").html(c.get("schema.group.text.group_members",a.escape(e.groupname))).appendTo("#int-user-group-header");a.create("div").addClass("form-subtitle").html(c.get("schema.group.attr.id")+": "+e.id).appendTo("#int-user-group-header")};y.createUserGroupMemberList=function(e){$("#int-user-group-list").html("");var t=new h({url:"/administration/groups/"+e.id+"/members/users/list/",appendTo:"#int-user-group-list",deletable:{title:c.get("schema.group.text.remove_user"),url:"/administration/groups/"+e.id+"/members/users/remove/",result:["username","create_service","update_service","delete_service"],buttonText:c.get("action.remove"),successCallback:function(){y.refreshUserGroupForm(e)}},columns:[{name:"username",text:c.get("schema.user.attr.username"),callback:function(t){y.modifyUserGroupMember(e,"update",t)}},{name:"create_service",text:c.get("schema.group.text.may_create_services"),bool:"yn"},{name:"update_service",text:c.get("schema.group.text.may_modify_services"),bool:"yn"},{name:"delete_service",text:c.get("schema.group.text.may_delete_services"),bool:"yn"}]});t.create()};y.createUserGroupMemberForm=function(e){$("#int-user-group-list-non").html("");t.post({url:"/administration/groups/"+e.id+"/members/users/list-non/",success:function(t){if(t.status=="ok"){var a=[];$.each(t.data,function(e,t){a.push({name:t.username,value:t.id})});new l({format:"medium"}).select({placeholder:c.get("schema.group.text.add_user"),name:"user_id",options:a,appendTo:"#int-user-group-list-non",callback:function(t,a){y.modifyUserGroupMember(e,"add",{username:t,user_id:a,create_service:0,update_service:0,delete_service:0})},passNameValue:true})}}})};y.modifyUserGroupMember=function(e,i,s){var n=a.create("div");var r=new l({id:"user-group-member",appendTo:n,showButton:false,title:s.username,elements:[{element:"radio-yes-no",name:"create_service",text:c.get("schema.group.text.may_create_services")},{element:"radio-yes-no",name:"update_service",text:c.get("schema.group.text.may_modify_services")},{element:"radio-yes-no",name:"delete_service",text:c.get("schema.group.text.may_delete_services")}],values:{create_service:s.create_service,update_service:s.update_service,delete_service:s.delete_service}}).create();new b({title:c.get("schema.group.text."+i),content:n,buttons:[{content:c.get("action."+i),callback:function(){var a=r.getData();a.id=s.user_id;t.post({url:"/administration/groups/"+e.id+"/members/users/"+i+"/",data:a,async:false,token:true,success:function(t){if(t.status=="ok"){y.refreshUserGroupForm(e)}}})}}]}).create()};y.refreshUserGroupForm=function(e){y.createUserGroupMemberList(e);y.createUserGroupMemberForm(e)};y.listCompanies=function(){y.setTitle("schema.company.text.list");new h({url:"/administration/companies",header:{title:c.get("schema.company.text.list"),pager:true,search:true,icons:[{type:"create",callback:function(){y.route.to("administration/companies/create")},title:c.get("schema.company.text.create")}]},searchable:{url:"/administration/companies/search/",result:["id","alt_company_id","company","title","name","surname","zipcode","city","country","email"]},deletable:{title:c.get("schema.company.text.delete"),url:"/administration/companies/:id/delete/",result:["id","alt_company_id","company"]},sortable:true,reloadable:true,columnSwitcher:true,columns:[{name:"id",text:c.get("schema.company.attr.id"),hide:true},{name:"alt_company_id",text:c.get("schema.company.attr.alt_company_id"),hide:true},{name:"company",text:c.get("schema.company.attr.company"),call:function(e){return y.call("administration/companies/"+e.id+"/edit",e.company)
}},{name:"sla",text:c.get("schema.company.attr.sla"),prefix:c.get("schema.company.attr.sla"),wrapNameValueClass:true},{name:"email",text:c.get("schema.company.attr.email")},{name:"count_hosts_services",text:c.get("word.Hosts")+"/"+c.get("word.Services"),sortable:false},{name:"title",text:c.get("schema.company.attr.title"),hide:true},{name:"name",text:c.get("schema.company.attr.name")},{name:"surname",text:c.get("schema.company.attr.surname"),hide:true},{name:"address1",text:c.get("schema.company.attr.address1"),hide:true},{name:"address2",text:c.get("schema.company.attr.address2"),hide:true},{name:"zipcode",text:c.get("schema.company.attr.zipcode"),hide:true},{name:"city",text:c.get("schema.company.attr.city"),hide:true},{name:"state",text:c.get("schema.company.attr.state"),hide:true},{name:"country",text:c.get("schema.company.attr.country"),hide:true},{name:"phone",text:c.get("schema.company.attr.phone"),hide:true},{name:"fax",text:c.get("schema.company.attr.fax"),hide:true},{name:"active",text:c.get("schema.company.attr.active"),bool:"yn"},{name:"max_services",text:c.get("schema.company.attr.max_services")},{name:"sms_enabled",text:c.get("schema.company.attr.sms_enabled"),bool:"yn"},{name:"comment",text:c.get("schema.company.attr.comment"),hide:true}]}).create()};y.editCompany=function(e){var t=y.get("/administration/companies/"+e.id+"/options/");new x({title:c.get("schema.company.text.view",t.values.company,true)}).create();y.setMetaTitle(c.get("schema.company.text.view",t.values.company));new l({url:{submit:"/administration/companies/"+e.id+"/update/"},buttonText:c.get("action.update"),values:t.values,options:t.options,elements:y.getCompanyFormElements()}).create()};y.createCompany=function(){var e=y.get("/administration/companies/options/");new x({title:c.get("schema.company.text.create")}).create();y.setTitle("schema.company.text.create");new l({url:{submit:"/administration/companies/create/"},buttonText:c.get("action.create"),values:e.values,options:e.options,elements:y.getCompanyFormElements()}).create()};y.getCompanyFormElements=function(){return[{element:"input",type:"text",name:"alt_company_id",text:c.get("schema.company.attr.alt_company_id"),maxlength:64,required:true},{element:"input",type:"text",name:"company",text:c.get("schema.company.attr.company"),maxlength:100,required:true},{element:"select",name:"sla",text:c.get("schema.company.attr.sla")},{element:"input",type:"email",name:"email",text:c.get("schema.company.attr.email"),maxlength:100,required:true},{element:"input",type:"text",name:"title",text:c.get("schema.company.attr.title"),maxlength:30},{element:"input",type:"text",name:"name",text:c.get("schema.company.attr.name"),maxlength:100},{element:"input",type:"text",name:"surname",text:c.get("schema.company.attr.surname"),maxlength:100},{element:"input",type:"text",name:"address1",text:c.get("schema.company.attr.address1"),maxlength:100},{element:"input",type:"text",name:"address2",text:c.get("schema.company.attr.address2"),maxlength:100},{element:"input",type:"text",name:"zipcode",text:c.get("schema.company.attr.zipcode"),maxlength:20},{element:"input",type:"text",name:"city",text:c.get("schema.company.attr.city"),maxlength:100},{element:"input",type:"text",name:"state",text:c.get("schema.company.attr.state"),maxlength:100},{element:"input",type:"text",name:"country",text:c.get("schema.company.attr.country"),maxlength:100},{element:"input",type:"tel",name:"phone",text:c.get("schema.company.attr.phone"),maxlength:100},{element:"input",type:"tel",name:"fax",text:c.get("schema.company.attr.fax"),maxlength:100},{element:"radio-yes-no",name:"active",text:c.get("schema.company.attr.active"),description:c.get("schema.company.desc.active")},{element:"input",type:"text",name:"max_services",text:c.get("schema.company.attr.max_services"),description:c.get("schema.company.desc.max_services"),maxlength:6},{element:"radio-yes-no",name:"sms_enabled",text:c.get("schema.company.attr.sms_enabled")},{element:"textarea",name:"comment",text:c.get("schema.company.attr.comment"),maxlength:500}]};y.editCompanyVariables=function(e){y.setTitle("schema.company.text.edit_variables");new x({title:c.get("schema.company.text.edit_variables"),icons:[{type:"help",callback:function(){a.open("/#help/host-variables")},title:c.get("site.help.doc.host-variables")}]}).create();var t=y.get("/administration/variables");new l({url:{submit:"/administration/variables/update"},buttonText:c.get("action.update"),values:{variables:t},elements:[{element:"textarea",name:"variables",text:c.get("schema.company.attr.variables"),desc:c.get("schema.company.desc.variables"),maxlength:5e4}]}).create()};y.viewScreen=function(e){var i=a.extend({opts:{}},e);i.create=function(){this.checkUser();this.hideElements();this.showContent()};i.checkUser=function(){var e=this;if(y.user==undefined){var t=window.document.URL.toString().split("?");if(t[1]!=undefined){var a=t[1].split(/[;&]/);var i,s;$.each(a,function(t,a){var i=a.split("=");if(i[0]!=undefined&&i[1]!=undefined){var s=i[0],n=i[1];e.opts[s]=n}});if(this.opts.username!=undefined&&this.opts.authkey!=undefined){this.postdata={username:this.opts.username,authkey:this.opts.authkey}}}}};i.hideElements=function(){$("#nav-sub").fadeOut(200);$("#nav-main").fadeOut(200);$("#header").fadeOut(200);$("#footer").fadeOut(200);$("#content-outer").fadeOut(200)};i.showElements=function(){$("#nav-sub").fadeIn(200);$("#nav-main").fadeIn(200);$("#header").fadeIn(200);$("#footer").fadeIn(200);$("#content-outer").fadeIn(200)};i.addScreenElements=function(){this.body=$("body").css({"padding-top":"0px",width:"100%"}).addClass("screen")};i.removeScreenElements=function(){$(".screen-box-content").fadeOut(200).remove();$(".screen-counter-content").fadeOut(200).remove();$(".screen-container").fadeOut(200).remove();$("body").removeClass("screen")};i.goBack=function(e,t){if(y.user==undefined){location.href="/login/"}this.removeScreenElements();this.showElements();y.route.to(e,t)};i.showContent=function(){if(this.charts){this.viewCharts()}else if(this.dashboard){this.viewStatusDashboard()}};i.viewCharts=function(){var e=y.get("/screen/charts/view/"+this.opts.id,this.postdata);y.listCharts({screenCharts:e,screenOpts:this.opts,container:$("body")})};i.viewStatusDashboard=function(){var e=this;y.setTitle("nav.sub.screen");this.addScreenElements();this.screenContainer=a.create("div").addClass("screen-container").appendTo(this.body);this.screenCounterContent=a.create("div").addClass("screen-counter-content").appendTo(this.screenContainer).hide();this.screenBoxContent=a.create("div").addClass("screen-box-content").appendTo(this.screenContainer);this.unknownCounter=a.create("span").addClass("screen-unknown-counter").appendTo(this.screenCounterContent).click(function(){e.goBack("monitoring/hosts",{query:"status:UNKNOWN"})});this.criticalCounter=a.create("span").addClass("screen-critical-counter").appendTo(this.screenCounterContent).click(function(){e.goBack("monitoring/hosts",{query:"status:CRITICAL"})});this.warningCounter=a.create("span").addClass("screen-warning-counter").appendTo(this.screenCounterContent).click(function(){e.goBack("monitoring/hosts",{query:"status:WARNING"})});this.infoCounter=a.create("span").addClass("screen-info-counter").appendTo(this.screenCounterContent).click(function(){e.goBack("monitoring/hosts",{query:"status:INFO"})});this.okCounter=a.create("span").addClass("screen-ok-counter").appendTo(this.screenCounterContent).click(function(){e.goBack("monitoring/hosts",{query:"status:OK"})});this.timestamp=a.create("span").addClass("screen-timestamp").appendTo(this.screenCounterContent);a.create("div").addClass("clear").appendTo(this.screenCounterContent);this.refreshStatusDashboard();var t=setInterval(function(){e.refreshStatusDashboard()},3e4);y.intervalObjects.push(t)};i.refreshStatusDashboard=function(){var e=this;this.timestamp.html(g(new Date,g.masks.bloonix)).click(function(){e.goBack("monitoring/hosts")});t.post({url:"/screen/stats/",data:this.postdata,success:function(t){$("body").find(".screen-box-remove").fadeOut(300).remove();e.unknownCounter.text(t.data.overall_service_status.UNKNOWN+" "+c.get("text.services"));e.criticalCounter.text(t.data.overall_service_status.CRITICAL+" "+c.get("text.services"));e.warningCounter.text(t.data.overall_service_status.WARNING+" "+c.get("text.services"));e.infoCounter.text(t.data.overall_service_status.INFO+" "+c.get("text.services"));e.okCounter.text(t.data.overall_service_status.OK+" "+c.get("text.services"));if(e.screenCounterContent.is(":hidden")){e.screenCounterContent.fadeIn(400)}$.each(t.data.service_status_by_host,function(t,i){if(i.services.length){var s=a.create("a").addClass("screen-box-remove screen-box-1-1-outer screen-box-"+i["status"]).click(function(){e.goBack("monitoring/hosts/"+i.id)}).appendTo(e.screenBoxContent);var n=a.create("div").addClass("screen-box-1-1").appendTo(s);var r=[];$.each(i.services,function(e,t){if(i.services.length>1){r.push(t.service_name)}else{r.push(t.service_name+" - "+t.message)}});r=r.join(", ");if(r.length>200){r=r.substring(0,197)+"..."}a.create("h1").text(i.hostname).appendTo(n);a.create("h2").text(i.ipaddr).appendTo(n);a.create("p").text(r).appendTo(n)}});a.create("div").addClass("clear").appendTo(e.screenCounterContent)}})};i.create()};y.WTRM=function(e){var i=a.extend({appendTo:"#content",header:true,preload:false},e);i.stepId=0;i.maxSteps=50;i.stepCounter=0;i.steps={};i.getNewStepId=function(e){if(e==undefined){this.stepId++;return this.stepId}if(parseInt(e)>parseInt(this.stepId)){this.stepId=e}return e};i.create=function(){this.getActions();this.createStruct();this.createForm();this.createResultBoxes();this.preloadSteps()};i.getActions=function(){var e=this;this.actions=y.get("/wtrm/actions");this.actionsByName={};$.each(this.actions,function(t,a){e.actionsByName[a.action]=a})};i.createStruct=function(){if(this.header==true){new x({title:c.get("site.wtrm.text.wtrm_workflow"),border:true,appendTo:this.appendTo}).create()}this.outerBox=a.create("div").addClass("wtrm-outer-box").attr("data-name","command_options:workflow").appendTo(this.appendTo);this.infoBox=a.create("div").addClass("info-err").hide().appendTo(this.outerBox);this.formBox=a.create("div").appendTo(this.outerBox);this.stepBox=a.create("div").appendTo(this.outerBox)};i.createForm=function(){var e=this,t=[];this.form=new l({format:"large",appendTo:this.formBox}).init();$.each(this.actions,function(e,i){var s=/^do/.test(i.action)?"wtrm-action":"wtrm-check";var n=a.create("span");a.create("span").html(c.get("site.wtrm.action."+i.action)).appendTo(n);t.push({name:n,value:i.action,addClass:s})});this.selectBox=a.create("div").appendTo(this.form.getContainer());this.select=this.form.select({placeholder:"Add an action",appendTo:this.selectBox,options:t,readOnly:true,callback:function(t){e.createOrUpdateStep(t)}});this.button=a.create("div").css({"margin-left":"20px"}).addClass("btn btn-white btn-tall").html(c.get("site.wtrm.text.check_it")).appendTo(this.selectBox).click(function(){e.runTest()});this.button=a.create("div").css({"margin-left":"4px"}).addClass("btn btn-white btn-tall").html(c.get("site.wtrm.text.quick_check")).appendTo(this.selectBox).click(function(){e.runTest(true)})};i.createResultBoxes=function(){var e=this;this.transactionOuterBox=a.create("div").addClass("wtrm-outer").appendTo(this.stepBox);this.transactionInnerBox=a.create("div").addClass("wtrm-inner").appendTo(this.transactionOuterBox);this.transactionBox=a.create("ul").addClass("wtrm-steps").appendTo(this.transactionInnerBox).sortable({stop:function(){e.reNumberSteps()}})};i.createOrUpdateStep=function(e,t){this.infoBox.hide();var i=this,s=this.actionsByName[e],n=a.create("div").css({"margin-bottom":"60px"});var r=new l({format:"medium",appendTo:n,preventDefault:true}).init();var o=new h({type:"form",appendTo:r.getContainer()}).init();r.table=o.getTable();$.each(s.options,function(e,a){var s=a.name,n=a.mandatory,o;if(t){o=i.steps[t].attrs[s]}if(s=="hidden"){r.createElement({element:"radio-yes-no",name:s,text:c.get("site.wtrm.attr."+s),desc:c.get("site.wtrm.desc."+s),checked:o==="1"?"1":0})}else{r.createElement({element:"input",type:"text",name:s,value:o,text:c.get("site.wtrm.attr."+s),desc:c.get("site.wtrm.desc."+s),placeholder:c.get("site.wtrm.placeholder."+s),mandatory:n})}});new b({title:c.get("site.wtrm.action."+e),content:n,buttons:[{content:t?c.get("action.update"):c.get("action.add"),close:false,callback:function(a,s){var n=i.validateStep(e,r);if(n){if(t){i.updateStep(t,n)}else{i.addStep(e,n)}s.close()}}}],width:"600px"}).create()};i.validateStep=function(e,i,s){var n=this,r=this.actionsByName[e],o=a.filterEmptyValues(i.getData()),c;o.action=e;t.post({url:"/wtrm/validate/step",data:o,async:false,success:function(e){if(e.status=="err-610"){c=e.data.failed}}});if(c){i.markErrors(c);return false}return o};i.addStep=function(e,t){var i=this;var s=/^do/.test(e)?"wtrm-action":"wtrm-check";var n=this.getNewStepId(t.id);var r=a.create("li").attr("data-id",n).addClass("wtrm-step").appendTo(this.transactionBox);this.stepCounter++;this.steps[n]={action:e,object:r,attrs:t,pos:this.stepCounter};var o=a.create("div").addClass("wtrm-step-num").text("Step "+this.stepCounter).appendTo(r);a.create("div").addClass("wtrm-step-command").addClass(s).html(y.PreWtrmAction(e,t)).appendTo(r);this.steps[n].resultContainer=a.create("div").addClass("wtrm-step-result").appendTo(r);var l=a.create("span").addClass("wtrm-step-image").appendTo(r);a.create("span").addClass("hicons cog").appendTo(l).attr("title",c.get("action.edit")).tooltip().click(function(){i.createOrUpdateStep(e,n)});a.create("span").addClass("hicons remove").appendTo(l).attr("title",c.get("action.remove")).tooltip().click(function(){i.removeStep(n);i.reNumberSteps()});a.create("span").addClass("hicons sort").appendTo(l).attr("title",c.get("info.move_with_mouse")).tooltip();return true};i.updateStep=function(e,t){var a=this.steps[e],i=a.action;a.attrs={};$.each(t,function(e,t){a.attrs[e]=t});a.object.find(".wtrm-step-command").each(function(){$(this).html(y.PreWtrmAction(i,t))})};i.removeStep=function(e){var t=this.steps[e];delete this.steps[e];t.object.remove();this.stepCounter--;this.reNumberSteps()};i.reNumberSteps=function(){this.infoBox.hide();var e=this,t=1;this.transactionBox.find(".wtrm-step").each(function(){var a=$(this),i=a.data("id"),s=e.steps[i];a.find(".wtrm-step-num").each(function(){$(this).text("Step "+t);s.pos=t});t++})};i.validateSteps=function(){var e=this,t=false,i=false,s=[];$.each(this.steps,function(e,t){var i=t.pos-1;s[i]=a.extend({action:t.action,id:e},t.attrs)});$.each(s,function(a,s){var n=e.steps[s.id];if(n.action=="doUrl"){t=true}else if(t===false){if(n.action!="doAuth"&&n.action!="doUserAgent"){i="It's not possible to run a test without a <i>URL</i> action at the beginning of the workflow!"+" The only actions that may be placed in front of the <i>URL</i> action, are the actions"+" <i>Auth-Basic</i> and <i>User-Agent</i>!";return false}}});if(i===false&&t===false){i="It's not possible to run a test without a <i>URL</i> action at the beginning of the workflow!"}if(i){e.infoBox.html(i);e.infoBox.fadeIn(400);e.formBox.find(".loading-small").removeClass("loading-small");e.select.getContainer().show();e.button.show();return false}return s};i.runTest=function(e){var a=this;this.selectBox.hide();this.infoBox.hide();var i=this.validateSteps();if(i){$.each(i,function(e,t){var i=a.steps[t.id];i.resultContainer.html("");i.resultContainer.css({"min-height":"20px"});i.resultContainer.addClass("loading-small")});t.post({url:e?"/wtrm/quick":"/wtrm/test",data:i,success:function(e){if(e.status==="err-802"){y.createNoteBox({text:c.get("err-802"),infoClass:"info-err"});a.outerBox.find(".loading-small").removeClass("loading-small");a.selectBox.show()}else{a.maxTestRequests=50;a.waitForData(e.data,1)}}})}};i.waitForData=function(e,a){var i=this;t.post({url:e+"/"+a,success:function(t){i.processTestData(e,a,t.data)}})};i.processTestData=function(e,t,i){this.maxTestRequests--;var s=this,n=false;$.each(i,function(e,t){if(t.status==="ok"){var i=t.data;if(t.status=="done"){n=true}else{var r=s.steps[i.id],o=i.success==true?"ok":"error";if(o==="error"){n=true}r.result=i;r.resultContainer.removeClass("loading-small");a.create("span").addClass("wtrm-step-result-"+o).html(o).appendTo(r.resultContainer);a.create("span").addClass("wtrm-step-result-took").text(i.took+"ms").appendTo(r.resultContainer);var c=new h({type:"none",addClass:"wtrm-step-result-table",appendTo:r.resultContainer}).init();c.createRow(["Status",o]);c.createRow(["Took",i.took+"ms"]);c.createRow(["Start",g(i.start,g.masks.timePlusMs)]);c.createRow(["Stop",g(i.stop,g.masks.timePlusMs)]);if(o==="error"){if(i.message){c.createRow(["Message",i.message])}if(i.debug){c.createRow(["Debug",i.debug.join("<br/>")])}}if(i.image){var l=a.create("div").addClass("wtrm-step-result-image").appendTo(r.resultContainer);a.create("img").attr("src","data:image/png;base64,"+i.image).appendTo(l);l.click(function(){var e=a.create("div").addClass("overlay-outer").appendTo("body");var t=a.create("div").addClass("overlay-fullscreen").appendTo(e);a.create("img").attr("src","data:image/png;base64,"+i.image).appendTo(t);e.fadeIn(400);e.click(function(){e.remove()})})}}}else{n=true}});if(n==true){this.outerBox.find(".loading-small").removeClass("loading-small");this.selectBox.show();return false}else if(this.maxTestRequests>0){this.waitForData(e,t+i.length)}else{this.selectBox.show()}};i.preloadSteps=function(){var e=this;if(this.preload){$.each(this.preload,function(t,a){e.addStep(a.action,a)})}};i.create();return i};y.getWtrmElement=function(e){return e["parent"]?e["parent"]+" "+e.element:e.element};y.PreWtrmAction=function(e,t){var i={};$.each(t,function(e,t){i[e]=a.escape(t)});return y.WtrmAction[e](i)};y.WtrmAction={doAuth:function(e){return c.get("site.wtrm.command.doAuth",[e.username,e.password])},doUserAgent:function(e){return c.get("site.wtrm.command.doUserAgent",[e.userAgent])},doUrl:function(e){return c.get("site.wtrm.command.doUrl",[e.url])},doFill:function(e){return c.get("site.wtrm.command.doFill",[y.getWtrmElement(e),e.hidden==="1"?"xxxxxx":e.value])},doClick:function(e){return c.get("site.wtrm.command.doClick",[y.getWtrmElement(e)])},doSubmit:function(e){return c.get("site.wtrm.command.doSubmit",[y.getWtrmElement(e)])},doCheck:function(e){return c.get("site.wtrm.command.doCheck",[y.getWtrmElement(e),e.value])},doUncheck:function(e){return c.get("site.wtrm.command.doUncheck",[y.getWtrmElement(e),e.value])},doSelect:function(e){return c.get("site.wtrm.command.doSelect",[e.value,y.getWtrmElement(e)])},doWaitForElement:function(e){if(e.text){return c.get("site.wtrm.command.doWaitForElementWithText",[y.getWtrmElement(e),e.text])}return c.get("site.wtrm.command.doWaitForElement",[y.getWtrmElement(e)])},doSleep:function(e){return c.get("site.wtrm.command.doSleep",[e.ms])},checkUrl:function(e){if(e.contentType){return c.get("site.wtrm.command.checkUrlWithContentType",[e.url,e.contentType])}return c.get("site.wtrm.command.checkUrl",[e.url])},checkIfElementExists:function(e){return c.get("site.wtrm.command.checkIfElementExists",[y.getWtrmElement(e)])},checkIfElementNotExists:function(e){return c.get("site.wtrm.command.checkIfElementNotExists",[y.getWtrmElement(e)])},checkIfElementHasText:function(e){return c.get("site.wtrm.command.checkIfElementHasText",[y.getWtrmElement(e),e.text])},checkIfElementHasNotText:function(e){return c.get("site.wtrm.command.checkIfElementHasNotText",[y.getWtrmElement(e),e.text])},checkIfElementHasHTML:function(e){return c.get("site.wtrm.command.checkIfElementHasHTML",[y.getWtrmElement(e),e.html])},checkIfElementHasNotHTML:function(e){return c.get("site.wtrm.command.checkIfElementHasNotHTML",[y.getWtrmElement(e),e.html])},checkIfElementHasValue:function(e){return c.get("site.wtrm.command.checkIfElementHasValue",[y.getWtrmElement(e),e.hidden==="1"?"xxxxxx":e.value])},checkIfElementHasNotValue:function(e){return c.get("site.wtrm.command.checkIfElementHasNotValue",[y.getWtrmElement(e),e.value])},checkIfElementIsChecked:function(e){return c.get("site.wtrm.command.checkIfElementIsChecked",[y.getWtrmElement(e),e.value])},checkIfElementIsNotChecked:function(e){return c.get("site.wtrm.command.checkIfElementIsNotChecked",[y.getWtrmElement(e),e.value])},checkIfElementIsSelected:function(e){return c.get("site.wtrm.command.checkIfElementIsSelected",[y.getWtrmElement(e),e.value])},checkIfElementIsNotSelected:function(e){return c.get("site.wtrm.command.checkIfElementIsNotSelected",[y.getWtrmElement(e),e.value])}};if(window.Highcharts){Highcharts.setOptions({credits:{enabled:false},global:{useUTC:false},chart:{style:{fontFamily:'"Helvetica Neue",Arial,Helvetica,sans-serif,Serif'}}})}y.highcharts={};y.highcharts.plotChart=function(e){if(y.checkEmptyChartData(e)){return false}if(e.chart.xAxisType==undefined){e.chart.xAxisType="datetime"}if(e.chart.lineMarker==undefined){e.chart.lineMarker=false}var t={chart:{zoomType:"x",renderTo:e.chart.container,type:e.chart.type,plotBorderColor:"#e1e1e1",plotBorderWidth:1},title:{text:e.chart.title,align:"left",style:{color:"#333333",fontWeight:"normal",fontSize:"14px"}},subtitle:{text:e.chart.subtitle,align:"left",style:{color:"#555555",fontWeight:"normal",fontSize:"13px"}},xAxis:{type:"datetime",title:{text:e.chart.xlabel,style:{color:"#555555",fontWeight:"normal",fontSize:"13px"}}},yAxis:{title:{text:e.chart.ylabel,align:"high",style:{color:"#555555",fontWeight:"normal",fontSize:"12px"}},labels:{style:{color:"#555555",fontWeight:"normal",fontSize:"12px"}}},legend:{itemStyle:{color:"#333333",fontSize:"12px",fontWeight:"normal"},symbolWidth:20,borderWidth:0},tooltip:{crosshairs:true,shared:true,valueDecimals:2,formatter:function(){var t=new Date(this.x),i="<b>"+g(t,"highchartsTooltip")+"</b>";$.each(this.points,function(t,s){var n=s.series.name,r=e.colors[s.series.name]||a.rgbToHex(s.series.color),o=s.y,c=e.chart.units||e.units[n];if(c){if(/bytes|bits/.test(c)){o=y.convertBytesToStr(c,o,true)}else if(c=="default"||c=="null"){o=y.convertUnitsToStr(c,o,true)}}i+='<br /><span style="color:'+r+';font-weight:bold;">'+n+": "+o+"</span>"});return i}},plotOptions:{line:{marker:{enabled:false},connectNulls:false},spline:{marker:{enabled:false},connectNulls:false},area:{stacking:e.hasNegativeValues==true?null:"normal",lineWidth:1,marker:{enabled:false},connectNulls:false}},series:e.series};if(e.legend&&e.legend.enabled===false){t.legend.enabled=false}if(e.plotOptions&&e.plotOptions.animation!==undefined){t.plotOptions.line.animation=e.plotOptions.animation;t.plotOptions.spline.animation=e.plotOptions.animation;t.plotOptions.area.animation=e.plotOptions.animation}if(e.chart.units){if(/bytes|bits/.test(e.chart.units)){t.yAxis.labels.formatter=function(){return y.convertBytesToStr(e.chart.units,this.value)}}else{t.yAxis.labels.formatter=function(){return y.convertUnitsToStr(e.chart.units,this.value)}}}if(e.hasNegativeValues!=true){t.yAxis.min=0}y.createOrReplaceChart({container:e.chart.container,chartOpts:t,type:"Chart"})};y.highcharts.createChartForMTR=function(e){var t={chart:{renderTo:e.chart.container},title:{text:false},yAxis:[{min:0,title:{text:"time in ms"}},{min:0,max:100,title:{text:"loss %"},opposite:true}],xAxis:{title:"Step",categories:e.categories},tooltip:{crosshairs:true,shared:true,formatter:function(){var t=this.x,a="<b>"+t+") IP "+e.ipaddrByStep[t]+"</b>";$.each(this.points,function(e,t){var i=t.series.name,s=t.series.color,n=t.y;a+='<br /><span style="color:'+s+'; font-weight: bold;">'+i+"</span>: <b>"+n+"</b>"});return a}},plotOptions:{column:{stacking:"normal"}},series:e.series};new Highcharts.Chart(t)};y.highcharts.createChartForWTRM=function(e){return new Highcharts.Chart({chart:{type:"area",renderTo:e.chart.container},title:{text:e.chart.title,align:"left",style:{color:"#333333",fontWeight:"normal",fontSize:"14px"}},subtitle:{text:e.chart.subtitle,align:"left",style:{color:"#555555",fontWeight:"normal",fontSize:"13px"}},xAxis:{categories:e.categories,title:{enabled:false}},yAxis:{title:{text:"ms"}},tooltip:{formatter:function(){return this.x+" step took <b>"+this.y+"ms</b>"}},legend:{enabled:false},plotOptions:{area:{stacking:"normal",lineColor:"#005467",lineWidth:1,marker:{lineWidth:1,lineColor:"#005467"}}},series:[{name:"Steps",color:"#005467",data:e.seriesData}]})};y.highcharts.pieChart=function(e){var t={chart:{renderTo:e.chart.container,plotBackgroundColor:null,plotBorderWidth:null,plotShadow:true,type:"pie",options3d:{enabled:true,alpha:45,beta:0}},title:{text:e.chart.title,style:{color:"#444444",fontWeight:"normal",fontSize:"15px"}},subtitle:{text:e.chart.subtitle,style:{color:"#555555",fontWeight:"normal",fontSize:"13px"}},tooltip:{pointFormat:"{series.name}: <b>{point.percentage:.1f}%</b>"},legend:{itemStyle:{color:"#444444",fontSize:"12px"},itemHoverStyle:{color:"#000000"},borderWidth:0},plotOptions:{pie:{allowPointSelect:true,cursor:"pointer",showInLegend:true,depth:35,dataLabels:{enabled:true,formatter:function(){return"<b>"+this.point.name+"</b>: "+this.percentage.toFixed(2)+" %"}}}},series:[{data:e.data}]};if(e.plotOptions&&e.plotOptions.animation!==undefined){t.plotOptions.pie.animation=e.plotOptions.animation}if(e.legend==false){t.plotOptions.pie.showInLegend=false;t.plotOptions.pie.dataLabels.enabled=false}if(e.onClick!=undefined){t.plotOptions.series={cursor:"pointer",point:{events:{click:function(){e.onClick(this.name)}}}}}if(e.colors){if(e.gradient==true||e.gradient==undefined){t.colors=[];$.each(e.colors,function(e,i){var s="rgb("+a.hexToRGB(i).join(",")+")";t.colors.push({radialGradient:{cx:.5,cy:.3,r:.7},stops:[[0,Highcharts.Color(s).brighten(.2).get("rgb")],[1,Highcharts.Color(s).brighten(-.1).get("rgb")]]})})}else{t.colors=e.colors}}y.createOrReplaceChart({container:e.chart.container,chartOpts:t,type:"Chart"})};y.highcharts.barChart=function(e){var t={chart:{renderTo:e.chart.container,type:"column",margin:50,options3d:{enabled:true,alpha:10,beta:25,depth:70}},title:{text:e.chart.title,style:{color:"#444444",fontWeight:"normal",fontSize:"15px"}},subtitle:{text:e.chart.subtitle,style:{color:"#555555",fontWeight:"normal",fontSize:"13px"}},xAxis:{categories:e.categories,title:{text:e.chart.xaxisTitle,style:{color:"#555555",fontWeight:"normal",fontSize:"12px"}}},yAxis:{min:0,title:{text:e.chart.yaxisTitle,align:"high",style:{color:"#555555",fontWeight:"normal",fontSize:"12px"}},labels:{overflow:"justify"}},tooltip:{formatter:function(){return""+this.series.name+": "+this.y+" services"}},plotOptions:{column:{dataLabels:{enabled:false}}},series:e.series};if(e.plotOptions&&e.plotOptions.animation!==undefined){t.plotOptions.column.animation=e.plotOptions.animation}y.createOrReplaceChart({container:e.chart.container,chartOpts:t,type:"Chart"})};y.highcharts.mapChart=function(e){var t=[],a="#c9c9c9",i="#f9f9f9";if(e.data.GB){e.data.UK=e.data.GB;delete e.data.GB}$.each(y.highcharts.mapCodes,function(a,s){var n=a.toUpperCase(),r=0;if(e.data[n]){if(e.data[n].UNKNOWN>0){r=5}else if(e.data[n].CRITICAL>0){r=4}else if(e.data[n].WARNING>0){r=3}else if(e.data[n].INFO>0){r=2}else if(e.data[n].OK>0){r=1}}t.push({flag:a,code:n,name:s,value:r,borderColor:i})});var s={chart:{renderTo:e.chart.container},title:{text:e.chart.title,style:{color:"#444444",fontWeight:"normal",fontSize:"15px"}},subtitle:{text:e.chart.subtitle,style:{color:"#555555",fontWeight:"normal",fontSize:"13px"}},legend:{enabled:false},mapNavigation:{enabled:true,enableMouseWheelZoom:true,enableTouchZoom:true,enableButtons:false},tooltip:{backgroundColor:"none",borderWidth:0,shadow:false,useHTML:true,padding:0,formatter:function(){if(!this.point.flag){return""}if(!e.data[this.point.code]){e.data[this.point.code]={UNKNOWN:0,CRITICAL:0,WARNING:0,INFO:0,OK:0}}return'<div class="map-tooltip"><span class="f32"><span class="flag '+this.point.flag+'"></span></span> '+this.point.name+"<br/><b>Unknown: </b>"+e.data[this.point.code].UNKNOWN+"<br/><b>Critical: </b>"+e.data[this.point.code].CRITICAL+"<br/><b>Warning: </b>"+e.data[this.point.code].WARNING+"<br/><b>Info: </b>"+e.data[this.point.code].INFO+"<br/><b>Ok: </b>"+e.data[this.point.code].OK+"</div>"}},plotOptions:{series:{point:{events:{click:function(){y.route.to("monitoring/hosts",{query:"c:"+this.flag.toUpperCase()})}}}}},colorAxis:{dataClasses:[{from:0,to:0,color:a},{from:1,to:1,color:"#5fbf5f"},{from:2,to:2,color:"#339ab8"},{from:3,to:3,color:"#edc951"},{from:4,to:4,color:"#cc333f"},{from:5,to:5,color:"#eb6841"}]},series:[{data:t,name:"Host availability",mapData:Highcharts.maps.world,joinBy:"code",valueRanges:[{from:0,to:0,color:a},{from:1,to:1,color:"#5fbf5f"},{from:2,to:2,color:"#339ab8"},{from:3,to:3,color:"#edc951"},{from:4,to:4,color:"#cc333f"},{from:5,to:5,color:"#eb6841"}],states:{hover:{color:"#68a4a3"}}}]};if(e.plotOptions&&e.plotOptions.animation!==undefined){s.series[0].animation=e.plotOptions.animation}y.createOrReplaceChart({container:"#"+e.chart.container,chartOpts:s,type:"Map"})};y.highcharts.createLocationMap=function(e){return new Highcharts.Map({chart:{renderTo:e.container},title:{text:e.title,style:{color:"#444444",fontWeight:"normal",fontSize:"15px"}},subtitle:{text:e.subtitle,style:{color:"#555555",fontWeight:"normal",fontSize:"13px"}},legend:{enabled:false},tooltip:{formatter:function(){if(!this.point.ipaddr){return false}return"<b>"+this.point.name+"</b><br/><span>"+this.point.ipaddr+"</span>"}},mapNavigation:{enabled:true,enableDoubleClickZoom:true,enableDoubleClickZoomTo:true,enableMouseWheelZoom:true,enableTouchZoom:true,enableButtons:false},series:[{name:"Country",mapData:Highcharts.maps.world,joinBy:"code",borderColor:"#b1b1b1",states:{hover:{color:"#aad7d6"}}},{type:"mappoint",id:"clicks",name:"Location",data:e.data}]})};y.highcharts.mapCodes={af:"Afghanistan",al:"Albania",dz:"Algeria",as:"American Samoa",ad:"Andorra",ao:"Angola",ai:"Antigua and Barbuda",ar:"Argentina",am:"Armenia",aw:"Aruba",au:"Australia",at:"Austria",az:"Azerbaijan",bs:"Bahamas, The",bh:"Bahrain",bd:"Bangladesh",bb:"Barbados",by:"Belarus",be:"Belgium",bz:"Belize",bj:"Benin",bm:"Bermuda",bt:"Bhutan",bo:"Bolivia",ba:"Bosnia and Herzegovina",bw:"Botswana",br:"Brazil",bn:"Brunei Darussalam",bg:"Bulgaria",bf:"Burkina Faso",bi:"Burundi",kh:"Cambodia",cm:"Cameroon",ca:"Canada",cv:"Cape Verde",ky:"Cayman Islands",cf:"Central African Republic",td:"Chad",cl:"Chile",cn:"China",co:"Colombia",km:"Comoros",cd:"Congo, Dem. Rep.",cg:"Congo, Rep.",cr:"Costa Rica",ci:"Cote d'Ivoire",hr:"Croatia",cu:"Cuba",cw:"Curacao",cy:"Cyprus",cz:"Czech Republic",dk:"Denmark",dj:"Djibouti",dm:"Dominica","do":"Dominican Republic",ec:"Ecuador",eg:"Egypt, Arab Rep.",sv:"El Salvador",gq:"Equatorial Guinea",er:"Eritrea",ee:"Estonia",et:"Ethiopia",fo:"Faeroe Islands",fj:"Fiji",fi:"Finland",fr:"France",pf:"French Polynesia",ga:"Gabon",gm:"Gambia, The",ge:"Georgia",de:"Germany",gh:"Ghana",gr:"Greece",gl:"Greenland",gd:"Grenada",gu:"Guam",gt:"Guatemala",gn:"Guinea",gw:"Guinea-Bissau",gy:"Guyana",ht:"Haiti",hn:"Honduras",hk:"Hong Kong SAR, China",hu:"Hungary",is:"Iceland","in":"India",id:"Indonesia",ir:"Iran, Islamic Rep.",iq:"Iraq",ie:"Ireland",im:"Isle of Man",il:"Israel",it:"Italy",jm:"Jamaica",jp:"Japan",jo:"Jordan",kz:"Kazakhstan",ke:"Kenya",ki:"Kiribati",kp:"Korea, Dem. Rep.",kr:"Korea, Rep.",xk:"Kosovo",kw:"Kuwait",kg:"Kyrgyz Republic",la:"Lao PDR",lv:"Latvia",lb:"Lebanon",ls:"Lesotho",lr:"Liberia",ly:"Libya",li:"Liechtenstein",lt:"Lithuania",lu:"Luxembourg",mo:"Macao SAR, China",mk:"Macedonia, FYR",mg:"Madagascar",mw:"Malawi",my:"Malaysia",mv:"Maldives",ml:"Mali",mt:"Malta",mh:"Marshall Islands",mr:"Mauritania",mu:"Mauritius",yt:"Mayotte",mx:"Mexico",fm:"Micronesia, Fed. Sts.",md:"Moldova",mc:"Monaco",mn:"Mongolia",me:"Montenegro",ma:"Morocco",mz:"Mozambique",mm:"Myanmar",na:"Namibia",np:"Nepal",nl:"Netherlands",nc:"New Caledonia",nz:"New Zealand",ni:"Nicaragua",ne:"Niger",ng:"Nigeria",mp:"Northern Mariana Islands",no:"Norway",om:"Oman",pk:"Pakistan",pw:"Palau",pa:"Panama",pg:"Papua New Guinea",py:"Paraguay",pe:"Peru",ph:"Philippines",pl:"Poland",pt:"Portugal",pr:"Puerto Rico",wa:"Qatar",ro:"Romania",ru:"Russian Federation",rw:"Rwanda",ws:"Samoa",sm:"San Marino",st:"Sao Tome and Principe",sa:"Saudi Arabia",sn:"Senegal",rs:"Serbia",sc:"Seychelles",sl:"Sierra Leone",sg:"Singapore",sk:"Slovak Republic",si:"Slovenia",sb:"Solomon Islands",so:"Somalia",za:"South Africa",ss:"South Sudan",es:"Spain",lk:"Sri Lanka",kn:"St. Kitts and Nevis",lc:"St. Lucia",mf:"St. Martin (French part)",vc:"St. Vincent and the Grenadines",sd:"Sudan",sr:"Suriname",sz:"Swaziland",se:"Sweden",ch:"Switzerland",sy:"Syrian Arab Republic",tj:"Tajikistan",tz:"Tanzania",th:"Thailand",tp:"Timor-Leste",tg:"Togo",to:"Tonga",tt:"Trinidad and Tobago",tn:"Tunisia",tr:"Turkey",tm:"Turkmenistan",tc:"Turks and Caicos Islands",tv:"Tuvalu",ug:"Uganda",ua:"Ukraine",ae:"United Arab Emirates",uk:"United Kingdom",us:"United States",uy:"Uruguay",uz:"Uzbekistan",vu:"Vanuatu",ve:"Venezuela, RB",vn:"Vietnam",vi:"Virgin Islands (U.S.)",ps:"West Bank and Gaza",eh:"Western Sahara",ye:"Yemen, Rep.",zm:"Zambia",zw:"Zimbabwe"};
y.other={};y.other.plotChart=function(e){if(y.checkEmptyChartData(e)){return false}var t=e.chart.container,i="#"+e.chart.container,s=t+"-header",n=i+"-header",r=t+"-content",o=i+"-content",c=t+"-legend",l=i+"-legend",h=t+"-tooltip",d=i+"-tooltip",m=[];var u={container:o};$(i).html("");var p=a.create("div").attr("id",s).appendTo(i);if(e.chart.title){a.create("div").addClass("chart-title").text(e.chart.title).appendTo(p)}if(e.chart.subtitle){a.create("div").addClass("chart-subtitle").text(e.chart.subtitle).appendTo(p)}var f=a.create("div").attr("id",r).appendTo(i);var v=a.create("div").attr("id",c).addClass("chart-legend").appendTo(i);if(e.mode===undefined){e.mode="time"}u.opts={yaxis:{show:true,position:"left",font:{size:12,lineHeight:12,color:"#606060"},axisLabel:e.chart.ylabel,axisLabelUseCanvas:true,axisLabelFontSizePixels:12,axisLabelColour:"#606060"},xaxis:{show:true,mode:e.mode,timezone:"browser",tickLength:0,font:{size:12,lineHeight:12,color:"#606060"}},legend:{show:false},grid:{show:true,color:"#222222",borderWidth:1,borderColor:"#e1e1e1",hoverable:true,autoHighlight:false},series:{}};if(e.mode==="time"){u.opts.crosshair={mode:"x",color:"rgba(0,0,0,.2)"}}if(e.points===true){u.opts.series.points={show:true,radius:3};u.opts.lines={show:true}}if(e.chart.type==="area"){u.opts.series.stack=true;u.opts.series.lines={fill:.7,lineWidth:1}}if(e.chart.units){if(/bytes|bits/.test(e.chart.units)){u.opts.yaxis.tickFormatter=function(t){return y.convertBytesToStr(e.chart.units,t)}}else{u.opts.yaxis.tickFormatter=function(t){return y.convertUnitsToStr(e.chart.units,t)}}}u.data=[];$.each(e.series,function(e,t){if(t.type==="column"){return true}if(t.color===undefined){if(m.length===0){m=y.other.defaultColors()}t.color=m.shift()}u.data.push({label:t.name,color:t.color,data:t.data,points:t.points,__showData:true,__data:t.__data});var i=a.create("div").addClass("chart-legend-box").css({cursor:"pointer"}).appendTo(v);a.create("div").addClass("chart-legend-label").css({background:t.color}).appendTo(i);a.create("div").addClass("chart-legend-text").text(t.name).appendTo(i);i.click(function(){y.other.showOrHideData({chart:u,label:t.name,item:i})})});var b=function(){var e=$(i).height()-p.outerHeight()-v.outerHeight()-1;f.css({height:e+"px"})};b();u.plot=$(o).plot(u.data,u.opts).data("plot");$(i).tooltip({items:o,content:function(){return'<div id="'+h+'"></div>'},tooltipClass:"tooltip-ng",track:true});if(e.mode==="time"){$(o).bind("plothover",function(t,a){var i=u.plot.getAxes();if(a.x<i.xaxis.min||a.x>i.xaxis.max||a.y<i.yaxis.min||a.y>i.yaxis.max){return}var s,n,r=u.plot.getData(),o=[];for(s=0;s<r.length;++s){var c=r[s];if(c.data.length>0){$.each(c.data,function(t,i){if(i[0]>=a.x){var n=i[0];var r=i[1];if(s===0){if(c.__data){o.push("<b>"+n+": "+c.__data.xaxis[n]+"</b>")}else{var l=new Date(n);o.push("<b>"+g(l,"highchartsTooltip")+"</b>")}}if(e.chart.units){if(/bytes|bits/.test(e.chart.units)){r=y.convertBytesToStr(e.chart.units,r,true)}else{r=y.convertUnitsToStr(e.chart.units,r,true)}}o.push('<b style="color:'+c.color+';">'+c.label+"</b>: "+"<b>"+r+"</b>");return false}})}}if(o.length>0){$(d).html('<div class="tooltip-ng-content">'+o.join("<br/>")+"</div>")}})}$(l).resize(function(){b();u.plot.resize()})};y.other.showOrHideData=function(e){var t=[];$.each(e.chart.data,function(a,i){if(i.label===e.label){if(i.__showData===true){i.__showData=false;e.item.css({opacity:.5})}else{t.push(i);i.__showData=true;e.item.css({opacity:1})}}else if(i.__showData===true){t.push(i)}});e.chart.plot=$(e.chart.container).plot(t,e.chart.opts).data("plot")};y.other.createChartForMTR=function(e){var t=[],a=["circle","square","diamond","triangle","cross"];$.each(e.series,function(i,s){if(s.type==="column"){return true}$.each(s.data,function(t,a){s.data[t]=[e.categories[t],s.data[t]]});t.push({name:s.name,color:s.color,data:s.data,points:{symbol:a.shift()},__data:{xaxis:e.ipaddrByStep}})});e.mode="categories";e.type="line";e.series=t;e.points=true;y.other.plotChart(e)};y.other.createChartForWTRM=function(e){var t=[];$.each(e.seriesData,function(t,a){e.seriesData[t]=[e.categories[t],e.seriesData[t]]});t.push({name:"Steps",color:"#005467",data:e.seriesData,points:{symbol:"circle"}});e.mode="categories";e.type="area";e.series=t;e.points=true;y.other.plotChart(e)};y.other.defaultColors=function(){return["#7cb5ec","#434348","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#8085e8","#8d4653","#91e8e1"]};y.other.pieChart=function(e){var t=[];var i=e.chart.container,s="#"+e.chart.container,n=i+"-content",r=s+"-content",o=i+"-legend",c=s+"-legend";$(s).html("");var l=a.create("div").attr("id",n).appendTo(s);var h=a.create("div").attr("id",o).addClass("chart-legend").appendTo(s);if(e.legend===false){h.hide()}$.each(e.data,function(i,s){t.push({label:s.name,data:s.y,color:e.colors[i]});var n=a.create("div").addClass("chart-legend-box").appendTo(h);a.create("div").addClass("chart-legend-label").css({background:e.colors[i]}).appendTo(n);a.create("div").addClass("chart-legend-text").text(s.name).appendTo(n)});var d=function(){var e=$(s).height()-h.outerHeight()-1;l.css({height:e+"px"})};d();$(r).html("");var m=$.plot(r,t,{series:{pie:{show:true,radius:3/4,highlight:{opacity:.1},stroke:{color:"#ffffff",width:1},label:{show:e.legend===false?false:true,radius:3/4,formatter:function(e,t){return"<div style='font-size:12px; text-align:center; padding:4px; color:white;'>"+e+"<br/>"+Math.round(t.percent)+"%</div>"},background:{opacity:.5,color:"#000"}}}},grid:{clickable:true,hoverable:true},legend:{show:false}});$(r).resize(function(){d();m.resize()});$(r).bind("plotclick",function(t,a,i){if(i&&e.onClick){e.onClick(i.series.label)}});$(r).bind("plothover",function(e,t,a){if(a){document.body.style.cursor="pointer"}else{document.body.style.cursor="default"}})};y.other.barChart=function(e){var t="#"+e.chart.container,a=[];$.each(e.series,function(t,i){$.each(i.data,function(t,s){a.push({data:[[e.categories[t],s]],color:i.color})})});$.plot(t,a,{series:{bars:{show:true,barWidth:.6,align:"center"}},xaxis:{mode:"categories",tickLength:0},legend:{show:true},grid:{show:true,color:"#222222",borderWidth:1,borderColor:"#e1e1e1",hoverable:true,autoHighlight:false}})};y.other.mapChart=function(e){var t={},a={},i={};var s={UNKNOWN:"#eb6841",CRITICAL:"#cc333f",WARNING:"#edc951",INFO:"#339ab8",OK:"#5fbf5f",defaultFill:"#c9c9c9"};$.each(e.data,function(e,i){var n=e.toLowerCase(),r="OK";if(i.UNKNOWN>0){r="UNKNOWN"}else if(i.CRITICAL>0){r="CRITICAL"}else if(i.WARNING>0){r="WARNING"}else if(i.INFO>0){r="INFO"}a[n]=s[r];t[n]={UNKNOWN:i.UNKNOWN,CRITICAL:i.CRITICAL,WARNING:i.WARNING,INFO:i.INFO,OK:i.OK}});$(".jqvmap-label").remove();$("#"+e.chart.container).html("").off().vectorMap({map:"world_en",backgroundColor:"#ffffff",borderColor:"#ffffff",borderOpacity:1,borderWidth:1,color:"#c9c9c9",colors:a,enableZoom:true,hoverColor:"#68a4a3",hoverOpacity:null,normalizeFunction:"linear",selectedColor:null,selectedRegion:null,showTooltip:true,onRegionClick:function(t,a,i){$("#"+e.chart.container).html("").off();$(".jqvmap-label").remove();y.route.to("monitoring/hosts",{query:"c:"+a.toUpperCase()})},onLabelShow:function(e,a,i){a.css({"z-index":"10005",position:"fixed"});var s;if(t[i]){s=t[i]}else{s={OK:0,INFO:0,WARNING:0,CRITICAL:0,UNKNOWN:0}}var n='<div class="map-tooltip"><span class="f32"><span class="flag '+i+'"></span></span> '+y.other.mapRegions[i]+"<br/><b>Unknown: </b>"+s.UNKNOWN+"<br/><b>Critical: </b>"+s.CRITICAL+"<br/><b>Warning: </b>"+s.WARNING+"<br/><b>Info: </b>"+s.INFO+"<br/><b>Ok: </b>"+s.OK+"</div>";a.html(n)}})};y.other.mapCodes={AF:"AFG",af:"AFG",AFG:"af",AL:"ALB",al:"ALB",ALB:"al",DZ:"DZA",dz:"DZA",DZA:"dz",AS:"ASM",as:"ASM",ASM:"as",AD:"AND",ad:"AND",AND:"ad",AO:"AGO",ao:"AGO",AGO:"ao",AI:"AIA",ai:"AIA",AIA:"ai",AQ:"ATA",aq:"ATA",ATA:"aq",AG:"ATG",ag:"ATG",ATG:"ag",AR:"ARG",ar:"ARG",ARG:"ar",AM:"ARM",am:"ARM",ARM:"am",AW:"ABW",aw:"ABW",ABW:"aw",AU:"AUS",au:"AUS",AUS:"au",AT:"AUT",at:"AUT",AUT:"at",AZ:"AZE",az:"AZE",AZE:"az",BS:"BHS",bs:"BHS",BHS:"bs",BH:"BHR",bh:"BHR",BHR:"bh",BD:"BGD",bd:"BGD",BGD:"bd",BB:"BRB",bb:"BRB",BRB:"bb",BY:"BLR",by:"BLR",BLR:"by",BE:"BEL",be:"BEL",BEL:"be",BZ:"BLZ",bz:"BLZ",BLZ:"bz",BJ:"BEN",bj:"BEN",BEN:"bj",BM:"BMU",bm:"BMU",BMU:"bm",BT:"BTN",bt:"BTN",BTN:"bt",BO:"BOL",bo:"BOL",BOL:"bo",BA:"BIH",ba:"BIH",BIH:"ba",BW:"BWA",bw:"BWA",BWA:"bw",BR:"BRA",br:"BRA",BRA:"br",IO:"IOT",io:"IOT",IOT:"io",VG:"VGB",vg:"VGB",VGB:"vg",BN:"BRN",bn:"BRN",BRN:"bn",BG:"BGR",bg:"BGR",BGR:"bg",BF:"BFA",bf:"BFA",BFA:"bf",MM:"MMR",mm:"MMR",MMR:"mm",BI:"BDI",bi:"BDI",BDI:"bi",KH:"KHM",kh:"KHM",KHM:"kh",CM:"CMR",cm:"CMR",CMR:"cm",CA:"CAN",ca:"CAN",CAN:"ca",CV:"CPV",cv:"CPV",CPV:"cv",KY:"CYM",ky:"CYM",CYM:"ky",CF:"CAF",cf:"CAF",CAF:"cf",TD:"TCD",td:"TCD",TCD:"td",CL:"CHL",cl:"CHL",CHL:"cl",CN:"CHN",cn:"CHN",CHN:"cn",CX:"CXR",cx:"CXR",CXR:"cx",CC:"CCK",cc:"CCK",CCK:"cc",CO:"COL",co:"COL",COL:"co",KM:"COM",km:"COM",COM:"km",CK:"COK",ck:"COK",COK:"ck",CR:"CRC",cr:"CRC",CRC:"cr",HR:"HRV",hr:"HRV",HRV:"hr",CU:"CUB",cu:"CUB",CUB:"cu",CY:"CYP",cy:"CYP",CYP:"cy",CZ:"CZE",cz:"CZE",CZE:"cz",CD:"COD",cd:"COD",COD:"cd",DK:"DNK",dk:"DNK",DNK:"dk",DJ:"DJI",dj:"DJI",DJI:"dj",DM:"DMA",dm:"DMA",DMA:"dm",DO:"DOM","do":"DOM",DOM:"do",EC:"ECU",ec:"ECU",ECU:"ec",EG:"EGY",eg:"EGY",EGY:"eg",SV:"SLV",sv:"SLV",SLV:"sv",GQ:"GNQ",gq:"GNQ",GNQ:"gq",ER:"ERI",er:"ERI",ERI:"er",EE:"EST",ee:"EST",EST:"ee",ET:"ETH",et:"ETH",ETH:"et",FK:"FLK",fk:"FLK",FLK:"fk",FO:"FRO",fo:"FRO",FRO:"fo",FJ:"FJI",fj:"FJI",FJI:"fj",FI:"FIN",fi:"FIN",FIN:"fi",FR:"FRA",fr:"FRA",FRA:"fr",PF:"PYF",pf:"PYF",PYF:"pf",GA:"GAB",ga:"GAB",GAB:"ga",GM:"GMB",gm:"GMB",GMB:"gm",GE:"GEO",ge:"GEO",GEO:"ge",DE:"DEU",de:"DEU",DEU:"de",GH:"GHA",gh:"GHA",GHA:"gh",GI:"GIB",gi:"GIB",GIB:"gi",GR:"GRC",gr:"GRC",GRC:"gr",GL:"GRL",gl:"GRL",GRL:"gl",GD:"GRD",gd:"GRD",GRD:"gd",GU:"GUM",gu:"GUM",GUM:"gu",GT:"GTM",gt:"GTM",GTM:"gt",GN:"GIN",gn:"GIN",GIN:"gn",GW:"GNB",gw:"GNB",GNB:"gw",GY:"GUY",gy:"GUY",GUY:"gy",HT:"HTI",ht:"HTI",HTI:"ht",VA:"VAT",va:"VAT",VAT:"va",HN:"HND",hn:"HND",HND:"hn",HK:"HKG",hk:"HKG",HKG:"hk",HU:"HUN",hu:"HUN",HUN:"hu",IS:"IS ",is:"IS ","IS ":"is",IN:"IND","in":"IND",IND:"in",ID:"IDN",id:"IDN",IDN:"id",IR:"IRN",ir:"IRN",IRN:"ir",IQ:"IRQ",iq:"IRQ",IRQ:"iq",IE:"IRL",ie:"IRL",IRL:"ie",IM:"IMN",im:"IMN",IMN:"im",IL:"ISR",il:"ISR",ISR:"il",IT:"ITA",it:"ITA",ITA:"it",CI:"CIV",ci:"CIV",CIV:"ci",JM:"JAM",jm:"JAM",JAM:"jm",JP:"JPN",jp:"JPN",JPN:"jp",JE:"JEY",je:"JEY",JEY:"je",JO:"JOR",jo:"JOR",JOR:"jo",KZ:"KAZ",kz:"KAZ",KAZ:"kz",KE:"KEN",ke:"KEN",KEN:"ke",KI:"KIR",ki:"KIR",KIR:"ki",KW:"KWT",kw:"KWT",KWT:"kw",KG:"KGZ",kg:"KGZ",KGZ:"kg",LA:"LAO",la:"LAO",LAO:"la",LV:"LVA",lv:"LVA",LVA:"lv",LB:"LBN",lb:"LBN",LBN:"lb",LS:"LSO",ls:"LSO",LSO:"ls",LR:"LBR",lr:"LBR",LBR:"lr",LY:"LBY",ly:"LBY",LBY:"ly",LI:"LIE",li:"LIE",LIE:"li",LT:"LTU",lt:"LTU",LTU:"lt",LU:"LUX",lu:"LUX",LUX:"lu",MO:"MAC",mo:"MAC",MAC:"mo",MK:"MKD",mk:"MKD",MKD:"mk",MG:"MDG",mg:"MDG",MDG:"mg",MW:"MWI",mw:"MWI",MWI:"mw",MY:"MYS",my:"MYS",MYS:"my",MV:"MDV",mv:"MDV",MDV:"mv",ML:"MLI",ml:"MLI",MLI:"ml",MT:"MLT",mt:"MLT",MLT:"mt",MH:"MHL",mh:"MHL",MHL:"mh",MR:"MRT",mr:"MRT",MRT:"mr",MU:"MUS",mu:"MUS",MUS:"mu",YT:"MYT",yt:"MYT",MYT:"yt",MX:"MEX",mx:"MEX",MEX:"mx",FM:"FSM",fm:"FSM",FSM:"fm",MD:"MDA",md:"MDA",MDA:"md",MC:"MCO",mc:"MCO",MCO:"mc",MN:"MNG",mn:"MNG",MNG:"mn",ME:"MNE",me:"MNE",MNE:"me",MS:"MSR",ms:"MSR",MSR:"ms",MA:"MAR",ma:"MAR",MAR:"ma",MZ:"MOZ",mz:"MOZ",MOZ:"mz",NA:"NAM",na:"NAM",NAM:"na",NR:"NRU",nr:"NRU",NRU:"nr",NP:"NPL",np:"NPL",NPL:"np",NL:"NLD",nl:"NLD",NLD:"nl",AN:"ANT",an:"ANT",ANT:"an",NC:"NCL",nc:"NCL",NCL:"nc",NZ:"NZL",nz:"NZL",NZL:"nz",NI:"NIC",ni:"NIC",NIC:"ni",NE:"NER",ne:"NER",NER:"ne",NG:"NGA",ng:"NGA",NGA:"ng",NU:"NIU",nu:"NIU",NIU:"nu",KP:"PRK",kp:"PRK",PRK:"kp",MP:"MNP",mp:"MNP",MNP:"mp",NO:"NOR",no:"NOR",NOR:"no",OM:"OMN",om:"OMN",OMN:"om",PK:"PAK",pk:"PAK",PAK:"pk",PW:"PLW",pw:"PLW",PLW:"pw",PA:"PAN",pa:"PAN",PAN:"pa",PG:"PNG",pg:"PNG",PNG:"pg",PY:"PRY",py:"PRY",PRY:"py",PE:"PER",pe:"PER",PER:"pe",PH:"PHL",ph:"PHL",PHL:"ph",PN:"PCN",pn:"PCN",PCN:"pn",PL:"POL",pl:"POL",POL:"pl",PT:"PRT",pt:"PRT",PRT:"pt",PR:"PRI",pr:"PRI",PRI:"pr",QA:"QAT",qa:"QAT",QAT:"qa",CG:"COG",cg:"COG",COG:"cg",RO:"ROU",ro:"ROU",ROU:"ro",RU:"RUS",ru:"RUS",RUS:"ru",RW:"RWA",rw:"RWA",RWA:"rw",BL:"BLM",bl:"BLM",BLM:"bl",SH:"SHN",sh:"SHN",SHN:"sh",KN:"KNA",kn:"KNA",KNA:"kn",LC:"LCA",lc:"LCA",LCA:"lc",MF:"MAF",mf:"MAF",MAF:"mf",PM:"SPM",pm:"SPM",SPM:"pm",VC:"VCT",vc:"VCT",VCT:"vc",WS:"WSM",ws:"WSM",WSM:"ws",SM:"SMR",sm:"SMR",SMR:"sm",ST:"STP",st:"STP",STP:"st",SA:"SAU",sa:"SAU",SAU:"sa",SN:"SEN",sn:"SEN",SEN:"sn",RS:"SRB",rs:"SRB",SRB:"rs",SC:"SYC",sc:"SYC",SYC:"sc",SL:"SLE",sl:"SLE",SLE:"sl",SG:"SGP",sg:"SGP",SGP:"sg",SK:"SVK",sk:"SVK",SVK:"sk",SI:"SVN",si:"SVN",SVN:"si",SB:"SLB",sb:"SLB",SLB:"sb",SO:"SOM",so:"SOM",SOM:"so",ZA:"ZAF",za:"ZAF",ZAF:"za",KR:"KOR",kr:"KOR",KOR:"kr",ES:"ESP",es:"ESP",ESP:"es",LK:"LKA",lk:"LKA",LKA:"lk",SD:"SDN",sd:"SDN",SDN:"sd",SR:"SUR",sr:"SUR",SUR:"sr",SJ:"SJM",sj:"SJM",SJM:"sj",SZ:"SWZ",sz:"SWZ",SWZ:"sz",SE:"SWE",se:"SWE",SWE:"se",CH:"CHE",ch:"CHE",CHE:"ch",SY:"SYR",sy:"SYR",SYR:"sy",TW:"TWN",tw:"TWN",TWN:"tw",TJ:"TJK",tj:"TJK",TJK:"tj",TZ:"TZA",tz:"TZA",TZA:"tz",TH:"THA",th:"THA",THA:"th",TL:"TLS",tl:"TLS",TLS:"tl",TG:"TGO",tg:"TGO",TGO:"tg",TK:"TKL",tk:"TKL",TKL:"tk",TO:"TON",to:"TON",TON:"to",TT:"TTO",tt:"TTO",TTO:"tt",TN:"TUN",tn:"TUN",TUN:"tn",TR:"TUR",tr:"TUR",TUR:"tr",TM:"TKM",tm:"TKM",TKM:"tm",TC:"TCA",tc:"TCA",TCA:"tc",TV:"TUV",tv:"TUV",TUV:"tv",UG:"UGA",ug:"UGA",UGA:"ug",UA:"UKR",ua:"UKR",UKR:"ua",AE:"ARE",ae:"ARE",ARE:"ae",GB:"GBR",gb:"GBR",GBR:"gb",US:"USA",us:"USA",USA:"us",UY:"URY",uy:"URY",URY:"uy",VI:"VIR",vi:"VIR",VIR:"vi",UZ:"UZB",uz:"UZB",UZB:"uz",VU:"VUT",vu:"VUT",VUT:"vu",VE:"VEN",ve:"VEN",VEN:"ve",VN:"VNM",vn:"VNM",VNM:"vn",WF:"WLF",wf:"WLF",WLF:"wf",EH:"ESH",eh:"ESH",ESH:"eh",YE:"YEM",ye:"YEM",YEM:"ye",ZM:"ZMB",zm:"ZMB",ZMB:"zm",ZW:"ZWE",zw:"ZWE",ZWE:"zw"};y.other.mapRegions={ae:"United Arab Emirates",af:"Afghanistan",ag:"Antigua and Barbuda",al:"Albania",am:"Armenia",ao:"Angola",ar:"Argentina",at:"Austria",au:"Australia",az:"Azerbaijan",ba:"Bosnia and Herzegovina",bb:"Barbados",bd:"Bangladesh",be:"Belgium",bf:"Burkina Faso",bg:"Bulgaria",bi:"Burundi",bj:"Benin",bn:"Brunei Darussalam",bo:"Bolivia",br:"Brazil",bs:"Bahamas",bt:"Bhutan",bw:"Botswana",by:"Belarus",bz:"Belize",ca:"Canada",cd:"Congo",cf:"Central African Republic",cg:"Congo",ch:"Switzerland",ci:"Cote d'Ivoire",cl:"Chile",cm:"Cameroon",cn:"China",co:"Colombia",cr:"Costa Rica",cu:"Cuba",cv:"Cape Verde",cy:"Cyprus",cz:"Czech Republic",de:"Germany",dj:"Djibouti",dk:"Denmark",dm:"Dominica","do":"Dominican Republic",dz:"Algeria",ec:"Ecuador",ee:"Estonia",eg:"Egypt",er:"Eritrea",es:"Spain",et:"Ethiopia",fi:"Finland",fj:"Fiji",fk:"Falkland Islands",fr:"France",ga:"Gabon",gb:"United Kingdom",gd:"Grenada",ge:"Georgia",gf:"French Guiana",gh:"Ghana",gl:"Greenland",gm:"Gambia",gn:"Guinea",gq:"Equatorial Guinea",gr:"Greece",gt:"Guatemala",gw:"Guinea-Bissau",gy:"Guyana",hn:"Honduras",hr:"Croatia",ht:"Haiti",hu:"Hungary",id:"Indonesia",ie:"Ireland",il:"Israel","in":"India",iq:"Iraq",ir:"Iran",is:"Iceland",it:"Italy",jm:"Jamaica",jo:"Jordan",jp:"Japan",ke:"Kenya",kg:"Kyrgyz Republic",kh:"Cambodia",km:"Comoros",kn:"Saint Kitts and Nevis",kp:"North Korea",kr:"South Korea",kw:"Kuwait",kz:"Kazakhstan",la:"Lao People's Democratic Republic",lb:"Lebanon",lc:"Saint Lucia",lk:"Sri Lanka",lr:"Liberia",ls:"Lesotho",lt:"Lithuania",lv:"Latvia",ly:"Libya",ma:"Morocco",md:"Moldova",mg:"Madagascar",mk:"Macedonia",ml:"Mali",mm:"Myanmar",mn:"Mongolia",mr:"Mauritania",mt:"Malta",mu:"Mauritius",mv:"Maldives",mw:"Malawi",mx:"Mexico",my:"Malaysia",mz:"Mozambique",na:"Namibia",nc:"New Caledonia",ne:"Niger",ng:"Nigeria",ni:"Nicaragua",nl:"Netherlands",no:"Norway",np:"Nepal",nz:"New Zealand",om:"Oman",pa:"Panama",pe:"Peru",pf:"French Polynesia",pg:"Papua New Guinea",ph:"Philippines",pk:"Pakistan",pl:"Poland",pt:"Portugal",py:"Paraguay",qa:"Qatar",re:"Reunion",ro:"Romania",rs:"Serbia",ru:"Russian Federationß",rw:"Rwanda",sa:"Saudi Arabia",sb:"Solomon Islands",sc:"Seychelles",sd:"Sudan",se:"Sweden",si:"Slovenia",sk:"Slovakia",sl:"Sierra Leone",sn:"Senegal",so:"Somalia",sr:"Suriname",st:"Sao Tome and Principe",sv:"El Salvador",sy:"Syrian Arab Republic",sz:"Swaziland",td:"Chad",tg:"Togo",th:"Thailand",tj:"Tajikistan",tl:"Timor-Leste",tm:"Turkmenistan",tn:"Tunisia",tr:"Turkey",tt:"Trinidad and Tobago",tw:"Taiwan",tz:"Tanzania",ua:"Ukraine",ug:"Uganda",us:"United States of America",uy:"Uruguay",uz:"Uzbekistan",ve:"Venezuela",vn:"Vietnam",vu:"Vanuatu",ye:"Yemen",za:"South Africa",zm:"Zambia",zw:"Zimbabwe"};y.createInfovisGraph=function(e){var t;e.width=$("#"+e.container).innerWidth(),e.height=$("#"+e.container).innerHeight();if(e.type=="radialGraph"){t=y.createInfovisRadialGraph}else if(e.type=="hyperTree"){t=y.createInfovisHyperTree}else if(e.type=="spaceTree"){t=y.createInfovisSpaceTree}$("#"+e.container).html("");t(e)};y.createInfovisRadialGraph=function(e){var t=new $jit.RGraph({injectInto:e.container,width:e.width,height:e.height,background:{CanvasStyles:{strokeStyle:"#aaaaaa"}},Navigation:{enable:true,panning:true},Node:{dim:5,color:"#aaaaaa",overridable:true},Edge:{color:"#c17878",lineWidth:1.2},Tips:{enable:false,offsetX:20,offsetY:20},Label:{type:"HTML",size:11,style:"bold",color:"#222222"},onBeforeCompute:function(t){e.onClick(t.data)},onCreateLabel:function(e,a){e.innerHTML=a.name;e.onclick=function(){t.onClick(a.id,{onComplete:function(){}})}},onPlaceLabel:function(e,t){var a=e.style;a.display="";a.cursor="pointer";if(t._depth<=1){a.fontSize="11px";a.color="#333333"}else if(t._depth==2){a.fontSize="10px";a.color="#494949"}else{a.fontSize="8px";a.color="#494949"}var i=parseInt(a.left);var s=e.offsetWidth;a.left=i-s/2+"px"}});t.loadJSON(e.data);t.graph.eachNode(function(e){var t=e.getPos();t.setc(-200,-200)});t.compute("end");t.fx.animate({modes:["polar"],duration:1e3})};y.createInfovisHyperTree=function(e){var t=new $jit.Hypertree({injectInto:e.container,width:e.width,height:e.height,duration:1500,Node:{dim:5,color:"#aaaaaa",overridable:true},Edge:{color:"#008888",lineWidth:1.2},Tips:{enable:false,offsetX:20,offsetY:20},onBeforeCompute:function(t){e.onClick(t.data)},onCreateLabel:function(e,a){e.innerHTML=a.name;$jit.util.addEvent(e,"click",function(){t.onClick(a.id,{onComplete:function(){}})})},onPlaceLabel:function(e,t){var a=e.style;a.display="";a.cursor="pointer";if(t._depth<=1){a.fontSize="11px";a.color="#333333"}else if(t._depth==2){a.fontSize="10px";a.color="#333333"}else{a.fontSize="8px";a.color="#333333"}var i=parseInt(a.left);var s=e.offsetWidth;a.left=i-s/2+"px"}});t.loadJSON(e.data);t.refresh();t.controller.onComplete()};y.createInfovisSpaceTree=function(e){var t=new $jit.ST({injectInto:e.container,width:e.width,height:e.height,duration:600,levelsToShow:10,transition:$jit.Trans.Quart.easeInOut,levelDistance:30,orientation:"bottom",Navigation:{enable:true,panning:true},Node:{height:40,width:200,type:"rectangle",color:"#cccccc",overridable:true},Edge:{type:"bezier",overridable:true,lineWidth:1.2},Tips:{enable:false,offsetX:20,offsetY:20},onBeforeCompute:function(e){},onAfterCompute:function(){},onCreateLabel:function(a,i){a.id=i.id;a.innerHTML=i.name;a.onclick=function(){t.onClick(i.id);e.onClick(i.data)};var s=a.style;s.width="200px";s.height="40px";s.cursor="pointer";s.color="#333333";s.fontSize="12px";s.textAlign="center";s.paddingTop="3px";s.paddingLeft="3px"},onBeforePlotNode:function(e){if(e.selected){e.data.$color="#ffff77"}else{delete e.data.$color;if(!e.anySubnode("exist")){var t=0;e.eachSubnode(function(e){t++});e.data.$color=["#aaa","#baa","#caa","#daa","#eaa","#faa"][t]}}},onBeforePlotLine:function(e){if(e.nodeFrom.selected&&e.nodeTo.selected){e.data.$color="#eeeedd";e.data.$lineWidth=3}else{delete e.data.$color;delete e.data.$lineWidth}}});t.loadJSON(e.data);t.compute();t.geom.translate(new $jit.Complex(-200,0),"current");t.onClick(t.root)};window.Bloonix=y})();